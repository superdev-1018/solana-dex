(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4054],{32786:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/trade",function(){return n(91775)}])},91775:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return ea}});var l=n(85893),s=n(67294),i=n(66180),o=n(91371),a=n(19132),r=n(57435),c=n(94355),d=n(48911),u=n(57730),m=n(65942),x=n(23685),h=n(23127),p=n(38389),f=n(18739),v=n(18559),Z=n(42186),j=n(31166),b=n(53002),y=n(99522),g=n(11601),w=n(43067),N=n(70745),S=n(97664),C=n(54592),k=n(23484),T=n(88132),P=n(28948),F=n(48162),I=n(82727),R=n(11583),B=n(42885),E=n(51800),A=n(29197),D=n(92618),L=n(91148),M=n(56419),O=n(90547),W=n(3363),V=n(18074),z=n(62952),_=n(4465),q=n(81451),U=n(51523),H=n(72573),$=n(32825),X=n(99111),Y=n(43066),K=n(96398),G=n(85356),J=n(99779),Q=n(92224),ee=n(87980),et=n(41456),en=n(7931),el=n(51488);function es(){return(0,p.Z)(),(0,f.Z)(),(0,h.o)(),null}let{ContextProvider:ei,useStore:eo}=(0,$.Z)({hasAcceptedPriceChange:!1,coinInputBox1ComponentRef:(0,s.createRef)(),coinInputBox2ComponentRef:(0,s.createRef)(),swapButtonComponentRef:(0,s.createRef)()});function ea(){let[e,t]=(0,s.useState)(!1);return(0,l.jsxs)(ei,{children:[(0,l.jsx)(es,{}),(0,l.jsxs)(B.Z,{mobileBarTitle:"Swap",metaTitle:"Swap - Raydium",children:[(0,l.jsx)(E.Z,{className:"justify-center  mb-12 mobile:mb-2",children:(0,l.jsx)(A.Z,{currentValue:"buy",values:["buy","sell"],onChange:e=>{"sell"===e&&t(!0)}})}),(0,l.jsxs)(E.Z,{className:"justify-center  mb-12 mobile:mb-2 gap-8",children:[(0,l.jsx)(ed,{type:e}),(0,l.jsx)(eu,{type:e})]})]})]})}function er(){let e=(0,x.Z)(e=>e.directionReversed),t=(0,x.Z)(e=>e.coin1),n=(0,x.Z)(e=>e.coin2),i=e?t:n,o=(0,j.ZP)(e=>{var t;return null===(t=e.tokenListSettings[j.pI])||void 0===t?void 0:t.mints}),[a,r]=(0,G.Z)("USER_CONFIRMED_SWAP_TOKENS"),d=!!(i&&((null==o?void 0:o.size)===0||(null==o?void 0:o.has(null==i?void 0:i.mintString)))),u=!!(i&&(null==a?void 0:a.includes(null==i?void 0:i.mintString))),[m,h]=(0,s.useState)(!1),[p,f]=(0,s.useState)(!1);(0,s.useEffect)(()=>{h(!1)},[i]);let Z=(0,s.useMemo)(()=>i&&(null==i.hasFreeze?(0,v.WX)(i.mint,{noLog:!0}).then(e=>null!=e?!e:void 0):!!i.hasFreeze),[null==i?void 0:i.mintString]),b=(0,X.Z)(()=>Z,[Z],!0===Z),g=()=>{p||(f(!0),c.Z.getState().popConfirm({cardWidth:"lg",type:"warning",title:"Confirm Token Mint Address",description:(0,l.jsxs)("div",{className:"space-y-4  text-center",children:[(0,l.jsx)("p",{className:"text-[#FED33A] font-bold",children:"Confirm the token mint address is correct before swapping!"}),(0,l.jsxs)("p",{children:["Many tokens have ",(0,l.jsx)("span",{className:"text-[#FED33A]",children:"similar or identical"})," token tickers and icons."]}),(0,l.jsx)("p",{children:"By clicking below, you understand that you are fully responsible for confirming the token you are trading."}),(0,l.jsxs)(E.Z,{className:"justify-center items-center gap-2 my-4 bg-[#141041] rounded py-3 w-full",children:[(0,l.jsx)(N.Z,{token:i}),(0,l.jsx)("div",{className:"font-semibold",children:null==i?void 0:i.symbol}),(0,l.jsx)(y.U,{textClassName:"text-[#abc4ff80]",showDigitCount:8,canExternalLink:!0,children:null==i?void 0:i.mint})]}),b&&(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"text-center my-4 text-[#FED33A] font-bold",children:"Freeze Authority Warning"}),(0,l.jsxs)("div",{className:"text-center my-2 text-xs text-[#FED33A]",children:["This token has freeze authority enabled and could",(0,l.jsx)("br",{}),"prevent you from transferring or trading the token later."]})]})]}),confirmButtonIsMainButton:!0,cancelButtonText:"Cancel",confirmButtonText:"I understand, Confirm",onConfirm:()=>{h(!0),f(!1),(null==i?void 0:i.mint)&&r(e=>(0,L.jX)(null!=e?e:[],String(i.mint)))},onCancel:()=>{h(!1),f(!1),x.Z.setState(e?{coin1:void 0}:{coin2:void 0})}}))},w=!i||d||u||m;return(0,s.useEffect)(()=>{!w&&i&&g()},[i,w]),{hasConfirmed:w,popConfirm:g}}function ec(){let e=(0,b.Z)(e=>e.allWsolBalance),t=(0,x.Z)(e=>e.refreshSwap),n=(0,b.Z)(e=>e.connected),[i,o]=(0,s.useState)(!1);return(0,q.gt)(e,0)&&n?(0,l.jsxs)(E.Z,{className:"rounded-lg p-3 bg-[#4069BB] flex justify-center items-center gap-1 mobile:mb-5",children:[(0,l.jsx)(F.Z,{size:"sm",heroIconName:"exclamation-circle",className:"ml-2 text-white"}),(0,l.jsxs)(E.Z,{children:[(0,l.jsxs)("p",{className:"text-xs mobile:text-2xs text-[white]",children:["You have"," ",(0,l.jsx)("span",{className:"text-white",children:(0,H.B)((0,z.n)(Z.FI,e))})," WSOL that you can"," ",(0,l.jsx)("span",{className:"text-[#39D0D8] cursor-pointer font-semibold",onClick:()=>{o(!0),(0,m.Z)().then(e=>{let{allSuccess:n}=e;n&&t(),o(!1)})},children:"Unwrap"})]}),i&&(0,l.jsx)(R.Z,{className:"w-3 h-3 ml-2"})]})]}):null}function ed(e){var t;let{type:n}=e,{connected:i,connecting:d}=(0,b.Z)(),m=(0,x.Z)(e=>e.coin1),h=(0,x.Z)(e=>e.coin2),p=(0,x.Z)(e=>e.coin1Amount),f=(0,x.Z)(e=>e.coin2Amount),v=(0,x.Z)(e=>e.isCoin1CalculateTarget);(0,x.Z)(e=>e.isCoin2CalculateTarget);let y=(0,x.Z)(e=>e.isCalculating),g=(0,x.Z)(e=>e.directionReversed),N=(0,x.Z)(e=>e.priceImpact);(0,x.Z)(e=>e.refreshSwap);let k=(0,b.Z)(e=>e.balances),I=(0,x.Z)(e=>e.preflightCalcResult),R=(0,j.ZP)(e=>e.tokens),B=Object.keys(R).length>2;(0,r.Z)(e=>e.jsonInfos),(0,x.Z)(e=>e.swapable);let A=(0,x.Z)(e=>e.selectedCalcResultPoolStartTimes),L=(0,a.ZP)(e=>e.chainTimeOffset),M=Date.now()+(null!=L?L:0),W=(0,s.useMemo)(()=>{if(null==A?void 0:A.length)return function(e){let t=(0,O.ZP)(e);return"Pool Opens in ".concat(String(t.days).padStart(2,"0"),"D : ").concat(String(t.hours).padStart(2,"0"),"H : ").concat(String(t.minutes).padStart(2,"0"),"M")}(Math.max(...A.map(e=>e.startTime))-M)},[A,M]),_=(0,x.Z)(e=>e.canFindPools),U=(0,x.Z)(e=>e.isInsufficientLiquidity);(0,j.ZP)(e=>e.refreshTokenPrice);let{hasConfirmed:$,popConfirm:X}=er(),Y=g?h:m,K=(g?f:p)||"0",{ConfirmDialog:G}=(0,et.U)({token:m,onConfirm:()=>x.Z.setState({coin1:m}),onCancel:()=>x.Z.setState({coin1:void 0})}),{ConfirmDialog:J}=(0,et.U)({token:h,onConfirm:()=>x.Z.setState({coin2:h}),onCancel:()=>x.Z.setState({coin2:void 0})}),{hasAcceptedPriceChange:es,swapButtonComponentRef:ei,coinInputBox1ComponentRef:ea,coinInputBox2ComponentRef:ed}=eo(),eu=(0,b.Z)(e=>e.checkWalletHasEnoughBalance),ev=(0,s.useMemo)(()=>Y&&eu((0,z.n)(Y,K,{alreadyDecimaled:!0})),[Y,K,eu,k]);(0,s.useCallback)(()=>{x.Z.setState(e=>({directionReversed:!e.directionReversed}))},[]);let[eZ,{on:ej,off:eb}]=(0,Q.ZP)(),[ey,eg]=(0,s.useState)("1"),ew=(0,x.Z)(e=>e.executionPrice),eN=(0,s.useRef)(null),eS=(0,s.useRef)(null),[eC,{toggleSwap:ek}]=(0,en.H)(eN,eS,{defaultHasWrapped:g});(0,s.useEffect)(()=>{x.Z.setState({directionReversed:eC})},[eC]);let eT=m&&(0,q.$u)(p)&&h&&(0,q.$u)(f)&&ew,eP=(0,s.useRef)(null);(0,s.useEffect)(()=>{x.Z.setState({scrollToInputBox:()=>{var e;return null===(e=eP.current)||void 0===e?void 0:e.scrollIntoView({behavior:"smooth",block:"center"})}})},[]);let eF=(0,o.ZP)(e=>e.isApprovePanelShown),eI=(0,s.useMemo)(()=>{if("1"===ey&&h){if(h.symbol===Z.aF.symbol)return[Z.FI];if(h.symbol===Z.FI.symbol)return[Z.aF]}else if("2"===ey&&m){if(m.symbol===Z.aF.symbol)return[Z.FI];if(m.symbol===Z.FI.symbol)return[Z.aF]}return[]},[ey,m,h]),eR=(0,x.Z)(e=>e.selectedCalcResult),eB=null==eR?void 0:eR.expirationTime,[eE,eA]=(0,s.useState)(0===eB),{isWarningChipOpen:eD,badToken:eL,Token2022FeeTooHighWarningChip:eM}=(0,el.I)([{token:m,amount:p},{token:h,amount:f}]);return(0,l.jsxs)(T.Z,{domRef:eP,wrapperClassName:"w-[min(456px,100%)] self-center cyberpunk-bg-light",className:"py-8 pt-4 px-6 mobile:py-5 mobile:px-3",children:[(0,l.jsx)(ec,{}),(0,l.jsxs)("div",{className:"space-y-5 mt-5 mobile:mt-0",children:[(0,l.jsx)(S.Z,{haveCoinIcon:!0,showTokenSelectIcon:!0,topLeftLabel:eC?"To":"From",onTryToTokenSelect:()=>{ej(),eg("1")},onEnter:e=>{var t,n,l,s;e&&(h||null===(t=ed.current)||void 0===t||null===(n=t.selectToken)||void 0===n||n.call(t),h&&f&&(null===(l=ei.current)||void 0===l||null===(s=l.click)||void 0===s||s.call(l)))},token:m,value:v?"0":p?(0,q.eq)(p,0)?"":(0,H.B)(p):void 0,onUserInput:e=>{x.Z.setState({focusSide:"coin1",coin1Amount:e})}}),(0,l.jsx)(E.Z,{className:"relative flex-col bg-[#141041] cursor-text rounded-xl py-3 px-6 mobile:px-4 pointer-events-none-entirely cursor-default opacity-50",children:(0,l.jsx)(C.Z,{className:"items-start",children:(0,l.jsx)("div",{className:"text-[rgb(171,196,255)] max-w-[7em] min-w-[2em] overflow-hidden text-ellipsis font-medium text-base flex-grow mobile:text-sm whitespace-nowrap",children:"Price |"})})}),(0,l.jsx)(E.Z,{className:"relative flex-col bg-[#141041] cursor-text rounded-xl py-3 px-6 mobile:px-4 pointer-events-none-entirely cursor-default opacity-50",children:(0,l.jsx)(C.Z,{className:"items-start",children:(0,l.jsx)("div",{className:"text-[rgb(171,196,255)] max-w-[7em] min-w-[2em] overflow-hidden text-ellipsis font-medium text-base flex-grow mobile:text-sm whitespace-nowrap",children:"Amount |"})})}),(0,l.jsx)(E.Z,{className:"relative flex-col bg-[#141041] cursor-text rounded-xl py-3 px-6 mobile:px-4 pointer-events-none-entirely cursor-default opacity-50",children:(0,l.jsx)(C.Z,{className:"items-start",children:(0,l.jsx)("div",{className:"text-[rgb(171,196,255)] h-5 max-w-[7em] min-w-[2em] overflow-hidden text-ellipsis font-medium text-base flex-grow mobile:text-sm whitespace-nowrap"})})})]}),(0,l.jsx)(P.Z,{show:eT,children:(0,l.jsx)(ef,{className:"mt-5",onExpirationTimeRunToZero:()=>eA(!0)})}),(0,l.jsx)(eh,{}),G,J,eM({className:"pt-5"}),(0,l.jsx)(w.Z,{className:"w-full frosted-glass-teal mt-5",componentRef:ei,isLoading:eF,validators:[{should:B,fallbackProps:{children:"Loading Tokens ..."}},{should:!0,fallbackProps:{children:"Loading Pools ..."}},{should:i,forceActive:!0,fallbackProps:{onClick:()=>o.ZP.setState({isWalletSelectorShown:!0}),children:d?"Connecting...":"Buy"}},{should:Y&&(g?m:h),fallbackProps:{children:"Select a token"}},{should:$,forceActive:!0,fallbackProps:{onClick:X,children:"Confirm unOfficial warning"}},{not:eD},{should:!!I,fallbackProps:{children:"Finding Pool ..."}},{not:eE,fallbackProps:{children:"Token 2022 Expired"}},{should:!U,fallbackProps:{children:(0,l.jsxs)(E.Z,{className:"items-center",children:[(0,l.jsx)("div",{children:"Insufficient Liquidity"}),(0,l.jsxs)(D.Z,{className:"w-full",children:[(0,l.jsx)(F.Z,{size:"sm",heroIconName:"question-mark-circle",className:"ml-2 cursor-help"}),(0,l.jsx)(D.Z.Panel,{children:(0,l.jsx)("p",{className:"w-64",children:"The route for this swap includes a CLMM pool with insufficient in-range liquidity for your swap. Try swapping for a smaller amount or try again later."})})]})]})}},{should:_,fallbackProps:{children:"Pool Not Found"}},{should:!W,fallbackProps:{children:W}},{should:K&&(0,q.$u)(K),fallbackProps:{children:"Enter an amount"}},{should:!y,fallbackProps:{children:"Calculating ..."}},{should:!(0,q.eq)((g?p:f)||"0",0),fallbackProps:{children:"Swap Amount Too Small"}},{should:ev,fallbackProps:{children:"Insufficient ".concat(null!==(t=null==Y?void 0:Y.symbol)&&void 0!==t?t:""," balance")}},{should:es||eF,fallbackProps:{children:"Accept price change"}},{should:N&&(0,q.G)(N,.05),forceActive:!0,fallbackProps:{onClick:e=>{let{ev:t}=e;return t.stopPropagation(),function(e){let{priceImpact:t}=e;c.Z.getState().popConfirm({type:"error",title:"High Price Impact Warning",description:(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)("p",{children:["Price impact for this swap is"," ",(0,l.jsx)("span",{className:"text-[#DA2EEF]",children:t?(0,V.Z)(t):"higher than 5%"})]}),(0,l.jsx)("p",{children:"Confirming may result in a poor price for this swap!"})]}),confirmButtonText:"Swap Anyway",onConfirm:u.Z})}({priceImpact:N})}}}],onClick:u.Z,children:"Swap"}),(0,l.jsx)(ep,{}),(0,l.jsx)(ee.Z,{open:eZ,onSelectToken:e=>{"1"===ey?ex(m,e)||(x.Z.setState({coin1:e,[g?"isCoin1CalculateTarget":"isCoin2CalculateTarget"]:!0}),em(e,h)||x.Z.setState({coin2:void 0})):ex(h,e)||(x.Z.setState({coin2:e,[g?"isCoin1CalculateTarget":"isCoin2CalculateTarget"]:!0}),em(e,m)||x.Z.setState({coin1:void 0})),eb()},onClose:eb,disableTokens:eI})]})}function eu(e){let{type:t}=e,{connected:n,connecting:i}=(0,b.Z)(),c=(0,x.Z)(e=>e.coin1),d=(0,x.Z)(e=>e.coin2),u=(0,x.Z)(e=>e.coin1Amount),m=(0,x.Z)(e=>e.coin2Amount);(0,x.Z)(e=>e.isCoin1CalculateTarget),(0,x.Z)(e=>e.isCoin2CalculateTarget),(0,x.Z)(e=>e.isCalculating);let h=(0,x.Z)(e=>e.directionReversed);(0,x.Z)(e=>e.priceImpact),(0,x.Z)(e=>e.refreshSwap);let p=(0,b.Z)(e=>e.balances);(0,x.Z)(e=>e.preflightCalcResult);let f=(0,j.ZP)(e=>e.tokens);Object.keys(f).length,(0,r.Z)(e=>e.jsonInfos),(0,x.Z)(e=>e.swapable);let v=(0,x.Z)(e=>e.selectedCalcResultPoolStartTimes),y=(0,a.ZP)(e=>e.chainTimeOffset),g=Date.now()+(null!=y?y:0);(0,s.useMemo)(()=>{if(null==v?void 0:v.length)return function(e){let t=(0,O.ZP)(e);return"Pool Opens in ".concat(String(t.days).padStart(2,"0"),"D : ").concat(String(t.hours).padStart(2,"0"),"H : ").concat(String(t.minutes).padStart(2,"0"),"M")}(Math.max(...v.map(e=>e.startTime))-g)},[v,g]),(0,x.Z)(e=>e.canFindPools),(0,x.Z)(e=>e.isInsufficientLiquidity),(0,j.ZP)(e=>e.refreshTokenPrice);let{hasConfirmed:w,popConfirm:N}=er(),S=h?d:c,k=(h?m:u)||"0",{ConfirmDialog:F}=(0,et.U)({token:c,onConfirm:()=>x.Z.setState({coin1:c}),onCancel:()=>x.Z.setState({coin1:void 0})}),{ConfirmDialog:I}=(0,et.U)({token:d,onConfirm:()=>x.Z.setState({coin2:d}),onCancel:()=>x.Z.setState({coin2:void 0})}),{hasAcceptedPriceChange:R,swapButtonComponentRef:B,coinInputBox1ComponentRef:A,coinInputBox2ComponentRef:D}=eo(),L=(0,b.Z)(e=>e.checkWalletHasEnoughBalance);(0,s.useMemo)(()=>S&&L((0,z.n)(S,k,{alreadyDecimaled:!0})),[S,k,L,p]),(0,s.useCallback)(()=>{x.Z.setState(e=>({directionReversed:!e.directionReversed}))},[]);let[M,{on:W,off:V}]=(0,Q.ZP)(),[_,U]=(0,s.useState)("1"),H=(0,x.Z)(e=>e.executionPrice),$=(0,s.useRef)(null),X=(0,s.useRef)(null),[Y,{toggleSwap:K}]=(0,en.H)($,X,{defaultHasWrapped:h});(0,s.useEffect)(()=>{x.Z.setState({directionReversed:Y})},[Y]);let G=c&&(0,q.$u)(u)&&d&&(0,q.$u)(m)&&H,J=(0,s.useRef)(null);(0,s.useEffect)(()=>{x.Z.setState({scrollToInputBox:()=>{var e;return null===(e=J.current)||void 0===e?void 0:e.scrollIntoView({behavior:"smooth",block:"center"})}})},[]),(0,o.ZP)(e=>e.isApprovePanelShown),(0,s.useMemo)(()=>{if("1"===_&&d){if(d.symbol===Z.aF.symbol)return[Z.FI];if(d.symbol===Z.FI.symbol)return[Z.aF]}else if("2"===_&&c){if(c.symbol===Z.aF.symbol)return[Z.FI];if(c.symbol===Z.FI.symbol)return[Z.aF]}return[]},[_,c,d]);let ee=(0,x.Z)(e=>e.selectedCalcResult),es=null==ee?void 0:ee.expirationTime,[ei,ea]=(0,s.useState)(0===es),{isWarningChipOpen:ed,badToken:eu,Token2022FeeTooHighWarningChip:em}=(0,el.I)([{token:c,amount:u},{token:d,amount:m}]);return(0,l.jsxs)(T.Z,{domRef:J,wrapperClassName:"w-[min(456px,100%)] self-center cyberpunk-bg-light",className:"py-8 pt-4 px-6 mobile:py-5 mobile:px-3",children:[(0,l.jsx)(ec,{}),(0,l.jsxs)("div",{className:"space-y-5 mt-5 mobile:mt-0 text-center h-[360px]",children:[(0,l.jsx)("h2",{children:"Order Book"}),(0,l.jsxs)(E.Z,{className:"relative flex-col justify-between gap-5 bg-[#141041] cursor-text rounded-xl py-3 px-6 mobile:px-4 pointer-events-none-entirely cursor-default opacity-50",children:[(0,l.jsxs)(E.Z,{className:"flex justify-between",children:[(0,l.jsx)(C.Z,{className:"items-start",children:"Buyer"}),(0,l.jsx)(C.Z,{className:"items-start"}),(0,l.jsx)(C.Z,{className:"items-start",children:"Seller"})]}),(0,l.jsxs)(E.Z,{className:"flex justify-between",children:[(0,l.jsx)(C.Z,{className:"items-start",children:"Size (BLOW)"}),(0,l.jsx)(C.Z,{className:"items-start",children:"Price (USDC)"}),(0,l.jsx)(C.Z,{className:"items-start",children:"Size (BLOW)"})]})]})]}),(0,l.jsx)(P.Z,{show:G,children:(0,l.jsx)(ef,{className:"mt-5",onExpirationTimeRunToZero:()=>ea(!0)})}),(0,l.jsx)(eh,{}),F,I,em({className:"pt-5"})]})}function em(e,t){return(0,Z.Dn)(e)&&(0,Z.Ee)(t)||(0,Z.Ee)(e)&&(0,Z.Dn)(t)||!(0,_.aT)(null==e?void 0:e.mint,null==t?void 0:t.mint)}function ex(e,t){return(null==e?void 0:e.mint)===t.mint}function eh(){let{hasAcceptedPriceChange:e,setHasAcceptedPriceChange:t}=eo(),n=(0,o.ZP)(e=>e.isApprovePanelShown),i=(0,x.Z)(e=>e.coin1),a=(0,x.Z)(e=>e.coin2),r=(0,x.Z)(e=>e.coin1Amount),c=(0,x.Z)(e=>e.coin2Amount),d=(0,x.Z)(e=>e.directionReversed),u=d?"coin2":"coin1",m="coin1"===u?i:a,h="coin1"===u?r:c,p="coin1"===u?a:i,f="coin1"===u?c:r,v=(0,s.useRef)(!1);(0,J.P)(e=>{let[n,l,s,i,o]=e,a=null!=n&&n!==m,r=!!(h&&(0,q.$u)(l)&&!(0,q.eq)(l,h)),c=null!=s&&s!==p,u=!!(f&&(0,q.$u)(i)&&!(0,q.eq)(i,f)),x=null!=o&&o!==d,Z=!a&&!r&&!c&&!u&&!x;Z?t(!0):!Z&&(r||a||c||x)?(t(!0),v.current=!0):u&&(v.current||r||t(!u),v.current=!1)},[m,h,p,f,d]);let Z=(0,q.$u)(r)&&(0,q.$u)(c);return(0,l.jsx)(P.U,{children:Z&&!e&&!n&&(0,l.jsxs)(E.Z,{className:"mt-5 bg-[#141041] rounded-xl py-2 px-6 mobile:px-4 items-center justify-between",children:[(0,l.jsxs)(E.Z,{className:"text-sm font-medium text-[#ABC4FF] items-center ",children:["Price updated",(0,l.jsxs)(D.Z,{placement:"bottom-right",children:[(0,l.jsx)(F.Z,{size:"sm",heroIconName:"question-mark-circle",className:"ml-2 cursor-help"}),(0,l.jsx)(D.Z.Panel,{children:(0,l.jsx)("p",{className:"w-80",children:"Price has changed since your swap amount was entered."})})]})]}),(0,l.jsx)(w.Z,{size:"sm",className:"frosted-glass-teal",onClick:()=>t(!0),children:"Accept"})]})})}function ep(){let e=(0,b.Z)(e=>e.solBalance),t=(0,U.hi)(e,10**Z.Bk);return(0,l.jsx)(P.U,{children:t&&(0,q.lt)(t,Z.kn)&&(0,q.eg)(t,0)&&(0,l.jsxs)(E.Z,{className:"text-sm mt-4 text-[#D8CB39] items-center justify-center",children:["SOL balance: ",(0,H.B)(t)," ",(0,l.jsxs)(D.Z,{placement:"bottom-right",children:[(0,l.jsx)(F.Z,{size:"sm",heroIconName:"question-mark-circle",className:"ml-2 cursor-help"}),(0,l.jsx)(D.Z.Panel,{children:(0,l.jsxs)("p",{className:"w-80",children:["SOL is needed for Solana network fees. A minimum balance of ",Z.kn," SOL is recommended to avoid failed transactions. This swap will leave you with less than ",Z.kn," SOL."]})})]})]})})}function ef(e){var t,n,a,r,c,d,u,m,h,p,f;let{className:v,onExpirationTimeRunToZero:b}=e,y=(0,o.ZP)(e=>e.slippageTolerance),w=(0,o.ZP)(e=>e.slippageToleranceState),N=(0,j.ZP)(e=>e.getToken),S=(0,x.Z)(e=>e.priceImpact),T=(0,x.Z)(e=>e.coin1),P=(0,x.Z)(e=>e.coin2),R=(0,x.Z)(e=>e.directionReversed),B=R?P:T,A=R?T:P;(0,x.Z)(e=>e.focusSide);let D=(0,x.Z)(e=>e.minReceived),L=(0,x.Z)(e=>e.fee),O=(0,x.Z)(e=>e.maxSpent),W=(0,x.Z)(e=>e.selectedCalcResult),_=(0,x.Z)(e=>e.selectedCalcResultPoolStartTimes),$=(0,s.useMemo)(()=>(0,q.$u)(S)&&(0,q.eg)(S,.05),[S]),X=(0,s.useMemo)(()=>(0,q.$u)(S)&&(0,q.eg)(S,.01),[S]),Y=N((null==W?void 0:W.routeType)==="route"?W.middleToken.mint:void 0),K=B&&A?(null==W?void 0:W.routeType)==="amm"?"Raydium Pool":(null==W?void 0:W.routeType)==="route"?(0,l.jsx)(eZ,{startSymbol:null!==(t=null==B?void 0:B.symbol)&&void 0!==t?t:"",middleSymbol:null!==(n=null==Y?void 0:Y.symbol)&&void 0!==n?n:"",endSymbol:null!==(a=null==A?void 0:A.symbol)&&void 0!==a?a:"",poolTypes:W.poolType}):"Others":void 0,G=(0,o.ZP)(e=>e.isApprovePanelShown),J=(0,s.useMemo)(()=>{var e;return!!(null==W?void 0:null===(e=W.poolKey)||void 0===e?void 0:e.some(e=>5===e.version))},[W]),Q=B&&(null==W?void 0:W.amountIn.fee)&&(0,z.n)(B,W.amountIn.fee,{alreadyDecimaled:!0}),ee=A&&(null==W?void 0:W.amountOut.fee)&&(0,z.n)(A,W.amountOut.fee,{alreadyDecimaled:!0}),et=Y&&(null==W?void 0:W.routeType)==="route"&&(null==W?void 0:W.minMiddleAmountFee)?W.minMiddleAmountFee:void 0,en=null==W?void 0:W.expirationTime;return(0,l.jsxs)(C.Z,{className:(0,i.m)("pt-5 pb-4 px-6 flex-grow border-1.5  ".concat($?"border-[#DA2EEF]":X?"border-[rgba(216,203,57,.5)]":"border-[rgba(171,196,255,.5)]"," rounded-xl items-center gap-3 transition-colors"),v),children:[K&&(0,l.jsx)(ey,{fieldName:"Swapping Through",fieldValue:(0,l.jsxs)(E.Z,{className:"items-center gap-2",children:[(null==W?void 0:W.routeType)==="amm"&&(null==W?void 0:W.poolType)&&(0,l.jsx)(g.C,{className:"self-center",children:W.poolType}),(0,l.jsx)("div",{children:K})]}),tooltipContent:"This venue gave the best price for your trade"}),O?(0,l.jsx)(ey,{fieldName:"Maximum Spent",fieldValue:"".concat((0,H.B)(O,{decimalLength:"auto ".concat(null==B?void 0:B.decimals)})," ").concat(null!==(r=null==B?void 0:B.symbol)&&void 0!==r?r:"--"),tooltipContent:"The max amount of tokens you will spend on this trade"}):(0,l.jsx)(ey,{fieldName:"Minimum Received",fieldValue:"".concat((0,H.B)(D,{decimalLength:"auto ".concat(null==A?void 0:A.decimals)})," ").concat(null!==(c=null==A?void 0:A.symbol)&&void 0!==c?c:"--"),tooltipContent:"The least amount of tokens you will recieve on this trade"}),(0,l.jsx)(ey,{fieldName:"Price Impact",fieldNameTextColor:$?"#DA2EEF":X?"#D8CB39":void 0,fieldValue:S?(0,q.lt)(S,.001)?"<0.1%":(0,V.Z)(S):"--",fieldValueTextColor:$?"#DA2EEF":X?"#D8CB39":"#39D0D8",tooltipContent:"The difference between the market price and estimated price due to trade size"}),(0,q.eg)(Q,0)&&(0,l.jsx)(ey,{fieldName:"Transfer Fee (".concat(null!==(d=null==B?void 0:B.symbol)&&void 0!==d?d:"--",")"),fieldValue:"".concat((0,H.B)(Q)," ").concat(null!==(u=null==B?void 0:B.symbol)&&void 0!==u?u:"--")}),(0,q.eg)(et,0)&&(0,l.jsx)(ey,{fieldName:"Transfer Fee (".concat(null!==(m=null==Y?void 0:Y.symbol)&&void 0!==m?m:"--",")"),fieldValue:"".concat((0,H.B)(et)," ").concat(null!==(h=null==Y?void 0:Y.symbol)&&void 0!==h?h:"--")}),(0,q.eg)(ee,0)&&(0,l.jsx)(ey,{fieldName:"Transfer Fee (".concat(null!==(p=null==A?void 0:A.symbol)&&void 0!==p?p:"--",")"),fieldValue:"".concat((0,H.B)(ee)," ").concat(null!==(f=null==A?void 0:A.symbol)&&void 0!==f?f:"--")}),en&&(0,l.jsx)(ey,{fieldName:"Expiration Time",fieldValue:(0,l.jsx)(ev,{remainSeconds:en,onReachZeroSeconds:b})}),(0,l.jsxs)(k.Z,{openDirection:"upwards",className:"w-full",children:[(0,l.jsx)(k.Z.Body,{children:(0,l.jsxs)(C.Z,{className:"gap-3 pb-3",children:[(0,l.jsx)(ey,{fieldName:"Addresses",tooltipContent:(0,l.jsx)(eg,{})}),(0,l.jsx)(ey,{fieldName:"Slippage Tolerance",tooltipContent:"The maximum difference between your estimated price and execution price",fieldValue:(0,l.jsxs)(E.Z,{className:"py-1 px-2 bg-[#141041] rounded-sm text-[#F1F1F2] font-medium text-xs -my-1",children:[(0,l.jsx)(I.Z,{className:"w-7 px-0",disabled:G,value:(0,H.B)((0,U.dC)(y,100),{decimalLength:"auto 2"}),onUserInput:e=>{let t=(0,U.hi)(parseFloat(e),100);t&&o.ZP.setState({slippageTolerance:t})},pattern:/^\d*\.?\d*$/,maximum:100}),(0,l.jsx)("div",{className:"opacity-50 ml-1",children:"%"})]})}),"too small"===w&&(0,l.jsx)("div",{className:"text-[#D8CB39] text-xs mobile:text-sm",children:"Your transaction may fail"}),"too large"===w&&(0,l.jsx)("div",{className:"text-[#D8CB39] text-xs mobile:text-sm",children:"Your transaction may be frontrun and result in an unfavorable trade"}),null==_?void 0:_.map(e=>{var t,n;let{ammId:s,poolInfo:i,startTime:o}=e;return(0,l.jsx)(ey,{fieldName:W&&W.poolKey.length>1?"Open at (".concat(null===(t=N(i.baseMint))||void 0===t?void 0:t.symbol,"-").concat(null===(n=N(i.quoteMint))||void 0===n?void 0:n.symbol,")"):"Open at",fieldValue:(0,M.xn)(o)},s)}),(0,l.jsx)(ey,{fieldName:"Swap Fee",tooltipContent:"Of the 0.25% swap fee, 0.22% goes to LPs and 0.03% is used to buy back RAY.".concat(J?" For stable swaps, the 0.02% fee goes to LPs.":""," "),fieldValue:L?(0,l.jsx)(C.Z,{children:L.map(e=>{var t,n;let s=(0,Z.wE)(e);return(0,l.jsxs)("div",{className:"text-right",children:[(0,H.B)(s)," ",null!==(n=null===(t=N(s.token.mint))||void 0===t?void 0:t.symbol)&&void 0!==n?n:"--"]},s.token.symbol)})}):"--"})]})}),(0,l.jsx)(k.Z.Face,{children:e=>{let{isOpen:t}=e;return(0,l.jsxs)(E.Z,{className:"w-full items-center text-xs font-medium text-[rgba(171,196,255,0.5)] cursor-pointer select-none",children:[(0,l.jsx)("div",{children:t?"Show less":"More information"}),(0,l.jsx)(F.Z,{size:"xs",heroIconName:t?"chevron-up":"chevron-down",className:"ml-1"})]})}})]})]})}function ev(e){var t;let{remainSeconds:n,onReachZeroSeconds:i}=e,o=null!==(t=(0,a.ZP)(e=>e.chainTimeOffset))&&void 0!==t?t:0,[r,c]=(0,s.useState)(Math.max((null!=n?n:0)-o/1e3,0));(0,K.L)(()=>{c(Math.max((null!=n?n:0)-o/1e3,0))},[o,n]),(0,K.L)(()=>{r<=0&&(null==i||i())},[r<=0]);let{days:d,hours:u,minutes:m,seconds:x}=(0,O.ZP)(1e3*r);return(0,Y.N)({loop:d?36e5:u?6e4:1e3,disable:!n,disableWhenDocumentInvisiable:!1,onLoop:()=>c(e=>e>0?e-1:e)}),(0,l.jsx)("div",{className:"inline-block",children:d?(0,M.xn)(Date.now()+o+r):u?"rest: ".concat(u,"h ").concat(m,"m"):m?"rest: ".concat(m,"m ").concat(x,"s"):"rest: ".concat(x,"s")})}function eZ(e){let{startSymbol:t,middleSymbol:n,endSymbol:s,poolTypes:i}=e;return(0,l.jsxs)(E.Z,{className:"items-center",children:[t," ",(0,l.jsx)(ej,{tagValue:i[0]})," ",n," ",(0,l.jsx)(ej,{tagValue:i[1]}),s]})}function ej(e){let{tagValue:t}=e,n=(0,s.useRef)(null),[i,o]=(0,s.useState)(0),a=()=>{n.current&&o(n.current.clientWidth)};return(0,s.useEffect)(()=>{a(),t||o(12)},[t]),(0,l.jsxs)("div",{className:"relative top-[-15px]",style:{marginLeft:4,marginRight:4,maxHeight:19},children:[(0,l.jsx)("div",{ref:n,children:t?(0,l.jsx)(g.C,{className:"justify-center text-[8px] px-1",children:t}):(0,l.jsx)("div",{style:{height:19,width:12}})}),(0,l.jsx)(eb,{className:"",width:i})]})}function eb(e){let{className:t,width:n}=e;return(0,l.jsx)("div",{className:(0,i.m)("flex flex-col justify-start mt-[-2px] items-end",t),children:(0,l.jsxs)("svg",{width:n,height:15,viewBox:"0 0 ".concat(n," 15"),children:[(0,l.jsx)("defs",{children:(0,l.jsx)("marker",{id:"arrow",markerWidth:"8",markerHeight:"8",refX:"3.5",refY:"4.5",orient:"auto",children:(0,l.jsx)("path",{d:"M3.5,4.5 L2,7 L7,4.5 L2,2 L3.5,4.5",fill:"white"})})}),(0,l.jsx)("path",{d:"M0,7 H".concat(n-5),vectorEffect:"non-scaling-stroke",stroke:"white",strokeWidth:"1.25px",fill:"none",markerEnd:"url(#arrow)"})]})})}function ey(e){let{className:t,fieldName:n,fieldValue:s,tooltipContent:o,fieldNameTextColor:a,fieldValueTextColor:r}=e;return(0,l.jsxs)(E.Z,{className:(0,i.m)("w-full justify-between",t),children:[(0,l.jsxs)(E.Z,{className:"items-center text-xs font-medium text-[#ABC4FF]",style:{color:a},children:[(0,l.jsx)("div",{className:"mr-1",children:n}),o&&(0,l.jsxs)(D.Z,{className:t,placement:"bottom-right",children:[(0,l.jsx)(F.Z,{size:"xs",heroIconName:"question-mark-circle",className:"cursor-help"}),(0,l.jsx)(D.Z.Panel,{children:(0,l.jsx)("div",{className:"max-w-[30em]",children:o})})]})]}),(0,l.jsx)("div",{className:"text-xs font-medium text-white text-right",style:{color:r},children:s})]})}function eg(){var e,t,n,s;let i=(0,x.Z)(e=>e.coin1),o=(0,x.Z)(e=>e.coin2),a=(0,x.Z)(e=>e.selectedCalcResult),r=null==a?void 0:a.poolKey;return(0,l.jsxs)("div",{className:"w-60",children:[(0,l.jsx)("div",{className:"text-sm font-semibold mb-2",children:"Addresses"}),(0,l.jsxs)(C.Z,{className:"gap-2",children:[(0,l.jsx)(ew,{label:null!==(e=null==i?void 0:i.symbol)&&void 0!==e?e:"--",type:"token",address:String(null!==(t=null==i?void 0:i.mint)&&void 0!==t?t:"--")}),(0,l.jsx)(ew,{label:null!==(n=null==o?void 0:o.symbol)&&void 0!==n?n:"--",type:"token",address:String(null!==(s=null==o?void 0:o.mint)&&void 0!==s?s:"--")}),(null==r?void 0:r.length)?(0,l.jsx)(l.Fragment,{children:r.map((e,t,n)=>{let s=[],i="";return n.length>1&&(i="(route ".concat(t+1,")")),(0,d.y)(e)?(s.push((0,l.jsx)(ew,{label:"Market ID ".concat(i),address:e.marketId},"market"+e.marketId)),s.push((0,l.jsx)(ew,{label:"Amm ID ".concat(i),address:e.id},"amm"+e.id))):s.push((0,l.jsx)(ew,{label:"Amm ID ".concat(i),address:(0,W.ZP)(e.id)},"amm"+e.id)),s})}):null]})]})}function ew(e){let{className:t,label:n,address:s,type:o="account"}=e;return(0,l.jsxs)(E.Z,{className:(0,i.m)("grid gap-2 items-center grid-cols-[5em,1fr,auto,auto]",t),children:[(0,l.jsx)("div",{className:"text-xs font-normal text-white",children:n}),(0,l.jsx)(y.U,{showDigitCount:5,addressType:o,canCopy:!0,canExternalLink:!0,textClassName:"flex text-xs font-normal text-white bg-[#141041] rounded justify-center",children:s})]})}}},function(e){e.O(0,[4740,2885,2820,7664,6133,4052,8554,9774,2888,179],function(){return e(e.s=32786)}),_N_E=e.O()}]);