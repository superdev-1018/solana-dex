(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7669],{49895:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/farms",function(){return s(62902)}])},77023:function(e,t,s){"use strict";s.d(t,{Z:function(){return d}});var n=s(75640),r=s(8667),l=s(62707),i=s(34003),a=s(19036),o=s(53002),c=s(49641);async function d(e,t){return(0,r.ZP)(async s=>{let{transactionCollector:r,baseUtils:{owner:d,connection:m}}=s;(0,i.Z)(d,"require connected wallet");let u=c.Z.getState().jsonInfos.find(t=>{let{id:s}=t;return String(s)===String(e.id)});(0,i.Z)(u,"Farm pool not found");let f=(0,a.R)(u),x=n.l6j.getAssociatedLedgerAccount({programId:f.programId,poolId:f.id,owner:d,version:f.version}),p=[];if(!e.ledger&&u.version<6){let{innerTransaction:e}=n.l6j.makeCreateAssociatedLedgerAccountInstruction({poolKeys:f,userKeys:{owner:d,ledger:x}});p.push(e)}let{tokenAccountRawInfos:h}=o.Z.getState(),{innerTransactions:g}=await n.l6j.makeDepositInstructionSimple({connection:m,poolKeys:f,fetchPoolInfo:e.fetchedMultiInfo,ownerInfo:{feePayer:d,wallet:d,tokenAccounts:h},amount:t.amount.raw});p.push(...g);let b=(0,l.AX)(()=>{c.Z.getState().refreshFarmInfos()},{once:!0});r.add(p,{onTxError:()=>(0,l.Ce)(b),onTxSentError:()=>(0,l.Ce)(b),txHistoryInfo:{title:"Add ".concat(t.amount.token.symbol),description:"Stake ".concat(t.amount.toExact()," ").concat(t.amount.token.symbol)}})})}},19390:function(e,t,s){"use strict";s.d(t,{Z:function(){return m}});var n=s(75640),r=s(8667),l=s(62707),i=s(34003),a=s(19036),o=s(71375),c=s(53002),d=s(49641);async function m(e,t){return(0,r.ZP)(async s=>{let{transactionCollector:r,baseUtils:{owner:m,connection:u}}=s,f=[];(0,i.Z)(m,"require connected wallet");let x=d.Z.getState().jsonInfos.find(t=>{let{id:s}=t;return String(s)===String(e.id)});(0,i.Z)(x,"Farm pool not found");let p=(0,a.R)(x),h=n.l6j.getAssociatedLedgerAccount({programId:p.programId,poolId:p.id,owner:m,version:p.version});if(!e.ledger&&x.version<6){let{innerTransaction:e}=n.l6j.makeCreateAssociatedLedgerAccountInstruction({poolKeys:p,userKeys:{owner:m,ledger:h}});f.push(e)}let{tokenAccountRawInfos:g}=c.Z.getState(),{innerTransactions:b}=await n.l6j.makeWithdrawInstructionSimple({connection:u,fetchPoolInfo:e.fetchedMultiInfo,ownerInfo:{feePayer:m,wallet:m,tokenAccounts:g},amount:(0,o.Z)(0)});f.push(...b);let Z=(0,l.AX)(()=>{d.Z.getState().refreshFarmInfos()},{once:!0});r.add(f,{onTxError:()=>(0,l.Ce)(Z),onTxSentError:()=>(0,l.Ce)(Z),onTxSuccess:()=>{setTimeout(()=>{d.Z.getState().refreshFarmInfos()},300)},txHistoryInfo:{title:"Harvest ".concat(t.rewardAmounts.map(e=>{let{token:t}=e;return t.symbol}).join(", ")),description:"Harvest ".concat(t.rewardAmounts.map(e=>"".concat(e.toExact()," ").concat(e.token.symbol)).join(", "))}})})}},1151:function(e,t,s){"use strict";s.d(t,{Z:function(){return m}});var n=s(75640),r=s(82187),l=s(8667),i=s(62707),a=s(34003),o=s(19036),c=s(53002),d=s(49641);async function m(e,t){return(0,l.ZP)(async s=>{let{transactionCollector:l,baseUtils:{owner:m,connection:u}}=s,f=(0,r.p)();(0,a.Z)(m,"require connected wallet");let x=d.Z.getState().jsonInfos.find(t=>{let{id:s}=t;return String(s)===String(e.id)});(0,a.Z)(x,"Farm pool not found");let p=(0,o.R)(x),h=await n.l6j.getAssociatedLedgerAccount({programId:p.programId,poolId:p.id,owner:m,version:p.version});if(!e.ledger&&x.version<6){let{innerTransaction:e}=await n.l6j.makeCreateAssociatedLedgerAccountInstruction({poolKeys:p,userKeys:{owner:m,ledger:h}});f.addInnerTransactions(e)}let{tokenAccountRawInfos:g}=c.Z.getState(),b=n.l6j.makeWithdrawInstructionSimple({connection:u,fetchPoolInfo:e.fetchedMultiInfo,ownerInfo:{feePayer:m,wallet:m,tokenAccounts:g},amount:t.amount.raw});f.addInnerTransactions(...(await b).innerTransactions);let Z=(0,i.AX)(()=>{d.Z.getState().refreshFarmInfos()},{once:!0});l.add(f.spawnTransactionQueue(),{onTxError:()=>(0,i.Ce)(Z),onTxSentError:()=>(0,i.Ce)(Z),txHistoryInfo:{title:"Unstake ".concat(t.amount.token.symbol),description:"Unstake ".concat(t.amount.toExact()," ").concat(t.amount.token.symbol)}})})}},82187:function(e,t,s){"use strict";s.d(t,{p:function(){return r}});var n=s(47511);let r=e=>{let t=null,s=[],r=[],l=[];function i(){let l=t||(null!=e?e:new n.YW);return(s.length||r.length)&&l.add(...s,...r.reverse()),l}return{setRawTransaction:function(e){t=e},addInstruction:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];s.push(...t)},addEndInstruction:function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];r.push(...t)},addInnerTransactions:function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];l.push(...t)},spawnTransaction:i,spawnTransactionQueue:function(){return s.length||r.length?[...l,i()]:l}}}},28424:function(e,t,s){"use strict";s.d(t,{$:function(){return i}});var n=s(85893),r=s(40471),l=s(92618);function i(){return(0,n.jsxs)(l.Z,{children:[(0,n.jsx)(r.Z,{src:"/coins/open-book-tip.png",fallbackSrc:"/coins/unknown.svg",width:80}),(0,n.jsx)(l.Z.Panel,{children:(0,n.jsxs)("div",{className:"max-w-[300px]",children:["This pool leverages liquidity to market make on the OpenBook central limit order book."," ",(0,n.jsx)("a",{href:"https://docs.raydium.io/raydium/updates/integration-with-openbook",style:{color:"#39D0D8"},children:"Learn more"})]})})]})}},41618:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});var n=s(67294);function r(e,t){let s=(0,n.useRef)(!1),r=()=>s.current=!0;(0,n.useEffect)(()=>{if(!s.current)return e({runed:r})},t)}},62902:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return eN}});var n=s(85893),r=s(67294),l=s(66180),i=s(69221),a=s(59277),o=s(91371),c=s(94678),d=s(96662),m=s(13521),u=s(52869),f=s(77023),x=s(19390),p=s(75640),h=s(8667),g=s(62707),b=s(34003),Z=s(3363),v=s(53002),j=s(49641);let k=(0,h.Kb)(e=>async t=>{let{transactionCollector:s,baseUtils:{connection:n,owner:r}}=t,l=null==e?void 0:e.infos;(0,b.Z)(l,"should have harvest target");let{tokenAccountRawInfos:i}=v.Z.getState(),{innerTransactions:a}=await p.l6j.makeHarvestAllRewardInstructionSimple({connection:n,fetchPoolInfos:Object.fromEntries(l.map(e=>[(0,Z.ZP)(e.id),e.fetchedMultiInfo])),ownerInfo:{feePayer:r,wallet:r,tokenAccounts:i,useSOLBalance:!0},associatedOnly:!1}),o=(0,g.AX)(()=>{j.Z.getState().refreshFarmInfos()},{once:!0}),c=a.map((e,t)=>[e,{onTxError:()=>(0,g.Ce)(o),onTxSentError:()=>(0,g.Ce)(o),onTxSuccess:()=>{setTimeout(()=>{j.Z.getState().refreshFarmInfos()},300)},txHistoryInfo:{title:"Harvested All Farms",description:"Harvested all farms"}}]);s.add(c)});var y=s(1151),w=s(91148),N=s(52225),S=s(17097),P=s(47675),C=s(57435),I=s(94355),T=s(2148),A=s(31555),F=s(31166),E=s(80582),L=s(99522),M=s(68186),R=s(11601),D=s(43067),z=s(6994),O=s(70745),q=s(54531),B=s(97664),U=s(54592),H=s(23484),V=s(88132),K=s(60421),W=s(48162),_=s(82727),$=s(50321),X=s(99645),Y=s(11583),Q=s(28424),G=s(57571),J=s(36868),ee=s(33674),et=s(6325),es=s(51800),en=s(95111),er=s(15144),el=s(29197),ei=s(92618),ea=s(56419),eo=s(90547),ec=s(86597),ed=s(14033),em=s(99881),eu=s(18074),ef=s(62952),ex=s(1758),ep=s(95865),eh=s(4465),eg=s(81451),eb=s(51523),eZ=s(72573),ev=s(3700),ej=s(73766),ek=s(41618),ey=s(98590),ew=s(61652);function eN(){let e=(0,P.mu)();(0,N.Z)(()=>{let e=function(){var e,t;let s=(0,P.mu)(),n=String(null!==(t=null!==(e=s.farmId)&&void 0!==e?e:s.farmid)&&void 0!==t?t:"")||void 0;return(0,S.gm)(n)?n:void 0}();e&&j.Z.setState(t=>({expandedItemIds:(0,w.jX)(t.expandedItemIds,e),searchText:e}))},{effectMethod:"isoLayoutEffect"}),function(){let e=(0,v.Z)(e=>e.owner);(0,r.useEffect)(()=>{e&&j.Z.setState({onlySelfCreatedFarms:!1})},[e])}();let t=(0,j.Z)(e=>e.currentTab);return(0,r.useEffect)(()=>{j.Z.setState({currentTab:e.tab})},[e]),(0,n.jsxs)(G.Z,{mobileBarTitle:{items:[{value:"Raydium",barLabel:"Raydium Farm"},{value:"Fusion",barLabel:"Fusion Farm"},{value:"Ecosystem",barLabel:"Ecosystem Farm"},{value:"Staked",barLabel:"Staked Farm"}],currentValue:t,onChange:e=>j.Z.setState({currentTab:e}),urlSearchQueryKey:"tab",drawerTitle:"FARMS"},contentButtonPaddingShorter:!0,metaTitle:"Farms - Raydium",children:[(0,n.jsx)(eS,{}),(0,n.jsx)(eD,{})]})}function eS(){let e=(0,o.ZP)(e=>e.isMobile);return e?null:(0,n.jsx)(U.Z,{children:(0,n.jsxs)(K.Z,{className:"grid-cols-3 justify-between items-center pb-8 pt-0",children:[(0,n.jsx)("div",{className:"text-2xl font-semibold justify-self-start text-white",children:"Farms"}),(0,n.jsx)(eE,{}),(0,n.jsx)(eF,{})]})})}function eP(e){let{className:t,dataSource:s}=e;return(0,j.Z)(e=>e.currentTab),(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(J.Z,{placement:"bottom-right",children:[(0,n.jsx)(J.Z.Button,{children:(0,n.jsx)("div",{className:(0,l.m)("mx-1 rounded-full p-2 text-[#abc4ff] clickable justify-self-start",t),children:(0,n.jsx)(W.Z,{className:"w-4 h-4",iconClassName:"w-4 h-4",heroIconName:"dots-vertical"})})}),(0,n.jsx)(J.Z.Panel,{children:(0,n.jsx)("div",{children:(0,n.jsx)(z.Z,{className:"flex flex-col py-3 px-4  max-h-[80vh] border-1.5 border-[rgba(171,196,255,0.2)] bg-cyberpunk-card-bg shadow-cyberpunk-card",size:"lg",children:(0,n.jsxs)(K.Z,{className:"grid-cols-1 items-center gap-2",children:[(0,n.jsx)(eT,{}),(0,n.jsx)(eR,{}),(0,n.jsx)(eL,{}),(0,n.jsx)(eF,{}),(0,n.jsx)(eC,{infos:s.filter(e=>{var t;return(0,u.lr)(e)&&(0,eg.$u)(null===(t=e.ledger)||void 0===t?void 0:t.deposited)})})]})})})})]})})}function eC(e){let{infos:t}=e,s=(0,o.ZP)(e=>e.isApprovePanelShown),l=(0,v.Z)(e=>e.connected),i=(0,o.ZP)(e=>e.isMobile),a=(0,r.useMemo)(()=>!!t.length,[t]);return(0,n.jsx)(D.Z,{className:"frosted-glass-teal",isLoading:s,validators:[{should:l},{should:a}],onClick:()=>{k({infos:t})},size:i?"xs":"sm",children:"Harvest all"})}function eI(e){let{className:t}=e,s=(0,o.ZP)(e=>e.isMobile),i=(0,j.Z)(e=>e.searchText),a=(0,r.useRef)(null),[c,d]=(0,r.useState)(!1),m=(0,r.useRef)(!1);return(0,r.useEffect)(()=>{m.current||setTimeout(()=>{if(m.current=!0,i){var e;d(!0),null===(e=a.current)||void 0===e||e.open()}},600)},[i]),(0,n.jsx)(_.Z,{value:i,className:(0,l.m)("px-2 py-2 mobile:py-1 gap-2 ring-inset ring-1 ring-[rgba(196,214,255,0.5)] rounded-xl mobile:rounded-lg pc:w-[12vw] mobile:w-auto",t),inputClassName:"font-medium text-sm mobile:text-xs text-[rgba(196,214,255,0.5)] placeholder-[rgba(196,214,255,0.5)]",prefix:(0,n.jsx)(W.Z,{heroIconName:"search",size:s?"sm":"smi",className:"text-[rgba(196,214,255,0.5)]"}),suffix:(0,n.jsxs)(ei.Z,{disable:!c,componentRef:a,children:[(0,n.jsx)(W.Z,{heroIconName:"x",size:s?"xs":"sm",className:"text-[rgba(196,214,255,0.5)] transition clickable ".concat(i?"opacity-100":"opacity-0 pointer-events-none"),onClick:()=>{j.Z.setState({searchText:""})}}),(0,n.jsx)(ei.Z.Panel,{children:"Click here to view all farm pools"})]}),placeholder:"Search All",onUserInput:e=>{j.Z.setState({searchText:e})}})}function eT(e){let{className:t}=e,s=(0,j.Z)(e=>e.onlySelfFarms),r=(0,v.Z)(e=>e.connected),l=(0,j.Z)(e=>e.currentTab);return r&&"Staked"!==l?(0,n.jsxs)(es.Z,{className:"justify-self-end  mobile:justify-self-auto items-center",children:[(0,n.jsx)("span",{className:"text-[rgba(196,214,255,0.5)] whitespace-nowrap font-medium text-sm mobile:text-xs",children:"Show Staked"}),(0,n.jsx)(er.Z,{className:"ml-2 ",defaultChecked:s,onToggle:e=>j.Z.setState({onlySelfFarms:e})})]}):null}function eA(e){let{className:t}=e,s=(0,j.Z)(e=>e.onlySelfCreatedFarms);return(0,n.jsxs)(es.Z,{className:"justify-self-end  mobile:justify-self-auto items-center",children:[(0,n.jsx)("span",{className:"text-[rgba(196,214,255,0.5)] whitespace-nowrap font-medium text-sm mobile:text-xs",children:"Show Created"}),(0,n.jsx)(er.Z,{className:"ml-2 ",defaultChecked:s,onToggle:e=>j.Z.setState({onlySelfCreatedFarms:e})})]})}function eF(e){let{className:t}=e;return(0,n.jsxs)(es.Z,{className:(0,l.m)("justify-self-end mobile:justify-self-auto gap-1 py-1 flex-wrap items-center opacity-100 pointer-events-auto clickable transition",t),onClick:()=>{(0,A.Eh)("/farms/create")},children:[(0,n.jsx)(W.Z,{heroIconName:"plus-circle",className:"text-[#abc4ff] mobile:text-[#abc4ff80]",size:"sm"}),(0,n.jsx)("span",{className:"text-[#abc4ff] mobile:text-[#abc4ff80] font-medium text-sm mobile:text-xs",children:"Create Farm"})]})}function eE(e){let{className:t}=e,s=(0,j.Z)(e=>e.currentTab),r=(0,o.ZP)(e=>e.isMobile);return r?(0,n.jsx)(el.Z,{currentValue:s,urlSearchQueryKey:"tab",values:(0,w.DB)(["Raydium","Fusion","Ecosystem","Staked"]),onChange:e=>j.Z.setState({currentTab:e}),className:t}):(0,n.jsx)(el.Z,{currentValue:s,urlSearchQueryKey:"tab",values:(0,w.DB)(["Raydium","Fusion","Ecosystem","Staked"]),onChange:e=>j.Z.setState({currentTab:e}),className:(0,l.m)("justify-self-center mobile:col-span-full",t)})}function eL(e){let{className:t}=e,s=(0,j.Z)(e=>e.timeBasis);return(0,n.jsx)(en.Z,{className:(0,l.m)("z-20",t),candidateValues:["24H","7D","30D"],localStorageKey:"ui-time-basis",defaultValue:s,prefix:"Time Basis:",onChange:e=>{j.Z.setState({timeBasis:null!=e?e:s})}})}function eM(e){let{className:t,onChange:s}=e,r=(0,j.Z)(e=>e.timeBasis);return(0,n.jsx)(en.Z,{className:t,candidateValues:[{label:"Farm",value:"name"},{label:"APRS ".concat(r),value:"24H"===r?"totalApr24h":"7D"===r?"totalApr7d":"totalApr30d"},{label:"TVL",value:"tvl"},{label:"Favorite",value:"favorite"}],prefix:"Sort by:",onChange:s})}function eR(e){let{className:t}=e,s=(0,j.Z)(e=>e.refreshFarmInfos),r=(0,o.ZP)(e=>e.isMobile);return r?(0,n.jsxs)(es.Z,{className:(0,l.m)("items-center",t),children:[(0,n.jsx)("span",{className:"text-[rgba(196,214,255,0.5)] font-medium text-sm mobile:text-xs",children:"Refresh farms"}),(0,n.jsx)(ee.Z,{refreshKey:"farms",className:"justify-self-end",freshFunction:()=>{s()}})]}):(0,n.jsx)("div",{className:(0,l.m)("justify-self-end",t),children:(0,n.jsx)(ee.Z,{refreshKey:"farms",className:"justify-self-end",freshFunction:()=>{s()}})})}function eD(){let e=(0,j.Z)(e=>e.jsonInfos),t=(0,j.Z)(e=>e.hydratedInfos),s=(0,j.Z)(e=>e.currentTab),l=(0,j.Z)(e=>e.onlySelfFarms),i=(0,j.Z)(e=>e.tokenType),a=(0,j.Z)(e=>e.onlySelfCreatedFarms),c=(0,j.Z)(e=>e.searchText),[d]=(0,j.W)(),m=(0,o.ZP)(e=>e.isMobile),f=(0,v.Z)(e=>e.owner),x=(0,j.Z)(e=>e.isLoading),p=(0,j.Z)(e=>e.timeBasis),h=(t.length?t:e).filter(e=>!(0,eh.aT)(e.lpMint,E.PD)),g=(0,r.useMemo)(()=>h.filter(e=>{var t;return"Fusion"===s?"fusion"===e.category&&(!(0,u.lr)(e)||!e.isClosedPool):"Staked"===s?!!(0,u.lr)(e)&&(0,eg.$u)(null===(t=e.ledger)||void 0===t?void 0:t.deposited):"Ecosystem"===s?"ecosystem"===e.category:"raydium"===e.category&&(!(0,u.lr)(e)||!e.isClosedPool)}),[s,h]);g.some(e=>(0,eh.aT)(e.creator,f));let b=(0,r.useMemo)(()=>g.filter(e=>{var t;return!(0,u.lr)(e)||!e.isClosedPool||(0,eh.aT)(e.creator,f)||(0,eg.$u)(null===(t=e.ledger)||void 0===t?void 0:t.deposited)}).filter(e=>!(l&&(0,u.lr)(e))||e.ledger&&(0,eg.$u)(e.ledger.deposited)).filter(e=>!a||!f||(0,eh.aT)(e.creator,f)&&6===e.version).filter(e=>!(6===e.version&&(0,u.lr)(e))||("Option tokens"===i?e.rewards.some(e=>e.isOptionToken):"Standard SPL"!==i||!e.rewards.some(e=>e.isOptionToken))),[l,c,a,g,f]),k=(0,r.useDeferredValue)((0,r.useMemo)(()=>(0,ev.K)(b,{text:c,matchConfigs:e=>{var t,s,n,r;return(0,u.lr)(e)?[{text:(0,Z.ZP)(e.id),entirely:!0},{text:e.ammId,entirely:!0},{text:(0,Z.ZP)(null===(t=e.base)||void 0===t?void 0:t.mint),entirely:!0},{text:(0,Z.ZP)(null===(s=e.quote)||void 0===s?void 0:s.mint),entirely:!0},null===(n=e.base)||void 0===n?void 0:n.symbol,null===(r=e.quote)||void 0===r?void 0:r.symbol,{text:(0,Z.ZP)(e.lpMint),entirely:!0}]:[{text:(0,Z.ZP)(e.id),entirely:!0},{text:(0,Z.ZP)(e.lpMint),entirely:!0}]}}),[b,c])),{sortedData:y,setConfig:w,sortConfig:N,clearSortConfig:S}=(0,ey.Z)(k,{defaultSort:{key:"defaultKey",sortCompare:[e=>null==d?void 0:d.includes((0,Z.ZP)(e.id))]}});(0,ek.Z)(e=>{let{runed:t}=e;void 0!==d&&t(),null!=d&&w({key:"init",sortCompare:[e=>null==d?void 0:d.includes((0,Z.ZP)(e.id))],mode:"decrease"})},[d]),(0,r.useEffect)(()=>{w({key:"init by currentTab",sortCompare:[e=>null==d?void 0:d.includes((0,Z.ZP)(e.id))],mode:"decrease"})},[s]);let P="Ecosystem"===s?{title:"Ecosystem Farms",description:"Stake and earn Solana Ecosystem token rewards",tooltip:"Ecosystem Farms allow any project or user to create a farm in a decentralized manner to incentivize liquidity providers. Rewards are locked for the duration on the farm. However, creator liquidity is not locked."}:"Fusion"===s?{title:"Fusion Farms",description:"Stake LP tokens and earn project token rewards"}:"Staked"===s?{title:"Your Staked Farms",description:"You are currently staked in these farms"}:{title:"Raydium Farms",description:"Stake LP tokens and earn token rewards"},C=m?(0,n.jsx)("div",{children:(0,n.jsxs)(es.Z,{className:"mb-4",children:[(0,n.jsxs)(K.Z,{className:"grow gap-2 grid-cols-auto-fit",children:[(0,n.jsx)(eI,{}),(0,n.jsx)(eM,{onChange:e=>{e?w({key:e,sortCompare:"favorite"===e?e=>null==d?void 0:d.includes((0,Z.ZP)(e.id)):t=>t[e]}):S()}})]}),(0,n.jsx)(eP,{className:"self-center",dataSource:h})]})}):(0,n.jsxs)(es.Z,{className:"justify-between gap-16 gap-y-4 items-center mb-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsxs)(es.Z,{className:"items-center",children:[(0,n.jsx)("div",{className:"font-medium text-white text-lg",children:P.title}),P.tooltip&&(0,n.jsxs)(ei.Z,{children:[(0,n.jsx)(W.Z,{className:"ml-1 cursor-help",size:"sm",heroIconName:"question-mark-circle"}),(0,n.jsx)(ei.Z.Panel,{className:"max-w-[300px]",children:P.tooltip})]})]}),(0,n.jsx)("div",{className:"font-medium text-[rgba(196,214,255,.5)] text-base ",children:P.description})]}),(0,n.jsxs)(es.Z,{className:"grow flex-wrap justify-end items-stretch gap-6",children:[f&&("Ecosystem"===s||"Staked"===s)?(0,n.jsx)(eA,{}):null,(0,n.jsx)(eC,{infos:h.filter(e=>{var t;return(0,u.lr)(e)&&(0,eg.$u)(null===(t=e.ledger)||void 0===t?void 0:t.deposited)})}),(0,n.jsx)(eL,{}),(0,n.jsx)(eI,{})]})]});return(0,n.jsxs)(V.Z,{haveMinHeight:!0,wrapperClassName:"flex-1 overflow-hidden flex flex-col",className:"grow p-10 pt-6 pb-4 mobile:px-3 mobile:py-3 w-full flex flex-col h-full",children:[C,!m&&(0,n.jsxs)(es.Z,{type:"grid-x",className:"mb-3 h-12  sticky -top-6 backdrop-filter z-10 backdrop-blur-md bg-[rgba(20,16,65,0.2)] mr-scrollbar rounded-xl mobile:rounded-lg gap-2 grid-cols-[auto,1.5fr,1.2fr,1fr,1fr,auto]",children:[(0,n.jsx)(es.Z,{className:"group w-20 pl-10 font-medium text-[#ABC4FF] text-sm items-center cursor-pointer  clickable clickable-filter-effect no-clicable-transform-effect",onClick:()=>{w({key:"favorite",sortModeQueue:["decrease","none"],sortCompare:e=>null==d?void 0:d.includes((0,Z.ZP)(e.id))})},children:(0,n.jsx)(W.Z,{className:"ml-1 ".concat((null==N?void 0:N.key)==="favorite"&&"none"!==N.mode?"opacity-100":"opacity-0 group-hover:opacity-30"," transition"),size:"sm",iconSrc:"/icons/msic-sort-only-down.svg"})}),(0,n.jsxs)(es.Z,{className:"font-medium text-[#ABC4FF] text-sm items-center cursor-pointer clickable clickable-filter-effect no-clicable-transform-effect",onClick:()=>{w({key:"name",sortModeQueue:["increase","decrease","none"],sortCompare:e=>(0,u.lr)(e)?e.name:void 0})},children:[(0,n.jsx)("div",{className:"mr-16"}),"Farm",(0,n.jsx)(W.Z,{className:"ml-1",size:"sm",iconSrc:(null==N?void 0:N.key)==="name"&&"none"!==N.mode?(null==N?void 0:N.mode)==="decrease"?"/icons/msic-sort-down.svg":"/icons/msic-sort-up.svg":"/icons/msic-sort.svg"})]}),(0,n.jsx)("div",{className:" font-medium self-center text-[#ABC4FF] text-sm",children:"Pending Reward"}),(0,n.jsxs)(es.Z,{className:" font-medium items-center text-[#ABC4FF] text-sm cursor-pointer gap-1  clickable clickable-filter-effect no-clicable-transform-effect",onClick:()=>{let e="24H"===p?"totalApr24h":"7D"===p?"totalApr7d":"totalApr30d";w({key:e,sortCompare:t=>(0,u.lr)(t)?t[e]:void 0})},children:["Total APR ",p,(0,n.jsxs)(ei.Z,{children:[(0,n.jsx)(W.Z,{className:"ml-1 cursor-help",size:"sm",heroIconName:"question-mark-circle"}),(0,n.jsxs)(ei.Z.Panel,{children:["Estimated APR based on trading fees earned by the pool in the past ",p]})]}),(0,n.jsx)(W.Z,{className:"ml-1",size:"sm",iconSrc:(null==N?void 0:N.key.startsWith("totalApr"))&&"none"!==N.mode?(null==N?void 0:N.mode)==="decrease"?"/icons/msic-sort-down.svg":"/icons/msic-sort-up.svg":"/icons/msic-sort.svg"})]}),(0,n.jsxs)(es.Z,{className:" font-medium text-[#ABC4FF] text-sm items-center cursor-pointer  clickable clickable-filter-effect no-clicable-transform-effect",onClick:()=>w({key:"tvl",sortCompare:e=>(0,u.lr)(e)?e.tvl:void 0}),children:["TVL",(0,n.jsx)(W.Z,{className:"ml-1",size:"sm",iconSrc:(null==N?void 0:N.key)==="tvl"&&"none"!==N.mode?(null==N?void 0:N.mode)==="decrease"?"/icons/msic-sort-down.svg":"/icons/msic-sort-up.svg":"/icons/msic-sort.svg"})]}),(0,n.jsx)(eR,{className:"pr-8 self-center"})]}),(0,n.jsx)(ez,{isLoading:x,infos:y})]})}function ez(e){let{isLoading:t,infos:s}=e,r=(0,j.Z)(e=>e.expandedItemIds),l=(0,c.ZP)(e=>e.isMigrateToClmmDialogOpen),[i,a]=(0,j.W)(),o=(0,j.Z)(e=>e.currentDialogInfo);return(0,n.jsxs)(n.Fragment,{children:[s.length?(0,n.jsx)($.Z,{className:"gap-3 text-[#ABC4FF] flex-1 -mx-2 px-2",children:s.map(e=>(0,n.jsx)($.Z.Item,{children:(0,n.jsxs)(H.Z,{open:r.has((0,Z.ZP)(e.id)),onToggle:()=>{j.Z.setState(t=>({expandedItemIds:(0,ej.h)(t.expandedItemIds,(0,Z.ZP)(e.id))}))},children:[(0,n.jsx)(H.Z.Face,{children:t=>{let{isOpen:s}=t;return(0,n.jsx)(eq,{open:s,info:e,isFavourite:null==i?void 0:i.includes((0,Z.ZP)(e.id)),onUnFavorite:e=>{a(t=>(0,w.cl)(null!=t?t:[],e))},onStartFavorite:e=>{a(t=>(0,w.jX)(null!=t?t:[],e))}})}}),(0,n.jsx)(H.Z.Body,{children:t?null:(0,n.jsx)(eB,{farmInfo:e})})]})},(0,Z.ZP)(e.id)))}):(0,n.jsx)(es.Z,{className:"text-center justify-center text-2xl p-12 opacity-50 text-[rgb(171,196,255)]",children:t?(0,n.jsx)(X.Z,{}):"(No results found)"}),(0,n.jsx)(eU,{}),o&&(0,n.jsx)(ew.Z,{info:o,open:l,onClose:()=>c.ZP.setState({isMigrateToClmmDialogOpen:!1})})]})}function eO(e){var t,s,r,l;let{farmInfo:i,reward:a}=e,o=(0,F.ZP)(e=>e.tokenListSettings),c=o["UnNamed Token List"].mints;if(!a)return null;let d=!!(0,S.Vr)(a)||a.isRewarding,m=!(0,S.Vr)(a)&&a.isRewardEnded,u=!(0,S.Vr)(a)&&a.isRewardBeforeStart,f=(0,S.Vr)(a)?a:a.userPendingReward;return(0,n.jsxs)(ei.Z,{placement:"bottom",children:[(0,n.jsxs)(es.Z,{className:"ring-1 ring-inset ".concat((0,S.Vr)(a)?"ring-[#abc4ff80]":a.isOptionToken?"ring-[#DA2EEF]":"ring-[#abc4ff80]"," p-1 rounded-full items-center gap-2 overflow-hidden ").concat(d?"":m?"opacity-30 contrast-40":"opacity-50"," ").concat(""),children:[(0,eg.gt)(f,.001)&&(0,n.jsx)("div",{className:"text-xs translate-y-0.125 pl-1",children:(0,em.Z)((0,eZ.B)(f),{fractionLength:3})}),(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)(O.Z,{size:"smi",token:a.token,className:u?"blur-sm":""}),m&&(0,n.jsx)("div",{className:"absolute h-[1.5px] w-full top-1/2 -translate-y-1/2 rotate-45 bg-[#abc4ff80] scale-x-125"}),u&&(0,n.jsx)("div",{className:"absolute top-1/2 -translate-y-1/2 opacity-70",children:(0,n.jsx)(W.Z,{heroIconName:"dots-horizontal"})})]})]}),(0,n.jsxs)(ei.Z.Panel,{children:[(0,n.jsxs)("div",{className:"mb-1",children:[null!==(l=null===(t=a.token)||void 0===t?void 0:t.symbol)&&void 0!==l?l:"--"," ",!(0,S.Vr)(a)&&a.openTime&&a.endTime&&(m?"Reward Ended":u?"Reward Not Started":"Reward Period")]}),a.openTime&&u&&(0,n.jsxs)("div",{className:"opacity-50",children:["Start in ",(0,eo.dS)(a.openTime)]}),!(0,S.Vr)(a)&&a.openTime&&a.endTime&&(0,n.jsxs)("div",{className:"opacity-50",children:[(0,ea.xn)(a.openTime,{hideHourMinuteSecond:!0})," ~"," ",(0,ea.xn)(a.endTime,{hideHourMinuteSecond:!0})]}),(null===(s=a.token)||void 0===s?void 0:s.mint)&&(0,n.jsx)(L.U,{showDigitCount:6,addressType:"token",canCopy:!0,canExternalLink:!0,textClassName:"text-xs",className:"w-full opacity-50 mt-2 contrast-75",children:(0,Z.ZP)(a.token.mint)}),(null==c?void 0:c.has((0,Z.ZP)(null===(r=a.token)||void 0===r?void 0:r.mint)))&&(0,n.jsx)("div",{className:"max-w-[220px] mt-2",children:"This token does not currently have a ticker symbol. Check to ensure it is the token you want to interact with."})]})]})}function eq(e){let{open:t,className:s,info:i,isFavourite:a,onUnFavorite:c,onStartFavorite:m}=e,f=(0,j.Z)(e=>e.jsonFarmAprInfos),x=f.find(e=>e.id===(0,Z.ZP)(i.id)),p=(0,o.ZP)(e=>e.isMobile),h=(0,j.Z)(e=>e.timeBasis),g=!(0,u.aE)(i)&&i.rewards.some(e=>e.isOptionToken),b=(0,u.aE)(i)?void 0:i["24H"===h?"totalApr24h":"30D"===h?"totalApr30d":"totalApr7d"],v=(0,u.aE)(i)?void 0:i["24H"===h?"raydiumFeeApr24h":"30D"===h?"raydiumFeeApr30d":"raydiumFeeApr7d"],k=(0,d.ZP)(e=>e.chainTimeOffset),y=e=>{var t,s;let n=Date.now()+(null!=k?k:0);return(null!==(t=e.endTime)&&void 0!==t?t:new Date).getTime()<n?1:(null!==(s=e.openTime)&&void 0!==s?s:new Date).getTime()>n?-1:0},w=(0,n.jsxs)(es.Z,{type:"grid-x",className:(0,l.m)("py-5 mobile:py-4 mobile:px-5 ".concat(i.local?"border-2 border-[#DA2EEF]":""," bg-[#141041] items-stretch gap-2 grid-cols-[auto,1.5fr,1.2fr,1fr,1fr,auto] mobile:grid-cols-[1fr,1fr,1fr,auto] rounded-t-3xl mobile:rounded-t-lg ").concat(t?"":"rounded-b-3xl mobile:rounded-b-lg"," transition-all"),s),children:[(0,n.jsx)("div",{className:"w-12 self-center ml-6 mr-2",children:a?(0,n.jsx)(W.Z,{iconSrc:"/icons/misc-star-filled.svg",onClick:e=>{let{ev:t}=e;t.stopPropagation(),null==c||c((0,Z.ZP)(i.id))},className:"clickable clickable-mask-offset-2 m-auto self-center"}):(0,n.jsx)(W.Z,{iconSrc:"/icons/misc-star-empty.svg",onClick:e=>{let{ev:t}=e;t.stopPropagation(),null==m||m((0,Z.ZP)(i.id))},className:"clickable clickable-mask-offset-2 opacity-30 hover:opacity-80 transition m-auto self-center"})}),(0,n.jsx)(eH,{info:i,className:"self-center"}),6===i.version?(0,n.jsx)(eK,{name:"Pending Rewards",loading:(0,u.aE)(i)||!i.rewards,value:(0,n.jsx)(es.Z,{className:"flex-wrap items-center gap-2 w-full pr-8",children:(0,u.aE)(i)?"--":(0,n.jsxs)(n.Fragment,{children:[i.rewards.sort((e,t)=>y(e)-y(t)).map(e=>(0,n.jsx)(r.Fragment,{children:(0,n.jsx)(eO,{farmInfo:i,reward:e})},(0,Z.ZP)(e.rewardVault))),g&&(0,n.jsxs)(ei.Z,{children:[(0,n.jsx)(R.C,{cssColor:"#DA2EEF",children:"Option tokens"}),(0,n.jsx)(ei.Z.Panel,{children:"Reward token is an option, check token metadata and with token project on how to redeem. APR may be inaccurate."})]})]})})}):(0,n.jsx)(eK,{name:"Pending Rewards",loading:(0,u.aE)(i)||!i.rewards,value:(0,n.jsx)(es.Z,{className:"flex-wrap gap-2 w-full pr-8",children:(0,u.aE)(i)?"--":i.rewards.map(e=>{let{token:t,userPendingReward:s,userHavedReward:r}=e;return r&&t&&(0,n.jsx)("div",{children:(0,n.jsx)(eO,{farmInfo:i,reward:null!=s?s:(0,ef.n)(t,0)})},(0,Z.ZP)(null==t?void 0:t.mint))})})}),(0,n.jsx)(eK,{name:"Total APR ".concat(h),className:"w-max",loading:(0,u.aE)(i)||!b,value:(0,u.aE)(i)?"--":(0,n.jsxs)(es.Z,{className:"items-center",children:[(0,n.jsxs)(ei.Z,{placement:"right",children:[b?(0,eu.Z)(b):"--",(0,n.jsxs)(ei.Z.Panel,{children:[v&&(0,n.jsxs)("div",{className:"whitespace-nowrap",children:["Fees ",(0,eu.Z)(v)]}),i.rewards.map((e,t)=>{let{apr:s,token:r,userHavedReward:l}=e;return l&&(0,n.jsxs)("div",{className:"whitespace-nowrap",children:[null==r?void 0:r.symbol," ",(0,eu.Z)(s)]},t)})]})]}),g&&(0,n.jsxs)(ei.Z,{placement:"right",children:[(0,n.jsx)(W.Z,{className:"ml-1 cursor-help",size:"sm",heroIconName:"question-mark-circle"}),(0,n.jsx)(ei.Z.Panel,{children:(0,n.jsx)("div",{className:"max-w-[300px]",children:"Options APR is an estimate and varies based on token market price and expected strike price."})})]})]})}),(0,n.jsx)(eK,{name:"TVL",value:(0,u.lr)(i)&&i.tvl?"~".concat((0,ep.Z)(i.tvl,{decimalPlace:0})):x?"~".concat((0,ep.Z)(x.tvl,{decimalPlace:0})):"--",subValue:(0,u.lr)(i)&&i.stakedLpAmount?"".concat((0,em.Z)((0,eZ.B)(i.stakedLpAmount,{decimalLength:0}))," LP"):x?"".concat((0,em.Z)((0,eb.hi)(x.tvl,x.lpPrice),{fractionLength:0})," LP"):"--"}),(0,n.jsx)(K.Z,{className:"w-9 h-9 mr-8 place-items-center self-center",children:(0,n.jsx)(W.Z,{size:"sm",className:"justify-self-end mr-1.5",heroIconName:"".concat(t?"chevron-up":"chevron-down")})})]}),N=(0,n.jsxs)(H.Z,{open:t,children:[(0,n.jsx)(H.Z.Face,{children:(0,n.jsxs)(es.Z,{type:"grid-x",className:"py-4 px-5 mobile:p-2 items-stretch gap-2 grid-cols-[auto,1.1fr,1fr,1fr,auto] bg-[#141041] mobile:rounded-t-lg ".concat(t?"":"rounded-b-3xl mobile:rounded-b-lg"),children:[(0,n.jsx)("div",{className:"w-8 self-center ",children:a?(0,n.jsx)(W.Z,{className:"clickable m-auto self-center",iconSrc:"/icons/misc-star-filled.svg",onClick:e=>{let{ev:t}=e;t.stopPropagation(),null==c||c((0,Z.ZP)(i.id))},size:"sm"}):(0,n.jsx)(W.Z,{className:"clickable opacity-30 hover:opacity-80 transition clickable-mask-offset-2 m-auto self-center",iconSrc:"/icons/misc-star-empty.svg",onClick:e=>{let{ev:t}=e;t.stopPropagation(),null==m||m((0,Z.ZP)(i.id))},size:"sm"})}),(0,n.jsx)(eH,{info:i,className:"self-center"}),(0,n.jsx)(eK,{name:"TVL",value:(0,u.aE)(i)?"--":i.tvl?"≈".concat((0,ep.Z)(i.tvl,{autoSuffix:!0,decimalPlace:1})):"--",subValue:(0,u.aE)(i)?"--":i.stakedLpAmount&&"".concat((0,ed.S)(i.stakedLpAmount,{decimalPlace:1})," LP")}),(0,n.jsx)(eK,{name:"APR(".concat(h,")"),value:(0,u.aE)(i)?"--":(0,n.jsxs)(ei.Z,{placement:"right",children:[i.totalApr7d?(0,eu.Z)(i.totalApr7d):"--",(0,n.jsxs)(ei.Z.Panel,{children:[i.raydiumFeeApr7d&&(0,n.jsxs)("div",{className:"whitespace-nowrap",children:["Fees ",(0,eu.Z)(i.raydiumFeeApr7d)]}),i.rewards.map((e,t)=>{let{apr:s,token:r,userHavedReward:l}=e;return l&&(0,n.jsxs)("div",{className:"whitespace-nowrap",children:[null==r?void 0:r.symbol," ",(0,eu.Z)(s)]},t)})]})]})}),(0,n.jsx)(K.Z,{className:"w-6 h-6 place-items-center self-center",children:(0,n.jsx)(W.Z,{size:"sm",heroIconName:"".concat(t?"chevron-up":"chevron-down")})})]})}),(0,n.jsx)(H.Z.Body,{})]});return p?N:w}function eB(e){var t;let{farmInfo:s}=e,r=(0,T.O)(e=>e.lpPrices),l=(0,F.ZP)(e=>e.tokenPrices),a=(0,o.ZP)(e=>e.isMobile),d=(0,v.Z)(e=>e.connected),f=(0,v.Z)(e=>e.owner),p=(0,v.Z)(e=>e.balances),h=(0,eg.$u)(p[(0,Z.ZP)(s.lpMint)]),g=(0,u.lr)(s)&&s.rewards.some(e=>{let{userPendingReward:t}=e;return(0,eg.$u)(t)}),b=(0,I.Z)(e=>e.logSuccess),k=(0,o.ZP)(e=>e.isApprovePanelShown),y=(0,i.p)(e=>e.jsonInfos),N=null==y?void 0:y.some(e=>e.lpMint===(0,Z.ZP)(s.lpMint));return(0,u.aE)(s)?null:(0,n.jsxs)("div",{className:"rounded-b-3xl mobile:rounded-b-lg overflow-hidden",style:{background:"linear-gradient(126.6deg, rgba(171, 196, 255, 0.12), rgb(171 196 255 / 4%) 100%)"},children:[(0,n.jsxs)(M.Z,{is:a?"Col":"Row",className:"mobile:gap-3",children:[(0,n.jsxs)(M.Z,{is:a?"Col":"Grid",className:"grid-cols-[1fr,1.5fr] gap-8 mobile:gap-3 flex-grow px-8 py-5 mobile:px-4 mobile:py-3",children:[(0,n.jsxs)(es.Z,{className:"p-6 mobile:py-3 mobile:px-4 flex-grow ring-inset ring-1 mobile:ring-1 ring-[rgba(171,196,255,.5)] rounded-3xl mobile:rounded-xl items-center gap-3",children:[(0,n.jsxs)("div",{className:"flex-grow",children:[(0,n.jsx)("div",{className:"text-[rgba(171,196,255,0.5)] font-medium text-sm mobile:text-2xs mb-1",children:"Deposited"}),(0,n.jsx)("div",{className:"text-white font-medium text-base mobile:text-xs",children:r[String(s.lpMint)]&&s.userStakedLpAmount?(0,ep.Z)((0,ex.Z)(s.userStakedLpAmount,r[String(s.lpMint)])):"--"}),s.userStakedLpAmount&&(0,n.jsxs)("div",{className:"text-[rgba(171,196,255,0.5)] font-medium text-sm mobile:text-xs",children:[(0,em.Z)((0,eZ.B)(s.userStakedLpAmount),{fractionLength:null===(t=s.userStakedLpAmount)||void 0===t?void 0:t.token.decimals})," ","LP"]})]}),(0,n.jsx)(es.Z,{className:"gap-3",children:s.userHasStaked?(0,n.jsxs)(n.Fragment,{children:[N?(0,n.jsx)(D.Z,{className:"text-base mobile:text-sm font-medium frosted-glass frosted-glass-teal rounded-xl flex-grow",onClick:()=>{c.ZP.setState({isMigrateToClmmDialogOpen:!0}),j.Z.setState({currentDialogInfo:s})},children:"Migrate"}):(0,n.jsx)(D.Z,{className:"frosted-glass-teal mobile:px-6 mobile:py-2 mobile:text-xs",disabled:s.isClosedPool&&!s.isUpcomingPool||!h,validators:[{should:!s.isClosedPool},{should:d,forceActive:!0,fallbackProps:{children:"Connect Wallet",onClick:()=>o.ZP.setState({isWalletSelectorShown:!0})}},{should:h,forceActive:!0,fallbackProps:{children:"Add Liquidity",onClick:()=>(0,A.Eh)("/liquidity/add",{queryProps:{ammId:s.ammId}})}}],onClick:()=>{d?j.Z.setState({isStakeDialogOpen:!0,stakeDialogMode:"deposit",currentDialogInfo:s}):o.ZP.setState({isWalletSelectorShown:!0})},children:"Stake"}),(0,n.jsxs)(ei.Z,{children:[(0,n.jsx)(W.Z,{size:a?"sm":"smi",heroIconName:"minus",className:"grid place-items-center w-10 h-10 mobile:w-8 mobile:h-8 ring-inset ring-1 mobile:ring-1 ring-[rgba(171,196,255,.5)] rounded-xl mobile:rounded-lg text-[rgba(171,196,255,.5)] clickable clickable-filter-effect",onClick:()=>{d?j.Z.setState({isStakeDialogOpen:!0,stakeDialogMode:"withdraw",currentDialogInfo:s}):o.ZP.setState({isWalletSelectorShown:!0})}}),(0,n.jsx)(ei.Z.Panel,{children:"Unstake LP"})]})]}):(0,n.jsx)(D.Z,{className:"frosted-glass-teal mobile:py-2 mobile:text-xs",validators:[{should:!s.isClosedPool},{should:d,forceActive:!0,fallbackProps:{children:"Connect Wallet",onClick:()=>o.ZP.setState({isWalletSelectorShown:!0})}},{should:h,forceActive:!0,fallbackProps:{children:"Add Liquidity",onClick:()=>(0,A.Eh)("/liquidity/add",{queryProps:{ammId:s.ammId}})}}],onClick:()=>{j.Z.setState({isStakeDialogOpen:!0,stakeDialogMode:"deposit",currentDialogInfo:s})},children:"Start Farming"})})]}),(0,n.jsxs)(M.Z,{is:a?"Col":"Row",className:"p-6 mobile:py-3 mobile:px-4 flex-grow ring-inset ring-1 mobile:ring-1 ring-[rgba(171,196,255,.5)] rounded-3xl mobile:rounded-xl items-center gap-3",children:[(0,n.jsxs)("div",{className:"flex-grow w-full",children:[(0,n.jsx)("div",{className:"text-[rgba(171,196,255,0.5)] font-medium text-sm mobile:text-2xs ".concat(s.rewards.length>2?"mb-5":"mb-1"),children:"Pending rewards"}),(0,n.jsx)(K.Z,{className:"gap-board\n                   ".concat(s.rewards.filter(e=>6===e.version||e.userHavedReward).length>1?"grid-cols-2":"grid-cols-1"),style:{clipPath:"inset(17px)",margin:"-17px"},children:(0,w.Do)(s.rewards.map((e,t)=>{var r,i,a;return 6===s.version||e.userHavedReward?(0,n.jsxs)("div",{className:"p-4",children:[(0,n.jsxs)("div",{className:"text-white font-medium text-base mobile:text-xs",children:[e.userPendingReward?(0,eZ.B)(e.userPendingReward):0," ",null===(r=e.token)||void 0===r?void 0:r.symbol]}),(0,n.jsx)("div",{className:"text-[rgba(171,196,255,0.5)] font-medium text-sm mobile:text-xs",children:(null==l?void 0:l[String(null===(i=e.token)||void 0===i?void 0:i.mint)])&&(null==e?void 0:e.userPendingReward)?(0,ep.Z)((0,ex.Z)(e.userPendingReward,l[String(null===(a=e.token)||void 0===a?void 0:a.mint)])):null})]},t):void 0}))})]}),(0,n.jsx)(D.Z,{className:"frosted-glass-teal rounded-xl mobile:w-full mobile:py-2 mobile:text-xs whitespace-nowrap",isLoading:k,onClick:()=>{(0,x.Z)(s,{isStaking:!1,rewardAmounts:s.rewards.map(e=>{let{userPendingReward:t}=e;return t}).filter(eg.$u)})},validators:[{should:d,forceActive:!0,fallbackProps:{onClick:()=>o.ZP.setState({isWalletSelectorShown:!0}),children:"Connect Wallet"}},{should:g}],children:"Harvest"})]})]}),(0,n.jsx)(es.Z,{className:"px-8 py-2 gap-3 items-center self-center justify-center ".concat(a?"bg-[rgba(20,16,65,.2)]":""," mobile:w-full"),children:a?(0,n.jsxs)(es.Z,{className:"gap-5",children:[(0,n.jsx)(W.Z,{size:"sm",heroIconName:"link",className:"grid place-items-center w-10 h-10 mobile:w-8 mobile:h-8 ring-inset ring-1 mobile:ring-1 ring-[rgba(171,196,255,.5)] rounded-xl mobile:rounded-lg text-[rgba(171,196,255,.5)] clickable clickable-filter-effect",onClick:()=>{(0,ec.Z)(new URL("farms/?tab=".concat(j.Z.getState().currentTab,"&farmid=").concat((0,Z.ZP)(s.id)),window.location.origin).toString()).then(()=>{b("Copy Farm Link",(0,n.jsxs)("div",{children:["Farm ID: ",(0,Z.ZP)(s.id)]}))})}}),(0,n.jsx)(W.Z,{size:"sm",heroIconName:"plus",className:"grid place-items-center w-10 h-10 mobile:w-8 mobile:h-8 ring-inset ring-1 mobile:ring-1 ring-[rgba(171,196,255,.5)] rounded-xl mobile:rounded-lg text-[rgba(171,196,255,.5)] clickable clickable-filter-effect",onClick:()=>{(0,A.Eh)("/liquidity/add",{queryProps:{ammId:s.ammId}})}}),(0,n.jsx)(W.Z,{size:"sm",iconSrc:"/icons/msic-swap-h.svg",className:"grid place-items-center w-10 h-10 mobile:w-8 mobile:h-8 ring-inset ring-1 mobile:ring-1 ring-[rgba(171,196,255,.5)] rounded-xl mobile:rounded-lg text-[rgba(171,196,255,.5)] clickable clickable-filter-effect",onClick:()=>{(0,A.Eh)("/swap",{queryProps:{coin1:s.base,coin2:s.quote}})}})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(ei.Z,{children:[(0,n.jsx)(W.Z,{size:"smi",heroIconName:"link",className:"grid place-items-center w-10 h-10 mobile:w-8 mobile:h-8 ring-inset ring-1 mobile:ring-1 ring-[rgba(171,196,255,.5)] rounded-xl mobile:rounded-lg text-[rgba(171,196,255,.5)] clickable clickable-filter-effect",onClick:()=>{(0,ec.Z)(new URL("farms/?tab=".concat(j.Z.getState().currentTab,"&farmid=").concat((0,Z.ZP)(s.id)),window.location.origin).toString()).then(()=>{b("Copy Farm Link",(0,n.jsxs)("div",{children:["Farm ID: ",(0,Z.ZP)(s.id)]}))})}}),(0,n.jsx)(ei.Z.Panel,{children:"Copy Farm Link"})]}),(0,n.jsxs)(ei.Z,{children:[(0,n.jsx)(W.Z,{size:"smi",heroIconName:"plus",className:"grid place-items-center w-10 h-10 mobile:w-8 mobile:h-8 ring-inset ring-1 mobile:ring-1 ring-[rgba(171,196,255,.5)] rounded-xl mobile:rounded-lg text-[rgba(171,196,255,.5)] clickable clickable-filter-effect",onClick:()=>{(0,A.Eh)("/liquidity/add",{queryProps:{ammId:s.ammId}})}}),(0,n.jsx)(ei.Z.Panel,{children:"Add Liquidity"})]}),(0,n.jsxs)(ei.Z,{children:[(0,n.jsx)(W.Z,{size:"smi",iconSrc:"/icons/msic-swap-h.svg",className:"grid place-items-center w-10 h-10 mobile:w-8 mobile:h-8 ring-inset ring-1 mobile:ring-1 ring-[rgba(171,196,255,.5)] rounded-xl mobile:rounded-lg text-[rgba(171,196,255,.5)] clickable clickable-filter-effect",onClick:()=>{(0,A.Eh)("/swap",{queryProps:{coin1:s.base,coin2:s.quote}})}}),(0,n.jsx)(ei.Z.Panel,{children:"Swap"})]})]})})]}),(0,eh.aT)(s.creator,f)&&(0,n.jsx)(es.Z,{className:"bg-[#14104133] py-3 px-8 justify-end",children:(0,n.jsx)(D.Z,{className:"frosted-glass-teal",size:a?"sm":"md",onClick:()=>{m.Z.setState({isRoutedByCreateOrEdit:!0}),(0,A.Eh)("/farms/edit",{queryProps:{farmInfo:s}})},children:"Edit Farm"})})]})}function eU(){let e=(0,v.Z)(e=>e.connected),t=(0,v.Z)(e=>e.balances),s=(0,v.Z)(e=>e.tokenAccounts),l=(0,j.Z)(e=>e.currentDialogInfo),i=(0,j.Z)(e=>e.isStakeDialogOpen),a=(0,j.Z)(e=>e.stakeDialogMode),[c,d]=(0,r.useState)(),m=(0,o.ZP)(e=>e.isApprovePanelShown),u=(0,r.useMemo)(()=>!!(null==l?void 0:l.lpMint)&&s.some(e=>{let{mint:t}=e;return String(t)===String(null==l?void 0:l.lpMint)}),[s,l]),x=(0,r.useMemo)(()=>"deposit"===a?(null==l?void 0:l.lpMint)&&t[String(l.lpMint)]:null==l?void 0:l.userStakedLpAmount,[l,t,a]),p=(0,r.useMemo)(()=>{if((null==l?void 0:l.lp)&&c)return(0,ef.n)(l.lp,c,{alreadyDecimaled:!0})},[l,c]),h=(0,r.useRef)(),g=(0,r.useRef)();return(0,n.jsx)(et.Z,{open:i,onClose:()=>{d(void 0),j.Z.setState({isStakeDialogOpen:!1,currentDialogInfo:void 0})},placement:"from-bottom",children:t=>{let{close:s}=t;return(0,n.jsxs)(z.Z,{className:"backdrop-filter backdrop-blur-xl p-8 w-[min(468px,100vw)] mobile:w-full border-1.5 border-[rgba(171,196,255,0.2)] bg-cyberpunk-card-bg shadow-cyberpunk-card",size:"lg",children:[(0,n.jsxs)(es.Z,{className:"justify-between items-center mb-6",children:[(0,n.jsx)("div",{className:"text-xl font-semibold text-white",children:"withdraw"===a?"Unstake LP":"Stake LP"}),(0,n.jsx)(W.Z,{className:"text-[#ABC4FF] cursor-pointer",heroIconName:"x",onClick:s})]}),(0,n.jsx)(B.Z,{className:"mb-6",componentRef:h,topLeftLabel:"Farm",token:null==l?void 0:l.lp,onUserInput:d,onEnter:e=>{var t,s;e&&(null===(t=g.current)||void 0===t||null===(s=t.click)||void 0===s||s.call(t))},maxValue:"withdraw"===a?null==l?void 0:l.userStakedLpAmount:void 0,topRightLabel:"withdraw"===a?(null==l?void 0:l.userStakedLpAmount)?"Deposited: ".concat((0,eZ.B)(null==l?void 0:l.userStakedLpAmount)):"(no deposited)":void 0}),(0,n.jsxs)(es.Z,{className:"flex-col gap-1",children:[(0,n.jsx)(D.Z,{className:"frosted-glass-teal",componentRef:g,isLoading:m,validators:[{should:e},{should:null==l?void 0:l.lp},{should:c},{should:(0,eg.gt)(p,0)},{should:(0,eg.eg)(x,p),fallbackProps:{children:"Insufficient Lp Balance"}},{should:"withdraw"==a||u,fallbackProps:{children:"No Stakable LP"}}],onClick:()=>{if(!(null==l?void 0:l.lp)||!c)return;let e=(0,ef.n)(l.lp,c,{alreadyDecimaled:!0});("withdraw"===a?(0,y.Z)(l,{isStaking:!1,amount:e}):(0,f.Z)(l,{isStaking:!1,amount:e})).then(()=>{s()})},children:"withdraw"===a?"Unstake LP":"Stake LP"}),(0,n.jsx)(D.Z,{type:"text",disabled:m,className:"text-sm backdrop-filter-none",onClick:s,children:"Cancel"})]})]})}})}function eH(e){let{info:t,className:s}=e,r=(0,o.ZP)(e=>e.isMobile),i=(0,F.ZP)(e=>e.getLpToken),c=(0,F.ZP)(e=>e.getToken),d=!(0,u.aE)(t)&&t.isStablePool,m=(0,j.Z)(e=>e.currentTab),f=(0,a.Z)(e=>e.programIds),x=(0,C.Z)(e=>e.jsonInfos),p=x.find(e=>e.lpMint===t.lpMint);if((0,u.aE)(t))return i(t.lpMint),(0,n.jsxs)(M.Z,{is:r?"Col":"Row",className:(0,l.m)("flex-wrap items-center mobile:items-start",s),children:[(0,n.jsx)(q.Z,{className:"justify-self-center mr-2",size:r?"sm":"md",token1:c(t.baseMint),token2:c(t.quoteMint)}),(0,n.jsx)("div",{children:c(t.baseMint)&&(0,n.jsxs)(es.Z,{className:"mobile:text-xs font-medium mobile:mt-px mr-1.5",children:[(0,n.jsx)(eV,{mint:t.baseMint})," - ",(0,n.jsx)(eV,{mint:t.quoteMint})]})})]});let{base:h,quote:g,name:b}=t;return(0,n.jsxs)(M.Z,{is:r?"Col":"Row",className:(0,l.m)("flex-wrap items-center mobile:items-start gap-x-2 gap-y-1",s),children:[(0,n.jsx)(q.Z,{className:"justify-self-center mr-2",size:r?"sm":"md",token1:h,token2:g}),(0,n.jsxs)(es.Z,{className:"mobile:text-xs font-medium mobile:mt-px mr-1.5",children:[(0,n.jsx)(eV,{mint:t.baseMint}),"-",(0,n.jsx)(eV,{mint:t.quoteMint}),"Ecosystem"===m&&(0,n.jsxs)(ei.Z,{children:[(0,n.jsx)(W.Z,{iconClassName:"ml-1",size:"sm",heroIconName:"information-circle"}),(0,n.jsx)(ei.Z.Panel,{children:(0,n.jsx)("div",{className:"max-w-[300px] space-y-1.5",children:[null==t?void 0:t.baseMint,null==t?void 0:t.quoteMint].map((e,t)=>e?(0,n.jsxs)(es.Z,{className:"gap-2",children:[c(e)&&(0,n.jsx)(O.Z,{size:"xs",token:c(e)}),(0,n.jsx)(L.U,{className:"grow",showDigitCount:5,addressType:"token",canCopy:!0,canExternalLink:!0,textClassName:"flex text-xs text-[#abc4ff] justify-start ",iconClassName:"text-[#abc4ff]",children:(0,Z.ZP)(e)})]},t):null)})})]})]}),t.isClosedPool&&(0,n.jsx)(R.C,{cssColor:"#DA2EEF",children:"Inactive"}),d&&(0,n.jsx)(R.C,{children:"Stable"}),t.isDualFusionPool&&6!==t.version&&(0,n.jsx)(R.C,{cssColor:"#DA2EEF",children:"Dual Yield"}),t.isNewPool&&(0,n.jsx)(R.C,{cssColor:"#00d1ff",children:"New"}),t.isUpcomingPool&&(0,n.jsx)(R.C,{cssColor:"#5dadee",children:"Upcoming"}),p&&(0,eh.$F)(p.marketProgramId,f.OPENBOOK_MARKET)&&(0,n.jsx)(Q.$,{})]})}function eV(e){var t,s;let{mint:r}=e,l=(0,F.ZP)(e=>e.getToken),i=(0,F.ZP)(e=>e.tokenListSettings),a=i["UnNamed Token List"].mints,o=l(r);return(null==a?void 0:a.has((0,Z.ZP)(r)))?(0,n.jsxs)(es.Z,{className:"items-center",children:[(0,n.jsx)("div",{children:null!==(t=null==o?void 0:o.symbol)&&void 0!==t?t:"UNKNOWN"}),(0,n.jsx)("div",{children:(0,n.jsxs)(ei.Z,{children:[(0,n.jsx)(W.Z,{className:"cursor-help",size:"sm",heroIconName:"question-mark-circle"}),(0,n.jsx)(ei.Z.Panel,{children:(0,n.jsxs)("div",{className:"max-w-[220px]",children:[(0,n.jsx)("div",{children:"This token does not currently have a ticker symbol. Check to ensure it is the token you want to interact with."}),(0,n.jsx)(es.Z,{className:"gap-2 mt-4 w-fit mx-auto",children:(0,n.jsx)(L.U,{className:"grow",showDigitCount:8,addressType:"token",canCopy:!0,canExternalLink:!0,textClassName:"flex text-xs text-[#abc4ff]",iconClassName:"text-[#abc4ff]",children:(0,Z.ZP)(null==o?void 0:o.mint)})})]})})]})})]}):(0,n.jsx)(n.Fragment,{children:null!==(s=null==o?void 0:o.symbol)&&void 0!==s?s:"UNKNOWN"})}function eK(e){let{name:t,value:s,subValue:r,className:l,loading:i="--"===s||"--"===r}=e,a=(0,o.ZP)(e=>e.isMobile);return(0,n.jsxs)(U.Z,{className:l,children:[a&&(0,n.jsx)("div",{className:" mb-1 text-[rgba(171,196,255,0.5)] font-medium text-sm mobile:text-2xs",children:t}),(0,n.jsx)(U.Z,{className:"flex-grow justify-center",children:i?(0,n.jsx)(Y.Z,{className:"w-4 h-4"}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"text-base mobile:text-xs",children:s||"--"}),r&&(0,n.jsx)("div",{className:"text-sm mobile:text-2xs text-[rgba(171,196,255,0.5)]",children:r})]})})]})}},95389:function(e,t,s){"use strict";s.d(t,{_:function(){return m},b:function(){return d}});var n=s(67294),r=s(19946),l=s(12351),i=s(16723),a=s(23784),o=s(73781);let c=(0,n.createContext)(null);function d(){let[e,t]=(0,n.useState)([]);return[e.length>0?e.join(" "):void 0,(0,n.useMemo)(()=>function(e){let s=(0,o.z)(e=>(t(t=>[...t,e]),()=>t(t=>{let s=t.slice(),n=s.indexOf(e);return -1!==n&&s.splice(n,1),s}))),r=(0,n.useMemo)(()=>({register:s,slot:e.slot,name:e.name,props:e.props}),[s,e.slot,e.name,e.props]);return n.createElement(c.Provider,{value:r},e.children)},[t])]}let m=(0,l.yV)(function(e,t){let s=(0,r.M)(),{id:o=`headlessui-label-${s}`,passive:d=!1,...m}=e,u=function e(){let t=(0,n.useContext)(c);if(null===t){let t=Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,e),t}return t}(),f=(0,a.T)(t);(0,i.e)(()=>u.register(o),[o,u.register]);let x={ref:f,...u.props,id:o};return d&&("onClick"in x&&delete x.onClick,"onClick"in m&&delete m.onClick),(0,l.sY)({ourProps:x,theirProps:m,slot:u.slot||{},defaultTag:"label",name:u.name||"Label"})})},36798:function(e,t,s){"use strict";s.d(t,{r:function(){return v}});var n=s(67294),r=s(12351),l=s(19946),i=s(61363),a=s(64103),o=s(95389),c=s(39516),d=s(16723);function m(e){var t;if(e.type)return e.type;let s=null!=(t=e.as)?t:"button";if("string"==typeof s&&"button"===s.toLowerCase())return"button"}var u=s(23784),f=s(46045),x=s(18689),p=s(73781),h=s(31147),g=s(94192);let b=(0,n.createContext)(null);b.displayName="GroupContext";let Z=n.Fragment,v=Object.assign((0,r.yV)(function(e,t){let s=(0,l.M)(),{id:o=`headlessui-switch-${s}`,checked:c,defaultChecked:Z=!1,onChange:v,name:j,value:k,...y}=e,w=(0,n.useContext)(b),N=(0,n.useRef)(null),S=(0,u.T)(N,t,null===w?null:w.setSwitch),[P,C]=(0,h.q)(c,v,Z),I=(0,p.z)(()=>null==C?void 0:C(!P)),T=(0,p.z)(e=>{if((0,a.P)(e.currentTarget))return e.preventDefault();e.preventDefault(),I()}),A=(0,p.z)(e=>{e.key===i.R.Space?(e.preventDefault(),I()):e.key===i.R.Enter&&(0,x.g)(e.currentTarget)}),F=(0,p.z)(e=>e.preventDefault()),E=(0,n.useMemo)(()=>({checked:P}),[P]),L={id:o,ref:S,role:"switch",type:function(e,t){let[s,r]=(0,n.useState)(()=>m(e));return(0,d.e)(()=>{r(m(e))},[e.type,e.as]),(0,d.e)(()=>{s||!t.current||t.current instanceof HTMLButtonElement&&!t.current.hasAttribute("type")&&r("button")},[s,t]),s}(e,N),tabIndex:0,"aria-checked":P,"aria-labelledby":null==w?void 0:w.labelledby,"aria-describedby":null==w?void 0:w.describedby,onClick:T,onKeyUp:A,onKeyPress:F},M=(0,g.G)();return(0,n.useEffect)(()=>{var e;let t=null==(e=N.current)?void 0:e.closest("form");t&&void 0!==Z&&M.addEventListener(t,"reset",()=>{C(Z)})},[N,C]),n.createElement(n.Fragment,null,null!=j&&P&&n.createElement(f._,{features:f.A.Hidden,...(0,r.oA)({as:"input",type:"checkbox",hidden:!0,readOnly:!0,checked:P,name:j,value:k})}),(0,r.sY)({ourProps:L,theirProps:y,slot:E,defaultTag:"button",name:"Switch"}))}),{Group:function(e){let[t,s]=(0,n.useState)(null),[l,i]=(0,o.b)(),[a,d]=(0,c.f)(),m=(0,n.useMemo)(()=>({switch:t,setSwitch:s,labelledby:l,describedby:a}),[t,s,l,a]);return n.createElement(d,{name:"Switch.Description"},n.createElement(i,{name:"Switch.Label",props:{onClick(){t&&(t.click(),t.focus({preventScroll:!0}))}}},n.createElement(b.Provider,{value:m},(0,r.sY)({ourProps:{},theirProps:e,defaultTag:Z,name:"Switch.Group"}))))},Label:o._,Description:c.d})},31147:function(e,t,s){"use strict";s.d(t,{q:function(){return l}});var n=s(67294),r=s(73781);function l(e,t,s){let[l,i]=(0,n.useState)(s),a=void 0!==e,o=(0,n.useRef)(a),c=(0,n.useRef)(!1),d=(0,n.useRef)(!1);return!a||o.current||c.current?a||!o.current||d.current||(d.current=!0,o.current=a,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")):(c.current=!0,o.current=a,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")),[a?e:l,(0,r.z)(e=>(a||i(e),null==t?void 0:t(e)))]}},18689:function(e,t,s){"use strict";function n(e,t){return e?e+"["+t+"]":t}function r(e){var t;let s=null!=(t=null==e?void 0:e.form)?t:e.closest("form");if(s){for(let e of s.elements)if("INPUT"===e.tagName&&"submit"===e.type||"BUTTON"===e.tagName&&"submit"===e.type||"INPUT"===e.nodeName&&"image"===e.type){e.click();return}}}s.d(t,{g:function(){return r},t:function(){return function e(t={},s=null,r=[]){for(let[l,i]of Object.entries(t))!function t(s,r,l){if(Array.isArray(l))for(let[e,i]of l.entries())t(s,n(r,e.toString()),i);else l instanceof Date?s.push([r,l.toISOString()]):"boolean"==typeof l?s.push([r,l?"1":"0"]):"string"==typeof l?s.push([r,l]):"number"==typeof l?s.push([r,`${l}`]):null==l?s.push([r,""]):e(l,r,s)}(r,n(s,l),i);return r}}})}},function(e){e.O(0,[4740,7571,8667,7664,4109,6347,2314,9774,2888,179],function(){return e(e.s=49895)}),_N_E=e.O()}]);