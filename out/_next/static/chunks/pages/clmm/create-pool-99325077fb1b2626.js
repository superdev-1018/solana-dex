(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5355],{71716:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/clmm/create-pool",function(){return n(34472)}])},6262:function(e,t,n){"use strict";n.d(t,{Ek:function(){return c},TL:function(){return m},vt:function(){return d},yc:function(){return u}});var i=n(75640),s=n(27713),l=n(4465),o=n(51523),a=n(84207);function r(e){let t=i.c2c.getPriceAndTick(e);return(0,s.JS)(t)}function c(e){let t=i.c2c.getTickPrice(e);return(0,s.JS)(t)}function d(e){let{coin1:t,coin2:n,reverse:i,ammPool:l,maxDecimals:c}=e;if(l)try{var d,u;let e=c||(t||n?Math.max(null!==(d=null==t?void 0:t.decimals)&&void 0!==d?d:0,null!==(u=null==n?void 0:n.decimals)&&void 0!==u?u:0):6),m=100===l.ammConfig.tradeFeeRate,p=m?.01:.2,x=(0,s.eZ)(null==l?void 0:l.state.currentPrice),f=(0,o.kg)(x?(0,o.dC)(x,1-p):0,1/10**e),v=(0,o.kg)(x?(0,o.dC)(x,1+p):0,1/10**e),{price:b,tick:h}=r({poolInfo:l.state,baseIn:!0,price:(0,s.I2)((0,a.Z)(f))}),{price:Z,tick:g}=r({poolInfo:l.state,baseIn:!0,price:(0,s.I2)((0,a.Z)(v))});if(i)return{priceLowerTick:g,priceLower:(0,o.hi)(1,Z),priceUpperTick:h,priceUpper:(0,o.hi)(1,b)};return{priceLowerTick:h,priceLower:b,priceUpperTick:g,priceUpper:Z}}catch(e){return}}function u(e){let{p:t,coin1:n,coin2:i,reverse:o,ammPool:c,maxDecimals:d}=e,u=o?i:n;try{let{price:e,tick:n}=r({poolInfo:c.state,baseIn:(0,l.aT)(c.state.mintA.mint,null==u?void 0:u.mint),price:(0,s.I2)((0,a.Z)(Math.max(Number(t),1/10**(d||6))))});return{price:e,tick:n}}catch(e){return}}function m(e){let{min:t,max:n,coin1:i,coin2:s,reverse:l,ammPool:o,maxDecimals:a}=e,r=u({p:t,coin1:i,coin2:s,ammPool:o,reverse:l,maxDecimals:a}),c=u({p:n,coin1:i,coin2:s,ammPool:o,reverse:l,maxDecimals:a});return{priceLower:r.price,priceLowerTick:r.tick,priceUpper:c.price,priceUpperTick:c.tick}}},13039:function(e,t,n){"use strict";n.d(t,{B:function(){return p},Z:function(){return m}});var i=n(8667),s=n(53002),l=n(34003),o=n(72573),a=n(75640),r=n(96662),c=n(42186),d=n(475),u=n(94678);function m(){let{currentAmmPool:e=u.ZP.getState().currentAmmPool,onSuccess:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.ZP)(async n=>{var i,s;let{transactionCollector:l}=n,{coin1:a,coin2:r,coin1Amount:c,coin2Amount:d}=u.ZP.getState(),{innerTransactions:m,nftAddress:x}=await p(e);l.add(m,{onTxAllSuccess(){null==t||t({nftAddress:x})},txHistoryInfo:{title:"Position Created",forceErrorTitle:"Error creating position",description:"Added ".concat((0,o.B)(c)," ").concat(null!==(i=null==a?void 0:a.symbol)&&void 0!==i?i:"--"," and ").concat((0,o.B)(d)," ").concat(null!==(s=null==r?void 0:r.symbol)&&void 0!==s?s:"--")}})})}async function p(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.ZP.getState().currentAmmPool,{priceLower:t,priceUpper:n,coin1:i,coin2:o,coin1Amount:m,coin2Amount:p,liquidity:x,priceLowerTick:f,priceUpperTick:v}=u.ZP.getState(),{tokenAccountRawInfos:b}=s.Z.getState(),{connection:h}=r.ZP.getState(),{owner:Z}=s.Z.getState();(0,l.Z)(h,"no rpc connection"),(0,l.Z)(Z,"wallet not connected"),(0,l.Z)(e,"not seleted amm pool"),(0,l.Z)(void 0!==v,"not set priceUpperTick"),(0,l.Z)(void 0!==f,"not set priceLowerTick"),(0,l.Z)(n,"not set priceUpper"),(0,l.Z)(t,"not set priceLower"),(0,l.Z)(i,"not set coin1"),(0,l.Z)(m,"not set coin1Amount"),(0,l.Z)(o,"not set coin2"),(0,l.Z)(p,"not set coin2Amount"),(0,l.Z)(x,"not set liquidity");let g=(0,c.Dn)(i)||(0,c.Dn)(o),{innerTransactions:y,address:j}=await a.c2c.makeOpenPositionInstructionSimple({connection:h,liquidity:x,poolInfo:e.state,ownerInfo:{feePayer:Z,wallet:Z,tokenAccounts:b,useSOLBalance:g},tickLower:Math.min(f,v),tickUpper:Math.max(f,v),slippage:.015,computeBudgetConfig:await (0,d.u)()});return{innerTransactions:y,nftAddress:String(j.nftMint)}}},52784:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var i=n(67294),s=n(3363),l=n(4465),o=n(94678);function a(e){let t=(0,o.ZP)(e=>e.coin1),n=(0,o.ZP)(e=>e.coin2),a=(0,o.ZP)(e=>e.hydratedAmmPools),r=(0,o.ZP)(e=>e.currentAmmPool),c=(0,i.useCallback)(e=>{let t=void 0!==r&&1===e.filter(e=>(0,s.ZP)(e.state.id)===r.idString).length;return t},[r]);(0,i.useEffect)(()=>{if(!a.length||!t||!n){o.ZP.setState({selectableAmmPools:void 0,currentAmmPool:void 0});return}let i=a.filter(e=>(0,l.aT)(e.state.mintA.mint,t.mint)&&(0,l.aT)(e.state.mintB.mint,n.mint)||(0,l.aT)(e.state.mintA.mint,n.mint)&&(0,l.aT)(e.state.mintB.mint,t.mint)),s=c(i);o.ZP.setState(e||s?{selectableAmmPools:i}:{selectableAmmPools:i,currentAmmPool:i[0]})},[t,n,a,e])}},76961:function(e,t,n){"use strict";n.d(t,{Z:function(){return x}});var i=n(67294),s=n(75640),l=n(91371),o=n(34003),a=n(3363),r=n(62952),c=n(4465),d=n(81451),u=n(51523),m=n(71375),p=n(94678);function x(){let e=(0,l.ZP)(e=>e.slippageTolerance),t=(0,p.ZP)(e=>e.coin1),n=(0,p.ZP)(e=>e.coin1Amount),x=(0,p.ZP)(e=>e.priceUpperTick),f=(0,p.ZP)(e=>e.coin2),v=(0,p.ZP)(e=>e.coin2Amount),b=(0,p.ZP)(e=>e.priceLowerTick),h=(0,p.ZP)(e=>e.userCursorSide),Z=(0,p.ZP)(e=>e.isRemoveDialogOpen),g=(0,p.ZP)(e=>e.currentAmmPool),y=(0,p.ZP)(e=>e.targetUserPositionAccount),j=(0,p.ZP)(e=>e.isInput),P=(0,i.useMemo)(()=>Z?0:e,[Z,e]),N=(0,i.useMemo)(()=>{if(g&&y){var e;return null===(e=g.positionAccount)||void 0===e?void 0:e.find(e=>(0,a.ZP)(e.nftMint)===(0,a.ZP)(y.nftMint))}},[g,y]),S=(0,i.useCallback)(()=>{if((0,o.Z)(g,"not pool info"),(0,o.Z)(t,"not set coin1"),(0,o.Z)(void 0!==x,"not set priceUpperTick"),(0,o.Z)(f,"not set coin2"),(0,o.Z)(void 0!==b,"not set priceLowerTick"),Z&&!1===j)return;let e="coin1"===h,i=(0,c.aT)(t.mint,g.state.mintA.mint),l=e?n:v,a=void 0!==l&&""!==l,P=e?(0,m.Z)((0,u.dC)(null!=n?n:0,10**t.decimals)):(0,m.Z)((0,u.dC)(null!=v?v:0,10**f.decimals)),{liquidity:S,amountSlippageA:k,amountSlippageB:C}=Z&&N&&y&&y.amountA&&y.amountB&&(0,d.$u)(N.liquidity)?function(e,t,n,i,s){let l=(0,u.hi)(e,s?n:i),o=(0,m.Z)(s?(0,u.dC)(i,l):(0,u.dC)(n,l));return{liquidity:(0,m.Z)((0,u.dC)(t,l)),amountSlippageA:s?e:o,amountSlippageB:s?o:e,amountA:s?e:o,amountB:s?o:e}}(P,null==N?void 0:N.liquidity,(0,m.Z)(N.amountA),(0,m.Z)(N.amountB),e):s.c2c.getLiquidityAmountOutFromAmountIn({poolInfo:g.state,slippage:0,inputA:e&&i||!i&&!e,tickUpper:Math.max(x,b),tickLower:Math.min(b,x),amount:P,add:!Z});e?p.ZP.setState({coin2Amount:a?(0,r.n)(f,i?C:k).toFixed():void 0}):p.ZP.setState({coin1Amount:a?(0,r.n)(t,i?k:C).toFixed():void 0}),p.ZP.setState({liquidity:S})},[t,n,x,f,v,b,h,g,Z,j,y,N,P]);(0,i.useEffect)(()=>{try{S()}catch(e){console.log("still can't calc amount",e instanceof Error?e.message:e)}},[S])}},475:function(e,t,n){"use strict";n.d(t,{u:function(){return s}});var i=n(62512);async function s(){var e;let t=await (0,i.Z)("https://solanacompass.com/api/fees",{cacheFreshTime:3e5}),{avg:n}=null!==(e=null==t?void 0:t[15])&&void 0!==e?e:{};if(n)return{units:4e5,microLamports:Math.min(Math.ceil(1e6*n/4e5),25e3)}}},54531:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var i=n(85893);n(67294);var s=n(66180),l=n(70745),o=n(51800);function a(e){let{token1:t,token2:n,size:a,className:r,CoinAvatar1:c,CoinAvatar2:d}=e;return(0,i.jsxs)(o.Z,{className:(0,s.m)("-space-x-1",r),children:[(0,i.jsx)(l.Z,{size:a,token:t,...c}),(0,i.jsx)(l.Z,{size:a,token:n,...d})]})}},40816:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var i=n(85893),s=n(67294),l=n(66180);function o(e){let{classNames:t,tabs:n,selectedValue:o,onChange:a,tabClassName:r}=e,c=(0,s.useCallback)(e=>{null==a||a(n.find(t=>t.value===e.currentTarget.dataset.val))},[a,n]);return(0,i.jsx)("div",{className:(0,l.m)("flex rounded-lg p-1 bg-dark-blue",t),children:n.map(e=>{let t=o===e.value;return(0,i.jsx)("div",{onClick:t?void 0:c,"data-val":e.value,className:(0,l.m)("flex text-xs text-[#39D0D8] ".concat(t?"bg-active-tab-bg cursor-default":"cursor-pointer opacity-50"),e.className),children:(0,i.jsx)("div",{className:"py-1 px-2.5",children:e.label})},e.value)})})}},18074:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var i=n(81451),s=n(51523),l=n(84207),o=n(72573),a=n(99881);function r(e,t){try{var n,r;let c=(0,l.Z)(null!=e?e:0),d=c.mul((null==t?void 0:t.alreadyPercented)?1:100).toFixed(null!==(n=null==t?void 0:t.fixed)&&void 0!==n?n:2);if((0,i.eq)(c,0))return"0%";if(!(null==t?void 0:t.exact)&&d===0..toFixed(null!==(r=null==t?void 0:t.fixed)&&void 0!==r?r:2))return(null==t?void 0:t.alwaysSigned)?"<+0.01%":"<0.01%";return(null==t?void 0:t.alwaysSigned)?"".concat((0,i.gt)(d,0)?"+":"-").concat((0,a.Z)((0,i.gt)(d,0)?(0,o.B)(d):(0,o.B)((0,s.dC)(d,-1))),"%"):"".concat((0,a.Z)(d,{fractionLength:null==t?void 0:t.fixed}),"%")}catch(e){return"0%"}}},48678:function(e,t,n){"use strict";n.d(t,{C:function(){return l}});var i=n(81451),s=n(72573);function l(e){if(null==e||e.toString().includes("Infinity")||isNaN(e))return"";let t=e?(0,s.B)(e):"";return(0,i.eq)(t,0)?"":t}},7931:function(e,t,n){"use strict";n.d(t,{H:function(){return l}});var i=n(67294),s=n(12839);function l(e,t,n){var l;let o="all .4s cubic-bezier(0.4, 0, 0.2, 1)",[a,r]=(0,i.useState)(null!==(l=null==n?void 0:n.defaultHasWrapped)&&void 0!==l&&l);(0,i.useEffect)(function(){if(s.N9||!(null==n?void 0:n.defaultHasWrapped))return;let i=e.current,l=t.current;if(!i||!l)return;let o=i.getBoundingClientRect(),a=l.getBoundingClientRect(),r=a.top-o.top,c=o.top<a.top?1:-1;i.style.setProperty("transition",""),l.style.setProperty("transition",""),i.style.setProperty("transform","translateY(".concat(r*c,"px)")),l.style.setProperty("transform","translateY(".concat(-r*c,"px)"))},[]);let c=(0,i.useCallback)(()=>{let n=e.current,i=t.current;if(!n||!i)return;let s=n.getBoundingClientRect(),l=i.getBoundingClientRect(),c=l.top-s.top,d=s.top<l.top?1:-1;n.style.setProperty("transition",o),i.style.setProperty("transition",o),a?(n.style.setProperty("transform","translateY(0px)"),i.style.setProperty("transform","translateY(0px)"),r(!1)):(n.style.setProperty("transform","translateY(".concat(c*d,"px)")),i.style.setProperty("transform","translateY(".concat(-c*d,"px)")),r(!0))},[a,e,t]),d=(0,i.useCallback)(()=>{let n=e.current,i=t.current;n&&i&&(n.style.setProperty("transition",o),i.style.setProperty("transition",o),n.style.setProperty("transform","translateY(0px)"),i.style.setProperty("transform","translateY(0px)"))},[a,e,t]);return(0,i.useEffect)(()=>{let n=e.current,i=t.current,s=()=>{null==n||n.style.setProperty("pointerEvents","none")},l=()=>{null==n||n.style.setProperty("pointerEvents","")};return null==n||n.addEventListener("transitionstart",s),null==n||n.addEventListener("transitionend",l),null==i||i.addEventListener("transitionstart",s),null==i||i.addEventListener("transitionend",l),()=>{null==n||n.removeEventListener("transitionstart",s),null==n||n.removeEventListener("transitionend",l),null==i||i.removeEventListener("transitionstart",s),null==i||i.removeEventListener("transitionend",l)}},[e,t]),[a,{toggleSwap:c,resetSwapPosition:d}]}},58625:function(e,t,n){"use strict";n.d(t,{a:function(){return x}});var i=n(85893),s=n(53002),l=n(51523),o=n(81451),a=n(42186),r=n(72573),c=n(48162),d=n(28948),u=n(51800),m=n(92618),p=n(66180);function x(e){let{solLeastBalance:t,className:n,tooltipText:x}=e,f=(0,s.Z)(e=>e.solBalance),v=(0,l.hi)(f,10**a.Bk);return(0,i.jsx)(d.U,{children:v&&(0,o.lt)(v,null!=t?t:a.kn)&&(0,o.eg)(v,0)&&(0,i.jsxs)(u.Z,{className:(0,p.m)("text-sm mt-2 text-[#D8CB39] items-center justify-center",n),children:["SOL balance: ",(0,r.B)(v)," ",(0,i.jsxs)(m.Z,{placement:"bottom-right",children:[(0,i.jsx)(c.Z,{size:"sm",heroIconName:"question-mark-circle",className:"ml-2 cursor-help"}),(0,i.jsx)(m.Z.Panel,{children:(0,i.jsx)("p",{className:"w-80",children:null!=x?x:"SOL is needed for Solana network fees. A minimum balance of ".concat(null!=t?t:a.kn," SOL is\n                recommended to avoid failed transactions. This swap will leave you with less than \n                ").concat(null!=t?t:a.kn," SOL.")})})]})]})})}},99023:function(e,t,n){"use strict";n.d(t,{Mn:function(){return o},dO:function(){return a}});var i=n(81451),s=n(51523),l=n(84207);function o(e){return e.map(e=>{let{liquidity:t,price:n}=e;return{x:Number(n),y:Number(t)}})}function a(e){let{coin1Amount:t,coin2Amount:n,currentPrice:o,coin1InputDisabled:a,coin2InputDisabled:r}=e,[c,d]=[(a?"0":t)||"0",r?"0":n],[u,m]=[(0,i.gt)(c,0),(0,i.gt)(d,0)],p=(0,l.Z)(d||"0"),x=o?u?(0,s.dC)(c,o).add(p):m?p:(0,l.Z)(1):(0,l.Z)(1);try{let e=o?(0,s.hi)((0,s.dC)(c,o),x).mul(100).toFixed(1):"0",t=o?(0,s.hi)(p,x).mul(100).toFixed(1):"0";return{ratio1:e,ratio2:t}}catch(e){return{}}}},34472:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return eI}});var i,s,l=n(85893),o=n(91371),a=n(62512),r=n(72616),c=n(51523),d=n(26842),u=n(94678),m=n(59277);function p(){let e=(0,u.ZP)(e=>e.availableAmmConfigFeeOptions),t=(0,o.ZP)(e=>e.inDev),n=(0,m.Z)(e=>e.apiUrls.ammV3Configs);(0,d.Z)(async()=>{if(null==e?void 0:e.length)return;let i=await (0,a.Z)(n),s=t?{AjUvAGNuLJiXXGRQ1uiH4v6fBUJm1zwjBwyfK1qe27Ce:{id:"AjUvAGNuLJiXXGRQ1uiH4v6fBUJm1zwjBwyfK1qe27Ce",index:0,protocolFeeRate:12e3,tradeFeeRate:100,fundFeeRate:100,fundOwner:"",tickSpacing:1,description:"Dev"},ABPi23j9qDjCeK5WwutWn6XG8sMRV7AiG1Z5bP8cViuz:{id:"ABPi23j9qDjCeK5WwutWn6XG8sMRV7AiG1Z5bP8cViuz",index:0,protocolFeeRate:12e3,tradeFeeRate:2500,fundFeeRate:2500,fundOwner:"",tickSpacing:60,description:"Dev"},"85JxuepKfJsmb29ZKThuod3yeBS4dXmsCQUbeo1utpeX":{id:"85JxuepKfJsmb29ZKThuod3yeBS4dXmsCQUbeo1utpeX",index:0,protocolFeeRate:12e3,tradeFeeRate:100,fundFeeRate:100,fundOwner:"",tickSpacing:10,description:"Dev"}}:null==i?void 0:i.data;s&&u.ZP.setState({availableAmmConfigFeeOptions:Object.values(s).map(e=>({...e,original:e,protocolFeeRate:(0,r.y)((0,c.hi)(e.protocolFeeRate,1e4),{alreadyDecimaled:!0}),tradeFeeRate:(0,r.y)((0,c.hi)(e.tradeFeeRate,1e4),{alreadyDecimaled:!0})}))})},[t,n])}var x=n(76961),f=n(31555),v=n(43067),b=n(6994),h=n(76104),Z=n(54592),g=n(28948),y=n(48162),j=n(57571),P=n(51800),N=n(9191),S=n(47857),k=n(6262),C=n(34003),w=n(8667),A=n(13039),T=n(81451),L=n(71375),I=n(84207),B=n(72573),F=n(75640),M=n(47511),R=n(67294),E=n(96662),U=n(27713),O=n(475),D=n(19036),z=n(53002),_=n(1684);async function q(){var e;let{coin1:t,coin2:n,userSelectedAmmConfigFeeOption:i,userSettedCurrentPrice:s,focusSide:l,ammPoolStartTime:o}=u.ZP.getState(),{connection:a}=E.ZP.getState(),{owner:r}=z.Z.getState(),{programIds:d}=m.Z.getState();(0,C.Z)(a,"connection is not ready"),(0,C.Z)(t,"not set coin1"),(0,C.Z)(n,"not set coin2"),(0,C.Z)(i,"not set userSelectedAmmConfigFeeOption"),(0,C.Z)(s,"not set userSettedCurrentPrice");let p=(0,T.$u)(s)?"coin1"===l?(0,I.Z)(s):(0,c.hi)(1,s):(0,I.Z)(0),x=(0,L.Z)((null!==(e=null==o?void 0:o.getTime())&&void 0!==e?e:0)/1e3),{innerTransactions:f,address:v}=await F.c2c.makeCreatePoolInstructionSimple({connection:a,programId:d.CLMM,mint1:{mint:t.mint,decimals:t.decimals},mint2:{mint:n.mint,decimals:n.decimals},ammConfig:(0,D.R)(i.original),initialPrice:(0,U.I2)(p,15),owner:null!=r?r:M.nh.default,computeBudgetConfig:await (0,O.u)(),startTime:x}),b=F.c2c.makeMockPoolInfo({ammConfig:(0,D.R)(i.original),mint1:{mint:t.mint,decimals:t.decimals},mint2:{mint:n.mint,decimals:n.decimals},owner:null!=r?r:M.nh.default,programId:d.CLMM,createPoolInstructionSimpleAddress:v,initialPrice:(0,U.I2)(p,15),startTime:x});u.ZP.setState({tempDataCache:f}),u.ZP.setState({currentAmmPool:(0,_.Z)({state:b})})}var H=n(94355),G=n(70745),X=n(54531),W=n(97664),Y=n(25194),J=n(60421),V=n(72259),K=n(18074),$=n(62952),Q=n(95865),ee=n(4465),et=n(14209),en=n(22305),ei=n(99779),es=n(7931),el=n(92224),eo=n(90482),ea=n(66180),er=n(99023),ec=n(58625),ed=n(87980),eu=n(52784),em=n(3363),ep=n(92618);function ex(e){let{className:t}=e,n=(0,u.ZP)(e=>e.selectableAmmPools),i=null==n?void 0:n.map(e=>(0,em.ZP)(e.ammConfig.id)),s=(0,u.ZP)(e=>e.userSelectedAmmConfigFeeOption),o=(0,u.ZP)(e=>e.availableAmmConfigFeeOptions);return p(),(0,eu.Z)(!0),!function(){let e=(0,u.ZP)(e=>e.coin1),t=(0,u.ZP)(e=>e.coin2),n=(0,u.ZP)(e=>e.selectableAmmPools),i=null==n?void 0:n.map(e=>(0,em.ZP)(e.ammConfig.id)),s=(0,u.ZP)(e=>e.availableAmmConfigFeeOptions),l=null==s?void 0:s.filter(e=>!(null==i?void 0:i.includes(e.id))),o=null==l?void 0:l.map(e=>e.id).join("_");(0,R.useEffect)(()=>{if(l&&e&&t){let e=l.find(e=>(0,T.eq)(e.tradeFeeRate,.0025));u.ZP.setState({userSelectedAmmConfigFeeOption:e})}else u.ZP.setState({userSelectedAmmConfigFeeOption:void 0})},[o,e,t])}(),(0,l.jsx)(ef,{configs:o,current:s,existIds:i,className:t})}function ef(e){let{configs:t,current:n,existIds:i,className:s}=e,o=(0,u.ZP)(e=>e.coin1),a=(0,u.ZP)(e=>e.coin2);return(0,l.jsx)(P.Z,{className:(0,ea.m)("gap-2",s),children:null==t?void 0:t.map(e=>{let t=e.id===(null==n?void 0:n.id),s=null==i?void 0:i.includes(e.id),r=o&&a&&!s;return(0,l.jsxs)(ep.Z,{disable:!s,children:[(0,l.jsxs)("div",{className:"relative grow items-stretch px-1.5 py-2 ".concat(t?"ring-inset ring-1.5 ring-[#abc4ff]":"ring-inset ring-1.5 ring-[#abc4ff60]"," rounded-xl ").concat(r?"clickable-no-transform select-none":"opacity-30 cursor-not-allowed"),onClick:()=>{r&&u.ZP.setState({userSelectedAmmConfigFeeOption:e})},children:[t?(0,l.jsx)("div",{className:"absolute p-0.5 rounded-full right-1 top-1 -translate-y-1/2 translate-x-1/2 z-10 text-[#abc4ff] bg-[#18225d]",children:(0,l.jsx)(y.Z,{heroIconName:"check-circle",size:"smi"})}):null,(0,l.jsx)("div",{className:"text-white font-medium text-sm mb-2",children:(0,K.Z)(e.tradeFeeRate,{fixed:4})}),(0,l.jsx)("div",{className:"text-[#abc4ff80] text-xs",children:e.description})]}),(0,l.jsx)(ep.Z.Panel,{children:"Already created"})]},e.id)})})}var ev=n(65927),eb=n(48678),eh=n(56419);let eZ=e=>Math.min(e+2,15);function eg(e){var t,n,i,s;let{startTime:o,open:a,coin1:r,coin2:c,coin1Amount:d,coin2Amount:u,focusSide:m,decimals:p,currentPrice:x,position:f,totalDeposit:h,inRange:g,feeRate:j,onConfirm:N,onClose:S}=e,k=R.useRef(!1),C=Math.min(p,6),w=R.useCallback(e=>{null==N||N(e),k.current=!0},[S]),A=R.useCallback(()=>{S()},[S]),T=(0,B.B)(null==f?void 0:f.min,{decimalLength:15,maxSignificantCount:eZ(C)}),L=(0,B.B)(null==f?void 0:f.max,{decimalLength:15,maxSignificantCount:eZ(C)}),I=(null!==(i=null===(t=(0,en.Z)(T).dec)||void 0===t?void 0:t.length)&&void 0!==i?i:0)>10,F=(null!==(s=null===(n=(0,en.Z)(L).dec)||void 0===n?void 0:n.length)&&void 0!==s?s:0)>10;return(0,l.jsx)(ev.Z,{open:a,onClose:A,children:e=>{var t,n;let{close:i}=e;return(0,l.jsxs)(b.Z,{className:(0,ea.m)("p-6 mobile:py-4 mobile:px-2 rounded-3xl w-[min(480px,95vw)] mx-8 border-1.5 border-[rgba(171,196,255,0.2)]  bg-cyberpunk-card-bg shadow-cyberpunk-card"),size:"lg",children:[(0,l.jsxs)(P.Z,{className:"justify-between items-center mb-6 mobile:mb-3",children:[(0,l.jsxs)("div",{className:"text-xl font-semibold text-white mobile:text-base",children:["Preview Deposit to ",null==r?void 0:r.symbol," / ",null==c?void 0:c.symbol]}),(0,l.jsx)(y.Z,{className:"text-[#ABC4FF] cursor-pointer",heroIconName:"x",onClick:i})]}),(0,l.jsxs)("div",{className:"mt-4 border-1.5 border-[#abc4ff40] rounded-xl p-3 mobile:p-2 mobile:mt-3",children:[(0,l.jsx)("span",{className:"text-sm leading-[18px] text-secondary-title",children:"My Position"}),(0,l.jsxs)("div",{className:"text-sm flex leading-[18px] flex-col pt-2.5",children:[(0,l.jsxs)("div",{className:"flex justify-between mb-2.5",children:[(0,l.jsxs)("span",{className:"flex items-center text-sm text-[#abc4ff]",children:[(0,l.jsx)(G.Z,{className:"inline-block mr-1",size:"sm",token:r}),null==r?void 0:r.symbol]}),(0,l.jsxs)("span",{children:[(0,B.B)(d)," ",null==r?void 0:r.symbol]})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsxs)("span",{className:"flex items-center text-sm text-[#abc4ff]",children:[(0,l.jsx)(G.Z,{className:"inline-block mr-1",size:"sm",token:c}),null==c?void 0:c.symbol]}),(0,l.jsxs)("span",{children:[(0,B.B)(u)," ",null==c?void 0:c.symbol]})]}),(0,l.jsxs)("div",{className:"flex justify-between mt-2 pl-1",children:[(0,l.jsx)("span",{className:"flex items-center text-sm text-[#abc4ff]",children:"Fee tier"}),(0,l.jsx)("span",{children:j})]})]})]}),(0,l.jsxs)("div",{className:"mt-4 border-1.5 border-[#abc4ff40] rounded-xl p-3 mobile:p-2 mobile:mt-3",children:[(0,l.jsxs)("div",{className:"text-sm flex justify-between leading-[18px] mb-2 font-medium mobile:text-xs",children:[(0,l.jsx)("span",{className:"flex text-sm leading-[18px] text-secondary-title mr-2",children:"Current Price"}),x?(0,eb.C)((0,B.B)(x,{decimalLength:15})):"0"," ",null===(t="coin1"===m?c:r)||void 0===t?void 0:t.symbol," per ",null===(n="coin1"===m?r:c)||void 0===n?void 0:n.symbol]}),(0,l.jsxs)("div",{className:"flex justify-between mb-3",children:[(0,l.jsx)("span",{className:"text-sm leading-[18px] text-secondary-title",children:"Selected Range"}),(0,l.jsx)("span",{children:g?(0,l.jsxs)(P.Z,{className:"items-center bg-[#142B45] rounded text-xs text-[#39D0D8] py-0.5 px-1 ml-2",children:[(0,l.jsx)(y.Z,{size:"xs",iconSrc:"/icons/check-circle.svg"}),(0,l.jsx)("div",{className:"mobile:text-2xs font-normal",style:{marginLeft:4},children:"In Range"})]}):(0,l.jsxs)(P.Z,{className:"items-center bg-[#DA2EEF]/10 rounded text-xs text-[#DA2EEF] py-0.5 px-1 ml-2",children:[(0,l.jsx)(y.Z,{size:"xs",iconSrc:"/icons/warn-stick.svg"}),(0,l.jsx)("div",{className:"mobile:text-2xs font-normal",style:{marginLeft:4},children:"Out of Range"})]})})]}),(0,l.jsxs)("div",{className:"flex gap-3",children:[(0,l.jsxs)("div",{className:"border-1.5 justify-center text-center flex-1 border-light-blue-opacity rounded-xl p-3 mobile:p-2",children:[(0,l.jsx)("span",{className:"text-sm leading-[18px] text-secondary-title",children:"Min Price"}),(0,l.jsx)("div",{className:"my-3 ".concat(I?"text-lg mobile:text-sm":"text-xl mobile:text-base"),children:T}),(0,l.jsxs)("div",{className:"text-sm text-[#abc4ff80]",children:[null==c?void 0:c.symbol," per ",null==r?void 0:r.symbol]})]}),(0,l.jsxs)("div",{className:"border-1.5 justify-center text-center flex-1 border-light-blue-opacity rounded-xl p-3 mobile:p-2",children:[(0,l.jsx)("span",{className:"text-sm leading-[18px] text-secondary-title",children:"Max Price"}),(0,l.jsx)("div",{className:"my-3 ".concat(F?"text-lg mobile:text-sm":"text-xl mobile:text-base"),children:L}),(0,l.jsxs)("div",{className:"text-sm text-[#abc4ff80]",children:[null==c?void 0:c.symbol," per ",null==r?void 0:r.symbol]})]})]})]}),(0,l.jsxs)("div",{className:"mt-4 border-1.5 border-[#abc4ff40] rounded-xl p-3 mobile:p-2 mobile:mt-3",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center",children:[(0,l.jsx)("span",{className:"text-sm leading-[18px] text-secondary-title",children:"Total Deposit"}),(0,l.jsx)("span",{className:"text-lg",children:h})]}),o&&(0,l.jsxs)("div",{className:"flex justify-between items-center",children:[(0,l.jsx)("span",{className:"text-sm leading-[18px] text-secondary-title",children:"Start Time"}),(0,l.jsx)("span",{className:"",children:(0,eh.xn)(o)})]})]}),(0,l.jsx)(Z.Z,{className:"items-center mt-5 mobile:mt-3",children:(0,l.jsx)("div",{className:"self-stretch",children:(0,l.jsx)(Z.Z,{children:(0,l.jsx)(v.Z,{className:"frosted-glass-teal",onClick:()=>w(i),children:"Create Pool and Deposit"})})})})]})}})}function ey(){return(0,l.jsx)("div",{className:"flex mb-4 px-5 h-[91px] mobile:h-[75px] items-center text-secondary-title opacity-50 bg-dark-blue rounded-xl",children:"Select Token"})}function ej(){return(0,l.jsxs)("div",{className:"absolute text-sm flex flex-col text-center justify-center items-center p-2 w-full h-full bg-[#141041] bg-opacity-80 z-10 rounded-xl",children:[(0,l.jsx)(y.Z,{className:"mb-1",heroIconName:"lock-closed",size:"sm"}),"Current price is outside your selected range. Single-asset deposit only."]})}function eP(e){let{decimals:t,minValue:n,maxValue:i,onPriceChange:o,onInDecrease:a,onBlur:r}=e;return(0,l.jsxs)("div",{className:"flex gap-2.5",children:[(0,l.jsx)(V.Z,{className:"grow",label:"Min Price",decimalMode:!0,showPlusMinusControls:!0,decimalCount:t,value:n,maxN:i?Number(i):void 0,onBlur:()=>null==r?void 0:r({side:s.Low,val:n}),increaseFn:()=>a({val:n,side:s.Low,isIncrease:!0}),decreaseFn:()=>a({val:n,side:s.Low,isIncrease:!1}),onUserInput:(e,t)=>{let{triggerBy:n}=t;e&&"increase-decrease"!==n&&o({val:e,side:s.Low})}}),(0,l.jsx)(V.Z,{className:"grow",label:"Max Price",decimalMode:!0,showPlusMinusControls:!0,decimalCount:t,value:i,minN:n?Number(n):void 0,onBlur:()=>null==r?void 0:r({side:s.Upper,val:i}),increaseFn:()=>a({val:i,side:s.Upper,isIncrease:!0}),decreaseFn:()=>a({val:i,side:s.Upper,isIncrease:!1}),onUserInput:(e,t)=>{let{triggerBy:n}=t;e&&"increase-decrease"!==n&&o({val:e,side:s.Upper})}})]})}(i=s||(s={})).Low="priceLower",i.Upper="priceUpper";var eN=n(40816);let eS="mobile:justify-center mobile:w-1/2";function ek(e){let{coin1:t,coin2:n,focusSide:i,onChangeFocus:s}=e,o=(0,R.useMemo)(()=>{let e=[];return t&&e.push({label:"".concat(t.symbol||"Unknown"," price"),value:t.id,className:eS}),n&&e.push({label:"".concat(n.symbol||"Unknown"," price"),value:n.id,className:eS}),e},[t,n]),a=(0,R.useCallback)(e=>{s(e.value===n.id?"coin2":"coin1")},[n]);return(0,l.jsx)("div",{className:"flex justify-between items-center mobile:flex-col mobile:items-baseline mobile:mb-3",children:t&&n&&(0,l.jsx)(eN.Z,{classNames:"ml-4 mobile:w-full mobile:ml-0",tabs:o,selectedValue:"coin1"===i?t.id:null==n?void 0:n.id,onChange:a})})}let eC=e=>{let{side:t,price:n,tick:i}=e;return t===s.Low?{[t]:n,priceLowerTick:i}:{[t]:n,priceUpperTick:i}};function ew(){var e,t,n,i,a,r,d;!function(){let{coin1:e,coin2:t,userSelectedAmmConfigFeeOption:n,userSettedCurrentPrice:i,ammPoolStartTime:s}=(0,u.ZP)(),l=(0,E.ZP)(e=>e.connection),o=(0,z.Z)(e=>e.owner);(0,R.useEffect)(()=>{l&&e&&t&&i&&n&&q().catch(()=>{u.ZP.setState({tempDataCache:void 0,currentAmmPool:void 0})})},[(0,B.B)(i),e,t,n,i,s,o,l])}();let m=(0,o.ZP)(e=>e.isMobile),p=(0,z.Z)(e=>e.connected),x=(0,z.Z)(e=>e.checkWalletHasEnoughBalance),[h,{off:j,on:N}]=(0,el.ZP)(!1),F=(0,H.Z)(e=>e.popConfirm),M=(0,o.ZP)(e=>e.isApprovePanelShown),U=(0,u.ZP)(e=>e.currentAmmPool),O=(0,u.ZP)(e=>e.coin1),D=(0,u.ZP)(e=>e.coin2),_=(0,u.ZP)(e=>e.coin1Amount),G=(0,u.ZP)(e=>e.coin2Amount),ed=(0,u.ZP)(e=>e.focusSide),eu=(0,u.ZP)(e=>e.priceLower),em=(0,u.ZP)(e=>e.priceUpper),ep=(0,u.ZP)(e=>e.ammPoolStartTime),ef=(0,u.ZP)(e=>e.userSettedCurrentPrice),ev=(0,u.ZP)(e=>e.userSelectedAmmConfigFeeOption),eb=(null===(e=(0,en.Z)((0,et.Lu)((null==ef?void 0:ef.toString())||"")).dec)||void 0===e?void 0:e.length)||0,eh=(0,R.useRef)({[s.Low]:void 0,[s.Upper]:void 0}),eZ=(0,R.useRef)(),eN=(0,R.useRef)(),[eS,ew]=(0,R.useState)([]),[eT,eL]=(0,R.useState)({[s.Low]:void 0,[s.Upper]:void 0}),eI=(0,R.useCallback)(e=>ew(t=>[new eo.Z((null==e?void 0:e.numerator.toString())||0).div((null==e?void 0:e.denominator.toString())||1).toFixed(20),t[1]]),[]),eB=(0,R.useCallback)(e=>ew(t=>[t[0],new eo.Z((null==e?void 0:e.numerator.toString())||0).div((null==e?void 0:e.denominator.toString())||1).toFixed(20)]),[]),eF="".concat(null==U?void 0:U.idString,"-").concat(ed),eM=(0,R.useMemo)(()=>eS.filter(e=>!!e).reduce((e,t)=>e.add((0,I.Z)(t)),(0,I.Z)(0)),[eS]),eR=O||D?Math.max(null!==(n=null==O?void 0:O.decimals)&&void 0!==n?n:0,null!==(i=null==D?void 0:D.decimals)&&void 0!==i?i:0):6,eE=(0,ee.aT)(null==U?void 0:U.state.mintA.mint,O),eU="coin1"===ed,eO=(0,R.useMemo)(()=>Math.pow(-1,eE?eU?0:1:eU?1:0),[eE,eU]);(0,R.useEffect)(()=>{U&&(eN.current=U)},[U]),(0,R.useEffect)(()=>()=>{u.ZP.getState().userSettedCurrentPrice&&u.ZP.setState({userSettedCurrentPrice:(0,c.hi)(1,u.ZP.getState().userSettedCurrentPrice)})},[ed]);let eD=U&&void 0!==ef&&void 0!==eu&&void 0!==em?[(0,L.Z)(em||0,eR).lt((0,L.Z)(ef||0,eR)),(0,L.Z)(eu||0,eR).gt((0,L.Z)(ef||0,eR))]:[!1,!1];eU||eD.reverse();let[ez,e_]=eD,eq=(0,R.useRef)(null),eH=(0,R.useRef)(null),[,{toggleSwap:eG}]=(0,es.H)(eq,eH);(0,ei.P)(e=>{let[t]=e;t&&t!==ed&&eG()},[ed]);let eX=(0,R.useCallback)(e=>Number((0,I.Z)(e).toFixed(Math.max(eR+2,eb))),[eb,eR]);(0,R.useEffect)(()=>()=>u.ZP.setState({focusSide:"coin1",userCursorSide:"coin1",totalDeposit:void 0}),[]),(0,R.useEffect)(()=>u.ZP.setState({totalDeposit:eM}),[eM]);let eW=(0,R.useRef)(!1),eY=!O||!D||!U,eJ=(0,R.useCallback)(e=>u.ZP.setState({focusSide:e}),[]),eV=(0,R.useCallback)((e,t)=>u.ZP.setState({[t]:e}),[]),eK=(0,S.z)(e=>{let{side:t,val:n}=e;if(eY)return;let i=(0,k.yc)({p:n,coin1:O,coin2:D,reverse:!eU,ammPool:U});i&&(eh.current[t]=i.tick,eL(e=>({...e,[t]:eX(n)})),eW.current=!0)});(0,R.useEffect)(()=>{var e,t;if(!ef){eL({[s.Low]:void 0,[s.Upper]:void 0});return}eQ({side:s.Upper,val:null===(e=(0,c.dC)(ef,1.5))||void 0===e?void 0:e.toFixed(20),skipCheck:!0,noTimeOut:!0}),eQ({side:s.Low,val:null===(t=(0,c.dC)(ef,.5))||void 0===t?void 0:t.toFixed(20),skipCheck:!0})},[ef,eK,eF,eR]);let e$=(0,S.z)(()=>{if(U&&void 0!==eT[s.Low]&&void 0!==eT[s.Upper]&&eT[s.Low]>=eT[s.Upper]){let e=eU?O:D,t=eh.current[s.Upper]-U.state.tickSpacing*eO,{price:n,tick:i}=(0,k.Ek)({poolInfo:U.state,baseIn:(0,ee.aT)(U.state.mintA.mint,null==e?void 0:e.mint),tick:t});eh.current[s.Low]=i,u.ZP.setState({priceLowerTick:i,priceLower:n}),eL(e=>({...e,[s.Low]:eX(n)}))}}),eQ=(0,R.useCallback)(e=>{let{side:t,val:n,skipCheck:i,noTimeOut:s}=e;if(!U||!O||!D||!n)return;let l=()=>{if(eW.current||i){let e=(0,k.yc)({p:n,coin1:O,coin2:D,reverse:!eU,ammPool:U});if(!e)return;eh.current[t]=e.tick,eL(n=>({...n,[t]:eX(e.price)})),u.ZP.setState(eC({side:t,price:e.price,tick:e.tick}))}eW.current=!1,i||e$()};eZ.current=s?l():window.setTimeout(l,200)},[O,D,null==U?void 0:U.idString,eU,eX]),e0=(0,S.z)(e=>{let{val:t,side:n,isIncrease:i}=e;if(!U||!O||!D||!t)return 0;eZ&&clearTimeout(eZ.current),eW.current=!1;let l=eU?O:D,o=eh.current[n]+(i?U.state.tickSpacing:-1*U.state.tickSpacing)*Math.pow(-1,eE?eU?0:1:eU?1:0),{price:a}=(0,k.Ek)({poolInfo:U.state,baseIn:(0,ee.aT)(U.state.mintA.mint,null==l?void 0:l.mint),tick:o}),r=Number(a.toFixed(eR));return n===s.Low&&r>=eT[s.Upper]?Number(t):(eh.current[n]=o,u.ZP.setState(eC({side:n,price:a,tick:o})),eL(e=>({...e,[n]:r})),r)}),{ratio1:e1,ratio2:e2}=(0,er.dO)({currentPrice:null!=ef?(0,I.Z)(ef):ef,coin1InputDisabled:ez,coin2InputDisabled:e_,coin1Amount:_,coin2Amount:G}),e5=O&&x((0,$.n)(O,_,{alreadyDecimaled:!0})),e4=D&&x((0,$.n)(D,G,{alreadyDecimaled:!0}));return(0,l.jsxs)(b.Z,{className:(0,ea.m)("flex gap-4 p-6 mobile:py-4 mobile:px-2 rounded-3xl w-full border-1.5 border-[rgba(171,196,255,0.2)] bg-cyberpunk-card-bg shadow-cyberpunk-card"),size:"lg",children:[(0,l.jsxs)(Z.Z,{className:"gap-6 w-1/2 border-1.5 border-[#abc4ff40] rounded-xl p-3 mobile:p-2 mobile:mt-3",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"font-medium text-[#abc4ff] mb-2",children:"Select Tokens"}),(0,l.jsxs)(J.Z,{className:"grid-cols-2 gap-4",children:[(0,l.jsx)(eA,{title:"Base Token",turnOnTokenVerification:!0,tokenKey:"coin1",onSelectToken:eV,token:O,disableTokens:D?[D]:void 0}),(0,l.jsx)(eA,{title:"Quote Token",turnOnTokenVerification:!0,tokenKey:"coin2",onSelectToken:eV,token:D,disableTokens:O?[O]:void 0})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"font-medium text-[#abc4ff] mb-2",children:"Select Fee"}),(0,l.jsx)(ex,{})]}),(0,l.jsxs)(Z.Z,{className:"gap-4",children:[(0,l.jsxs)(P.Z,{className:"mb-1 justify-between",children:[(0,l.jsx)("div",{className:"font-medium text-[#abc4ff] my-1",children:"Set Starting Price"}),(0,l.jsx)(ek,{coin1:O,coin2:D,focusSide:ed,onChangeFocus:eJ})]}),(0,l.jsx)("div",{className:"text-xs bg-[#abc4ff14] p-3 rounded-xl text-[#abc4ff] leading-5",children:"To initialize and create the pool, first set the starting price. Then, enter your price range and deposit amounts."}),(0,l.jsx)(V.Z,{decimalMode:!0,inputClassName:"text-right",prefix:(0,l.jsxs)("span",{className:"text-base text-secondary-title opacity-50",children:["Current ",eU?null==O?void 0:O.symbol:null==D?void 0:D.symbol," Price"]}),suffix:(0,l.jsx)("span",{className:"text-xs text-secondary-title opacity-50",children:eU?null==D?void 0:D.symbol:null==O?void 0:O.symbol}),value:ef,decimalCount:15,onUserInput:e=>{u.ZP.setState({userSettedCurrentPrice:e})}})]}),(0,l.jsxs)("div",{className:U?"":"opacity-50",children:[(0,l.jsx)("div",{className:"text-secondary-title font-medium mb-2",children:"Set Price Range"}),(0,l.jsx)(eP,{decimals:Math.max(null!==(a=null===(t=(0,en.Z)(ef).dec)||void 0===t?void 0:t.length)&&void 0!==a?a:0,eR),minValue:(0,B.B)(eT[s.Low]),maxValue:(0,B.B)(eT[s.Upper]),onBlur:eQ,onPriceChange:eK,onInDecrease:e0})]}),(ez||e_)&&(0,l.jsx)(g.U,{children:(0,l.jsxs)("div",{className:"flex items-center p-3 bg-[#2C2B57] rounded-lg text-xs text-[#D6CC56]",children:[(0,l.jsx)(y.Z,{size:"sm",className:"mr-1.5",heroIconName:"exclamation-circle"}),"Your position will not trade or earn fees until price moves into your range."]})})]}),(0,l.jsxs)(Z.Z,{className:"gap-4 w-1/2 border-1.5 border-[#abc4ff40] rounded-xl p-3 mobile:p-2 mobile:mt-3",children:[(0,l.jsxs)("div",{className:U?"":"opacity-50 pointer-events-none",children:[(0,l.jsx)(P.Z,{className:"text-secondary-title justify-between mb-2",children:(0,l.jsx)("div",{className:"font-medium text-[#abc4ff] my-1",children:"Deposit Amount"})}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"relative",ref:eq,children:[ez&&(0,l.jsx)(ej,{}),O?(0,l.jsx)(W.Z,{className:"mb-4 mobile:mt-0 py-2 mobile:py-1 px-3 mobile:px-2",disabled:M,disabledInput:!U,noDisableStyle:!0,value:U?(0,B.B)(_):void 0,haveHalfButton:!0,haveCoinIcon:!0,onPriceChange:eI,onUserInput:e=>{u.ZP.setState({coin1Amount:e,userCursorSide:"coin1"})},token:O}):(0,l.jsx)(ey,{})]}),(0,l.jsxs)("div",{className:"relative",ref:eH,children:[e_&&(0,l.jsx)(ej,{}),D?(0,l.jsx)(W.Z,{className:"py-2 mobile:py-1 px-3 mobile:px-2",disabled:M,noDisableStyle:!0,value:U?(0,B.B)(G):void 0,haveHalfButton:!0,haveCoinIcon:!0,onPriceChange:eB,onUserInput:e=>{u.ZP.setState({coin2Amount:e,userCursorSide:"coin2"})},token:D}):(0,l.jsx)(ey,{})]})]})]}),(0,l.jsxs)("div",{className:"".concat(U?"":"opacity-50 pointer-events-none"," border-1.5 border-[#abc4ff80]  rounded-xl px-3 py-4"),children:[(0,l.jsxs)("div",{className:"flex justify-between mb-4",children:[(0,l.jsx)("span",{className:"text-sm leading-[18px] text-secondary-title",children:"Total Deposit"}),(0,l.jsx)("span",{className:"text-lg leading-[18px]",children:U&&((0,T.$u)(_)||(0,T.$u)(G))?(0,Q.Z)(eM):"--"})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-sm leading-[18px] text-secondary-title",children:"Deposit Ratio"}),(0,l.jsxs)("span",{className:"text-lg flex leading-[18px]",children:[U&&(0,l.jsx)(X.Z,{size:"sm",token1:O,token2:D}),U&&((0,T.$u)(_)||(0,T.$u)(G))?"".concat(null!=e1?e1:"--","% / ").concat(null!=e2?e2:"--","%"):"--"]})]})]}),(0,l.jsx)(Y.Z,{className:"".concat(U?"":"opacity-50 pointer-events-none"," mb-8"),label:"Start time (Optional):",disableDateBeforeCurrent:!0,canEditSeconds:!0,onDateChange:e=>u.ZP.setState({ammPoolStartTime:e}),showTime:{format:"HH:mm:ss"}}),(0,l.jsxs)(Z.Z,{className:"gap-4 mt-auto",children:[(0,l.jsxs)("div",{className:"flex items-center text-xs p-[12px] rounded-lg text-secondary-title bg-[rgba(171,196,255,0.08)] mt-auto",children:[(0,l.jsx)(y.Z,{size:"sm",heroIconName:"information-circle"}),(0,l.jsxs)("div",{className:"ml-2.5",children:[(0,l.jsx)("span",{className:"font-medium",children:"SOL network fee"}),": Estimated transaction fee for creating a pool is approximately 0.3 SOL, but may vary depending on transaction size."]})]}),(0,l.jsx)(v.Z,{className:"frosted-glass-teal mobile:w-full",size:m?"sm":"lg",validators:[{should:p,forceActive:!0,fallbackProps:{onClick:()=>o.ZP.setState({isWalletSelectorShown:!0}),children:"Connect Wallet"}},{should:O&&D},{should:U,fallbackProps:{children:"Fail to find this pool"}},{should:(0,T.$u)(ef),fallbackProps:{children:"Input Price"}},{should:ev,fallbackProps:{children:"Select a fee option"}},{should:(0,T.$u)(_)||(0,T.$u)(G),fallbackProps:{children:"Input Token Amount"}},{should:e5,fallbackProps:{children:"Insufficient ".concat(null!==(r=null==O?void 0:O.symbol)&&void 0!==r?r:""," balance")}},{should:e4,fallbackProps:{children:"Insufficient ".concat(null!==(d=null==D?void 0:D.symbol)&&void 0!==d?d:""," balance")}}],onClick:()=>{N()},children:"Preview Pool"}),(0,l.jsx)(ec.a,{tooltipText:"SOL is needed for Solana network fees. A minimum balance of 1 SOL is recommended when creating a pool to avoid failed transactions.",solLeastBalance:1,className:"my-0"})]})]}),(0,l.jsx)(eg,{open:h,coin1:O,coin2:D,coin1Amount:_,coin2Amount:G,focusSide:ed,decimals:eR,currentPrice:(0,I.Z)(ef),startTime:ep,position:{min:(0,I.Z)(eu).toFixed(eR),max:(0,I.Z)(em).toFixed(eR)},totalDeposit:(0,Q.Z)(eM),onClose:j,inRange:!eD.find(e=>e),feeRate:(0,K.Z)(null==ev?void 0:ev.tradeFeeRate),onConfirm:()=>{(0,w.ZP)(async e=>{let{transactionCollector:t}=e,{tempDataCache:n}=u.ZP.getState();(0,C.Z)(n,"should create pool first");let{innerTransactions:i}=await (0,A.B)();t.add(n,{txHistoryInfo:{title:"Create pool",description:"create clmm pool"}}),t.add(i,{txHistoryInfo:{title:"Open pool position",description:"Open clmm pool position"}})}).then(e=>{let{allSuccess:t}=e;j(),t&&(u.ZP.getState().refreshConcentrated(),F({type:"success",title:"Pool created successfully!",description:"Do you want to create a farm based on this pool?",confirmButtonIsMainButton:!0,confirmButtonText:"Create Farm",cancelButtonText:"Not Now",onConfirm(){var e,t,n;u.ZP.setState({coin1:null===(e=eN.current)||void 0===e?void 0:e.base,coin2:null===(t=eN.current)||void 0===t?void 0:t.quote,chartPoints:[],lazyLoadChart:!0,currentAmmPool:eN.current}),(0,f.Eh)("/clmm/edit-farm",{queryProps:{farmId:null===(n=eN.current)||void 0===n?void 0:n.idString}})},onCancel(){setTimeout(()=>{u.ZP.setState({coin1:void 0,coin2:void 0,coin1Amount:void 0,coin2Amount:void 0,focusSide:"coin1",userCursorSide:"coin1"}),u.ZP.getState().refreshConcentrated()},400)}}))})}})]})}function eA(e){var t;let{tokenKey:n,title:i,token:s,disableTokens:o,turnOnTokenVerification:a,onSelectToken:r}=e,[c,d]=(0,R.useState)(!1);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(J.Z,{className:"grid items-center bg-[#141041] rounded-xl py-2 cursor-pointer px-3",onClick:()=>d(!0),children:s?(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"text-xs text-[#abc4ff80] mb-1",children:i}),(0,l.jsxs)(P.Z,{className:"items-center gap-2",children:[(0,l.jsx)(G.Z,{token:s}),(0,l.jsx)("div",{className:"text-[#abc4ff] font-medium text-lg",children:null!==(t=s.symbol)&&void 0!==t?t:""}),(0,l.jsx)(y.Z,{size:"sm",className:"text-[#abc4ff]",heroIconName:"chevron-down"})]})]}):(0,l.jsxs)(P.Z,{className:"text-[#abc4ff80] text-center gap-1.5 items-center px-3 py-2",children:[(0,l.jsx)("div",{children:i}),(0,l.jsx)(y.Z,{size:"sm",className:"text-[#abc4ff80]",heroIconName:"chevron-down"})]})}),(0,l.jsx)(ed.Z,{open:c,onClose:()=>{d(!1)},turnOnTokenVerification:a,canSelectIfInWhiteList:!0,disableTokens:o,onSelectToken:e=>{null==r||r(e,n)}})]})}function eT(e){let{className:t}=e;return(0,l.jsx)(P.Z,{className:(0,ea.m)("items-center justify-between",t),children:(0,l.jsx)(v.Z,{type:"text",className:"text-sm text-[#ABC4FF] opacity-50 px-0",prefix:(0,l.jsx)(y.Z,{heroIconName:"chevron-left",size:"sm"}),onClick:()=>{(0,f.ES)("/clmm/pools")},children:"Back to Concentrated pools"})})}function eL(e){let{className:t}=e,[n,i]=(0,R.useState)(!1),s=(0,o.ZP)(e=>e.isMobile),[a,r]=(0,R.useState)(!1);(0,R.useEffect)(()=>{let e=(0,N.Jt)("IGNORE_CREATE_CLMM_WARNING");e||i(!0)},[]);let c=(0,S.z)(()=>(0,N.mM)("IGNORE_CREATE_CLMM_WARNING",!0));return(0,l.jsx)(g.Z,{show:n,children:(0,l.jsx)(P.Z,{className:t,children:(0,l.jsxs)(b.Z,{className:"p-6 mobile:p-4 grow rounded-3xl mobile:rounded-2xl ring-1 ring-inset ring-[#39d0d8] bg-[#1B1659]",children:[(0,l.jsx)("div",{className:"mobile:text-sm font-medium text-base text-white mb-3",children:"You can create a farm based on the pool you created!"}),(0,l.jsx)("div",{className:"font-medium text-sm mobile:text-xs text-[#ABC4FF80] mb-4",children:"You can choose to create a farm after creating this pool and providing your position. You can also create a farm based on a previously created pool."}),(0,l.jsxs)(P.Z,{className:"gap-4",children:[(0,l.jsx)(v.Z,{className:"frosted-glass-teal mobile:px-4",size:s?"sm":"md",onClick:()=>{i(!1),a&&c()},children:"Got it"}),(0,l.jsx)(h.X,{checkBoxSize:"sm",className:"my-2 w-max text-sm",onChange:r,label:(0,l.jsx)("div",{className:"text-sm text-white font-medium",children:"Do not show again"})})]})]})})})}function eI(){p(),(0,x.Z)();let e=(0,o.ZP)(e=>e.isMobile);return(0,l.jsxs)(j.Z,{metaTitle:"Create CLMM Pool - Raydium",mobileBarTitle:"Create CLMM Pool",children:[(0,l.jsx)(eT,{className:"mb-8 mobile:mb-2 sticky z-10 top-0 mobile:-translate-y-2 mobile:bg-[#0f0b2f] mobile:hidden"}),(0,l.jsxs)("div",{className:"pb-10 self-center transition-all duration-500 w-[min(840px,70vw)] mobile:w-[90vw] z-20",children:[!e&&(0,l.jsx)("div",{className:"pb-8 text-2xl mobile:text-lg font-semibold justify-self-start text-white",children:"Create Pool"}),(0,l.jsx)(eL,{className:"pb-6 w-full"}),(0,l.jsx)(ew,{}),(0,l.jsx)(Z.Z,{className:"items-center my-8"})]})]})}}},function(e){e.O(0,[4740,7571,8667,7664,7980,5194,9774,2888,179],function(){return e(e.s=71716)}),_N_E=e.O()}]);