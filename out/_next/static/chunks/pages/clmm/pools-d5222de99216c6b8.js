(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9401],{91902:function(e,t,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/clmm/pools",function(){return i(46406)}])},74617:function(e,t,i){"use strict";i.d(t,{q:function(){return a}});var l=i(94678),s=i(2148),n=i(9191),o=i(52225);function a(){(0,o.Z)(()=>{let e=(0,n.Jt)("ui-time-basis");e&&(l.ZP.setState({timeBasis:e}),s.O.setState({timeBasis:e}))})}},29197:function(e,t,i){"use strict";i.d(t,{Z:function(){return d}});var l=i(85893),s=i(18074),n=i(27993),o=i(66180),a=i(45826),c=i(91107);function r(e){let{className:t,style:i,vertical:s,itemClassName:a,itemStyle:r,values:d,currentValue:m=d[0],labels:u=d,onChange:x}=e;return d.filter(Boolean).length?(0,l.jsx)(c.E,{value:m,onChange:null!=x?x:()=>{},className:(0,o.m)("".concat(s?"flex-col":"flex"," ").concat(null!=t?t:"")),style:i,children:d.map((e,t,i)=>(0,l.jsx)(c.E.Option,{value:e,className:"cursor-pointer flex grow",children:o=>{let{checked:c}=o;return e&&(0,l.jsx)("div",{className:"grid grow ".concat(s?"":"place-items-center"," ").concat((0,n.u)(a,[c])),style:(0,n.u)(r,[c,t,i]),children:(0,n.u)(u[t],[c,t,i])})}},t))}):(0,l.jsx)(l.Fragment,{})}function d(e){let{size:t,$valuesLength:i,$transparentBg:c,urlSearchQueryKey:d,className:m,...u}=e;(0,a.i)({currentValue:u.currentValue,values:u.values,onChange:u.onChange,queryKey:d});let x=u.currentValue&&u.values.includes(u.currentValue),f=null!=i?i:u.values.length,p=(x?u.values.findIndex(e=>e===u.currentValue):0)+0;return(0,l.jsx)(r,{...u,currentValue:u.currentValue,className:(0,o.m)("rounded-full p-1",c?"bg-transparent":"bg-cyberpunk-card-bg",m),itemClassName:e=>(0,o.m)("sm"===t?"min-w-[82px] mobile:min-w-[64px] px-2 mobile:px-1.5 h-7 mobile:h-5 text-sm mobile:text-xs":"min-w-[96px] mobile:min-w-[76px] px-3 mobile:px-2 h-9 mobile:h-7 text-sm mobile:text-xs ","grid rounded-full place-items-center font-medium whitespace-nowrap ".concat(e?"text-white":"text-[#ABC4FF]"),(0,n.u)(u.itemClassName,[e])),itemStyle:e=>e?{background:"linear-gradient(245.22deg, rgb(218, 46, 239), rgb(43, 106, 255), rgb(57, 208, 216))",backgroundSize:"".concat(f,"00% 100%"),backgroundPosition:(0,s.Z)(1/(f-1)*p)}:{}})}},49128:function(e,t,i){"use strict";i.d(t,{Q:function(){return o}});var l=i(81451),s=i(84207),n=i(18074);function o(e,t){let i=(0,s.Z)(null!=e?e:0);return((null==t?void 0:t.alreadyPercented)||(i=i.mul(100)),(0,l.gt)(i,9999.99))?"> 9,999.99%":(0,n.Z)(i,{alreadyPercented:!0})}},24608:function(e,t,i){"use strict";i.d(t,{N:function(){return o}});var l=i(56603),s=i(67294),n=i(52719);function o(e,t){let i=(0,s.useRef)(),o=(0,s.useRef)();(0,n.L)(()=>{i.current=e});let a=(0,s.useMemo)(()=>(0,l.D)(function(){for(var e,t,l=arguments.length,s=Array(l),n=0;n<l;n++)s[n]=arguments[n];null===(e=o.current)||void 0===e||e.call(o);let a=null===(t=i.current)||void 0===t?void 0:t.call(i,...s);o.current=a},null==t?void 0:t.debouncedOptions),[]);return a}},41618:function(e,t,i){"use strict";i.d(t,{Z:function(){return s}});var l=i(67294);function s(e,t){let i=(0,l.useRef)(!1),s=()=>i.current=!0;(0,l.useEffect)(()=>{if(!i.current)return e({runed:s})},t)}},46406:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return e5}});var l=i(85893),s=i(67294),n=i(75640),o=i(47511),a=i(66180),c=i(91371),r=i(74617),d=i(25222),m=i(34003),u=i(3363),x=i(81451),f=i(71375),p=i(72573),b=i(8667),h=i(53002),v=i(94678),g=i(475);function j(e){return(0,b.ZP)(async t=>{let{transactionCollector:i,baseUtils:{connection:l,owner:s,allTokenAccounts:o}}=t,{coin1:a,coin2:r,liquidity:d,targetUserPositionAccount:b,currentAmmPool:j,coin1AmountMin:Z,coin2AmountMin:N}=v.ZP.getState(),{tokenAccountRawInfos:P}=h.Z.getState(),{slippageTolerance:y}=c.ZP.getState();if((0,m.Z)(j,"not seleted amm pool"),(0,m.Z)(a,"not set coin1"),(0,m.Z)(r,"not set coin2"),(0,m.Z)(null!=d,"not set liquidity"),(0,m.Z)(b,"not set targetUserPositionAccount"),null==e?void 0:e.closePosition){let{innerTransactions:e}=await n.c2c.makeDecreaseLiquidityInstructionSimple({connection:l,liquidity:d,poolInfo:j.state,ownerInfo:{feePayer:s,wallet:s,tokenAccounts:P,useSOLBalance:!0,closePosition:(0,x.eq)(b.sdkParsed.liquidity,d)},ownerPosition:b.sdkParsed,computeBudgetConfig:await (0,g.u)()});i.add(e,{txHistoryInfo:{title:"Position Closed",description:"close ".concat((0,u.ZP)(b.poolId).slice(0,6)," position")}})}else{(0,m.Z)(Z,"not set coin1AmountMin"),(0,m.Z)(N,"not set coin2AmountMin");let{innerTransactions:e}=await n.c2c.makeDecreaseLiquidityInstructionSimple({connection:l,liquidity:d,poolInfo:j.state,ownerInfo:{feePayer:s,wallet:s,tokenAccounts:P,useSOLBalance:!0,closePosition:(0,x.eq)(b.sdkParsed.liquidity,d)},amountMinA:(0,f.Z)(Z),amountMinB:(0,f.Z)(N),ownerPosition:b.sdkParsed,computeBudgetConfig:await (0,g.u)()});i.add(e,{txHistoryInfo:{title:"Liquidity Removed",description:"Removed ".concat((0,p.B)(Z)," ").concat(a.symbol," and ").concat((0,p.B)(N)," ").concat(r.symbol," from ").concat((0,u.ZP)(b.poolId).slice(0,6))}})}})}var Z=i(96662),N=i(94355);function P(){let{currentAmmPool:e=v.ZP.getState().currentAmmPool,targetUserPositionAccount:t=v.ZP.getState().targetUserPositionAccount}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,b.ZP)(async i=>{var l,s,o,a;let{transactionCollector:r,baseUtils:{connection:d,owner:u}}=i,{tokenAccountRawInfos:x}=h.Z.getState(),{slippageTolerance:f}=c.ZP.getState();(0,m.Z)(e,"not seleted amm pool"),(0,m.Z)(t,"not set targetUserPositionAccount");let{innerTransactions:b}=await n.c2c.makeDecreaseLiquidityInstructionSimple({connection:d,liquidity:n.xEJ,poolInfo:e.state,ownerInfo:{feePayer:u,wallet:u,tokenAccounts:x,useSOLBalance:!0,closePosition:!1},slippage:Number((0,p.B)(f)),ownerPosition:t.sdkParsed,computeBudgetConfig:await (0,g.u)()});r.add(b,{txHistoryInfo:{title:"Harvested Rewards",description:"Harvested: ".concat(null!==(o=null===(l=e.base)||void 0===l?void 0:l.symbol)&&void 0!==o?o:"--"," - ").concat(null!==(a=null===(s=e.quote)||void 0===s?void 0:s.symbol)&&void 0!==a?a:"--")}})})}async function y(){let{originSdkParsedAmmPools:e}=v.ZP.getState(),{tokenAccountRawInfos:t}=h.Z.getState(),{logInfo:i}=N.Z.getState(),l=Z.ZP.getState().connection,{owner:s}=h.Z.getState();if(!l||!s)return{allSuccess:!0,txids:[]};let{innerTransactions:o}=await n.c2c.makeHarvestAllRewardInstructionSimple({connection:l,fetchPoolInfos:e,ownerInfo:{feePayer:s,wallet:s,tokenAccounts:t,useSOLBalance:!0},associatedOnly:!0});return Array.isArray(o)&&0===o.length?(i("No harvestable position"),{allSuccess:!0,txids:[]}):(0,b.ZP)(async e=>{let{transactionCollector:t,baseUtils:{connection:i,owner:l,allTokenAccounts:s}}=e,n=o.map((e,t)=>[e,{txHistoryInfo:{title:"Harvested All Rewards",description:"Harvested all CLMM rewards"}}]);t.add(n)})}var w=i(76961),k=i(91148),A=i(52225),C=i(17097),S=i(47675),B=i(2148),F=i(31555),L=i(31166),I=i(99522),M=i(68186),q=i(11601),R=i(43067),T=i(6994),E=i(70745),z=i(54531),D=i(54592),O=i(23484),U=i(88132),V=i(32029),H=i(60421),W=i(48162),Y=i(82727),K=i(66042),_=i(23365),$=i(50321),Q=i(99645),J=i(57571),G=i(36868),X=i(33674),ee=i(51800),et=i(95111),ei=i(15144),el=i(29197),es=i(92618),en=i(56419),eo=i(95793),ea=i(90547),ec=i(86597),er=i(49128),ed=i(99881),em=i(18074),eu=i(1758),ex=i(95865),ef=i(4465),ep=i(51523),eb=i(16938),eh=i(3700),ev=i(73766),eg=i(84207);function ej(e){let t=(0,L.ZP)(e=>e.tokenPrices);return(0,s.useMemo)(()=>{var i,l,s,n,o;if(!e)return{pendingTotalVolume:(0,eg.Z)(0),isHarvestable:!1};let a=!1,c=null!==(o=null==e?void 0:e.rewardInfos.map(e=>{var i,l;return(0,x.gt)(e.penddingReward,0)&&(a=!0),{token:null===(i=e.penddingReward)||void 0===i?void 0:i.token,volume:(0,ep.dC)(e.penddingReward,t[(0,u.ZP)(null===(l=e.penddingReward)||void 0===l?void 0:l.token.mint)])}}))&&void 0!==o?o:[],r=!1;e&&(e.tokenFeeAmountA&&(0,x.gt)(e.tokenFeeAmountA,0)||e.tokenFeeAmountB&&(0,x.gt)(e.tokenFeeAmountB,0))&&(r=!0);let d=e?[{token:null==e?void 0:null===(i=e.tokenFeeAmountA)||void 0===i?void 0:i.token,volume:(0,ep.dC)(null==e?void 0:e.tokenFeeAmountA,t[(0,u.ZP)(null==e?void 0:null===(l=e.tokenFeeAmountA)||void 0===l?void 0:l.token.mint)])},{token:null==e?void 0:null===(s=e.tokenFeeAmountB)||void 0===s?void 0:s.token,volume:(0,ep.dC)(null==e?void 0:e.tokenFeeAmountB,t[(0,u.ZP)(null==e?void 0:null===(n=e.tokenFeeAmountB)||void 0===n?void 0:n.token.mint)])}]:[],m=c.concat(d).reduce((e,t)=>{let{volume:i}=t;return i?(0,ep.IH)(null!=e?e:(0,eg.Z)(0),i):e},void 0),f=!!(0,x.gt)(m,0)||!!a||!!r;return{pendingTotalVolume:m,isHarvestable:f}},[t,e])}var eZ=i(24608),eN=i(41618),eP=i(98590),ey=i(54103),ew=i(67858),ek=i(52784);function eA(e){let{className:t,textClassName:i,text:s,children:n,suffix:o,prefix:c,onClick:r}=e;return(0,l.jsxs)(D.Z,{className:(0,a.m)("text-sm whitespace-nowrap",t),onClick:r,children:[c,(0,l.jsx)("div",{className:(0,a.m)("grow",i),children:null!=s?s:n}),o]})}var eC=i(6325),eS=i(34064),eB=i(99023),eF=i(74365),eL=i(96256),eI=i(71122);function eM(e){var t,i,s,n,o,r;let{className:d}=e,m=(0,v.ZP)(e=>e.currentAmmPool),u=(0,v.ZP)(e=>e.targetUserPositionAccount),x=(0,L.ZP)(e=>e.tokenPrices),{wholeLiquidity:f,baseLiquidity:p,quoteLiquidity:b}=null!==(n=null==u?void 0:null===(t=u.getLiquidityVolume)||void 0===t?void 0:t.call(u,x))&&void 0!==n?n:{},h=(0,c.ZP)(e=>e.isMobile);return(0,l.jsxs)(ee.Z,{className:(0,a.m)("flex-wrap bg-[#141041] grid-cols-4 py-3 px-4 rounded-xl gap-12 mobile:gap-4",d),children:[(0,l.jsxs)(H.Z,{className:"grid-rows-[2em,1fr] items-center grow",children:[(0,l.jsx)("div",{className:"mobile:text-sm font-medium text-[#abc4ff] h-8",children:"Liquidity"}),(0,l.jsx)("div",{className:"mobile:text-md font-medium text-2xl text-white",children:(0,ex.Z)(f)})]}),(0,l.jsxs)(H.Z,{className:"grid-rows-[2em,1fr] items-center grow",children:[(0,l.jsx)("div",{className:"mobile:text-sm font-medium text-[#abc4ff] h-8",children:"Leverage"}),(0,l.jsxs)("div",{className:"mobile:text-md font-medium text-2xl text-white",children:[null==u?void 0:u.leverage.toFixed(2),"x"]})]}),(0,l.jsxs)(H.Z,{className:"grid-rows-[2em,1fr] items-center grow",children:[(0,l.jsx)("div",{className:"mobile:text-sm font-medium text-[#abc4ff] h-8",children:"Deposit Ratio"}),(0,l.jsxs)(D.Z,{className:"mobile:text-md font-medium text-2xl text-white gap-2 mobile:gap-1",children:[(0,l.jsx)(eS.a,{prefix:(0,l.jsxs)(ee.Z,{className:"items-center gap-2",children:[(0,l.jsx)(E.Z,{token:null==m?void 0:m.base,size:h?"sm":"smi"}),(0,l.jsx)("div",{className:" text-[#abc4ff80] min-w-[4em] mr-1",children:null!==(o=null==m?void 0:null===(i=m.base)||void 0===i?void 0:i.symbol)&&void 0!==o?o:"--"})]}),suffix:(0,l.jsx)("div",{className:"text-[#abc4ff80]",children:(0,em.Z)(null==u?void 0:u.positionPercentA)}),text:(0,l.jsx)("div",{className:"text-white justify-end",children:(0,ex.Z)(p)})}),(0,l.jsx)(eS.a,{prefix:(0,l.jsxs)(ee.Z,{className:"items-center gap-2",children:[(0,l.jsx)(E.Z,{token:null==m?void 0:m.quote,size:h?"sm":"smi"}),(0,l.jsx)("div",{className:"text-[#abc4ff80] min-w-[4em] mr-1",children:null!==(r=null==m?void 0:null===(s=m.quote)||void 0===s?void 0:s.symbol)&&void 0!==r?r:"--"})]}),suffix:(0,l.jsx)("div",{className:"text-[#abc4ff80]",children:(0,em.Z)(null==u?void 0:u.positionPercentB)}),text:(0,l.jsx)("div",{className:"text-white",children:(0,ex.Z)(b)})})]})]}),(0,l.jsxs)(H.Z,{className:"grid-rows-[2em,1fr] items-center grow",children:[(0,l.jsx)("div",{className:"mobile:text-sm font-medium text-[#abc4ff] h-8",children:"NFT"}),(0,l.jsx)("div",{className:"font-medium text-[#abc4ff80]",children:(0,l.jsx)(I.U,{textClassName:"text-xs",showDigitCount:h?8:6,canCopy:!0,canExternalLink:!0,children:null==u?void 0:u.nftMint})})]})]})}let eq=e=>Math.min(e+2,15);function eR(e){var t,i,s,n,o,r;let{className:d}=e;(0,ek.Z)();let[m,u,x,f,b]=(0,v.ZP)(e=>[e.currentAmmPool,e.chartPoints,e.coin1,e.coin2,e.timeBasis]),h=(0,c.ZP)(e=>e.isMobile),g=(0,v.ZP)(e=>e.targetUserPositionAccount),j=x||f?Math.max(null!==(s=null==x?void 0:x.decimals)&&void 0!==s?s:0,null!==(n=null==f?void 0:f.decimals)&&void 0!==n?n:0):6,[Z,N]=[g&&(0,eg.Z)(g.priceLower),g&&(0,eg.Z)(g.priceUpper)],P=m?[m.state[v.v$[b]].priceMin,m.state[v.v$[b]].priceMax]:[void 0,void 0];return(0,l.jsxs)(D.Z,{className:(0,a.m)("bg-[#141041] py-3 px-4 rounded-xl gap-4",d),children:[(0,l.jsxs)(ee.Z,{className:"items-center gap-2",children:[(0,l.jsx)("div",{className:"mobile:text-sm font-medium text-[#abc4ff]",children:"My Position"}),(0,l.jsx)(eU,{positionAccount:g})]}),(0,l.jsxs)(H.Z,{className:"items-center text-white mobile:text-sm",children:[(0,p.B)(null==g?void 0:g.priceLower,{decimalLength:15,maxSignificantCount:eq(6)})," ","-"," ",(0,p.B)(null==g?void 0:g.priceUpper,{decimalLength:15,maxSignificantCount:eq(6)})]}),(0,l.jsxs)("div",{className:"font-medium text-[#abc4ff] mobile:text-xs",children:[null!==(o=null==m?void 0:null===(t=m.quote)||void 0===t?void 0:t.symbol)&&void 0!==o?o:"--"," per ",null!==(r=null==m?void 0:null===(i=m.base)||void 0===i?void 0:i.symbol)&&void 0!==r?r:"--"]}),(0,l.jsx)("div",{className:"items-center grow ",children:(0,l.jsx)(eF.Z,{chartOptions:{isStable:(null==m?void 0:m.ammConfig.tradeFeeRate)===100,baseIn:!0,points:u?(0,eB.Mn)(u):[],initMinBoundaryX:Z,initMaxBoundaryX:N},priceMin:P[0],priceMax:P[1],currentPrice:m?m.currentPrice:void 0,priceLabel:"".concat(null==f?void 0:f.symbol," per ").concat(null==x?void 0:x.symbol),decimals:j,hideRangeLine:!0,hideRangeInput:!0,showCurrentPriceOnly:!0,timeBasis:b,height:h?100:150})}),(0,l.jsxs)(ee.Z,{className:"items-center flex-wrap gap-2",children:[(0,l.jsx)(eS.a,{className:"border-1.5 border-[#abc4ff40] text-[#abc4ff] text-xs font-normal py-1.5 px-3 rounded-lg",prefix:(0,l.jsx)("div",{className:"w-3 h-3 bg-[#abc4ff] rounded-full mr-2"}),children:"Pool Liquidity"}),(0,l.jsx)(eS.a,{className:"border-1.5 border-[#abc4ff40] text-[#abc4ff] text-xs font-normal py-1.5 px-3 rounded-lg",prefix:(0,l.jsx)("div",{className:"w-3 h-3 bg-[#161b4a] rounded-full mr-2"}),children:"My Range"}),(0,l.jsx)(eS.a,{className:"border-1.5 border-[#abc4ff40] text-[#abc4ff] text-xs font-normal py-1.5 px-3 rounded-lg",prefix:(0,l.jsx)("div",{className:"w-3 h-3 bg-white rounded-full mr-2"}),children:"Current Price"})]})]})}function eT(e){var t,i,s,n,o,r,d;let{className:m}=e,f=(0,v.ZP)(e=>e.targetUserPositionAccount),b=(0,v.ZP)(e=>e.refreshConcentrated),g=(0,h.Z)(e=>e.connected),j=(0,L.ZP)(e=>e.tokenPrices),Z=null!==(o=null==f?void 0:f.rewardInfos.map(e=>{var t,i;return{token:null===(t=e.penddingReward)||void 0===t?void 0:t.token,volume:(0,ep.dC)(e.penddingReward,j[(0,u.ZP)(null===(i=e.penddingReward)||void 0===i?void 0:i.token.mint)]),amount:e.penddingReward}}))&&void 0!==o?o:[],N=f?[{token:null==f?void 0:null===(t=f.tokenFeeAmountA)||void 0===t?void 0:t.token,volume:(0,ep.dC)(null==f?void 0:f.tokenFeeAmountA,j[(0,u.ZP)(null==f?void 0:null===(i=f.tokenFeeAmountA)||void 0===i?void 0:i.token.mint)]),amount:null==f?void 0:f.tokenFeeAmountA},{token:null==f?void 0:null===(s=f.tokenFeeAmountB)||void 0===s?void 0:s.token,volume:(0,ep.dC)(null==f?void 0:f.tokenFeeAmountB,j[(0,u.ZP)(null==f?void 0:null===(n=f.tokenFeeAmountB)||void 0===n?void 0:n.token.mint)]),amount:null==f?void 0:f.tokenFeeAmountB}]:[],y=Z.concat(N).reduce((e,t)=>{let{volume:i}=t;return i?(0,ep.IH)(null!=e?e:(0,eg.Z)(0),i):e},void 0),w=(0,c.ZP)(e=>e.isMobile),k=(0,x.$u)(y),A=(0,c.ZP)(e=>e.isApprovePanelShown);return(0,l.jsxs)(D.Z,{className:(0,a.m)("bg-[#141041] py-3 px-4 rounded-xl gap-4",m),children:[(0,l.jsx)(ee.Z,{className:"items-center gap-2",children:(0,l.jsx)("div",{className:"mobile:text-sm font-medium text-[#abc4ff]",children:"Pending Yield"})}),(0,l.jsxs)(ee.Z,{className:"items-center gap-8",children:[(0,l.jsxs)("div",{className:"font-medium text-2xl text-white",children:["≈",(0,ex.Z)(y)]}),(0,l.jsx)(R.Z,{className:"frosted-glass-teal",size:w?"sm":void 0,isLoading:A,onClick:()=>P().then(e=>{let{allSuccess:t}=e;t&&b()}),validators:[{should:g,forceActive:!0,fallbackProps:{onClick:()=>c.ZP.setState({isWalletSelectorShown:!0}),children:"Connect Wallet"}},{should:k}],children:"Harvest"})]}),(0,l.jsxs)(M.Z,{is:w?"Col":"Grid",className:"grid-cols-2 gap-6 mobile:gap-2 border-1.5 border-[#abc4ff40] py-3 px-4 rounded-xl",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"mobile:text-sm font-medium text-[#abc4ff] mt-2 mb-4",children:"Fees"}),(0,l.jsx)(H.Z,{className:"grow grid-cols-1 gap-2 mobile:gap-1",children:N.map(e=>{let{token:t,amount:i}=e;return(0,l.jsx)(eS.a,{prefix:(0,l.jsxs)(ee.Z,{className:"items-center gap-2",children:[(0,l.jsx)(E.Z,{token:t,size:"smi"}),(0,l.jsx)("div",{className:"text-[#abc4ff80] min-w-[2em] mr-1",children:null!==(r=null==t?void 0:t.symbol)&&void 0!==r?r:"--"})]}),suffix:(0,l.jsx)("div",{title:(0,p.B)(i),className:"grow overflow-hidden text-ellipsis text-white justify-end text-end",children:(0,p.B)(i)})},(0,u.ZP)(null==t?void 0:t.mint))})})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"mobile:text-sm font-medium text-[#abc4ff] mt-2 mb-4",children:"Rewards"}),(0,l.jsx)(H.Z,{className:"grow grid-cols-1 gap-2",children:Z.length?Z.map(e=>{let{token:t,amount:i}=e;return(0,l.jsx)(eS.a,{prefix:(0,l.jsxs)(ee.Z,{className:"items-center gap-2",children:[(0,l.jsx)(E.Z,{token:t,size:"smi"}),(0,l.jsx)("div",{className:"text-[#abc4ff80] min-w-[2em] mr-1",children:null!==(d=null==t?void 0:t.symbol)&&void 0!==d?d:"--"})]}),suffix:(0,l.jsx)("div",{title:(0,p.B)(i),className:"grow overflow-hidden text-ellipsis text-white justify-end text-end",children:(0,p.B)(i)})},(0,u.ZP)(null==t?void 0:t.mint))}):(0,l.jsx)("div",{className:"text-[#abc4ff80] mobile:text-sm ",children:"(No Reward)"})})]})]})]})}function eE(e){let{className:t}=e,i=(0,v.ZP)(e=>e.targetUserPositionAccount),s=(0,eI.hy)({positionAccount:i}),n=(0,c.ZP)(e=>e.isMobile);return(0,l.jsxs)(D.Z,{className:(0,a.m)("bg-[#141041] py-3 px-4 rounded-xl gap-4",t),children:[(0,l.jsxs)(ee.Z,{className:"items-center gap-2",children:[(0,l.jsx)("div",{className:"mobile:text-sm font-medium text-[#abc4ff]",children:"Estimated APR"}),(0,l.jsx)(ew.T,{}),(0,l.jsx)(eL.n,{className:"ml-auto"})]}),(0,l.jsx)("div",{className:"font-medium text-2xl mobile:text-lg text-white",children:(0,em.Z)(null==s?void 0:s.apr)}),(0,l.jsx)(H.Z,{className:"border-1.5 border-[#abc4ff40] py-3 px-4 rounded-xl",children:i&&(0,l.jsx)(ey.E,{type:"positionAccount",positionAccount:i,colCount:n?1:2})})]})}function ez(e){var t,i,s,n;let{className:o}=e,r=(0,v.ZP)(e=>e.currentAmmPool),d=(0,v.ZP)(e=>e.targetUserPositionAccount),m=(0,c.ZP)(e=>e.isMobile);return(0,l.jsxs)(ee.Z,{className:(0,a.m)("justify-between gap-2 flex-wrap",o),children:[(0,l.jsxs)(ee.Z,{className:"items-center gap-2",children:[(0,l.jsx)(z.Z,{token1:null==r?void 0:r.base,token2:null==r?void 0:r.quote,size:m?"md":"lg"}),(0,l.jsxs)("div",{className:"font-medium text-2xl mobile:text-xl text-white",children:[null!==(s=null==r?void 0:null===(t=r.base)||void 0===t?void 0:t.symbol)&&void 0!==s?s:"--"," - ",null!==(n=null==r?void 0:null===(i=r.quote)||void 0===i?void 0:i.symbol)&&void 0!==n?n:"--"]}),(0,l.jsx)(eU,{positionAccount:d})]}),(0,l.jsxs)(ee.Z,{className:"items-center gap-2 mobile:grow",children:[(0,l.jsx)(R.Z,{className:"frosted-glass-teal mobile:grow",onClick:()=>{v.ZP.setState({isAddDialogOpen:!0,currentAmmPool:r,targetUserPositionAccount:d,coin1:null==r?void 0:r.base,coin2:null==r?void 0:r.quote})},size:m?"sm":void 0,children:"Add Liquidity"}),(0,l.jsx)(R.Z,{className:"frosted-glass-teal ghost mobile:grow",size:m?"sm":void 0,onClick:()=>{v.ZP.setState({isRemoveDialogOpen:!0,currentAmmPool:r,targetUserPositionAccount:d,coin1:null==r?void 0:r.base,coin2:null==r?void 0:r.quote})},children:"Remove Liquidity"})]})]})}function eD(){let e=(0,v.ZP)(e=>e.isMyPositionDialogOpen);return(0,l.jsx)(eC.Z,{placement:"from-bottom",open:e,onClose:()=>{v.ZP.setState({isMyPositionDialogOpen:!1})},children:e=>{let{close:t}=e;return(0,l.jsxs)(T.Z,{className:"p-8 mobile:p-4 pb-2 rounded-3xl mobile:rounded-lg w-[min(912px,90vw)] max-h-[80vh] overflow-auto mobile:w-full border-1.5 border-[rgba(171,196,255,0.2)] bg-cyberpunk-card-bg shadow-cyberpunk-card",size:"lg",children:[(0,l.jsxs)(ee.Z,{className:"justify-between items-center gap-6 mobile:gap-3 mb-6 mobile:mb-3",children:[(0,l.jsx)(ez,{className:"grow"}),(0,l.jsx)(W.Z,{className:"text-[#ABC4FF] cursor-pointer",heroIconName:"x",onClick:t})]}),(0,l.jsxs)(H.Z,{className:"gap-3 mobile:gap-2 grid-cols-2 mobile:grid-cols-1 w-[min(912px,100%)]",children:[(0,l.jsx)(eM,{className:"col-span-full"}),(0,l.jsx)(eR,{className:"col-span-1 row-span-2"}),(0,l.jsx)(eT,{}),(0,l.jsx)(eE,{})]}),(0,l.jsx)(eO,{})]})}})}function eO(e){let{className:t}=e,i=(0,v.ZP)(e=>e.currentAmmPool),s=(0,c.ZP)(e=>e.isMobile);return(0,l.jsxs)(O.Z,{openDirection:"upwards",className:"w-full mt-4",children:[(0,l.jsx)(O.Z.Body,{children:(0,l.jsx)("div",{className:"pb-4",children:(0,l.jsxs)("div",{className:(0,a.m)("bg-[#141041] py-3 px-4 rounded-xl gap-4 ",t),children:[(0,l.jsx)("div",{className:"font-medium text-[#abc4ff] mb-4",children:"Pool Overview"}),(0,l.jsxs)(H.Z,{className:"grid-cols-5 mobile:grid-cols-2 gap-8 mobile:gap-4 mobile:text-sm",children:[(0,l.jsx)(eA,{className:"gap-1 font-medium",prefix:(0,l.jsx)("div",{className:"text-[#abc4ff80] min-w-[4em] mr-1",children:"Fee Rate"}),text:(0,l.jsx)("div",{className:"text-white",children:(0,em.Z)(null==i?void 0:i.tradeFeeRate)})}),(0,l.jsx)(eA,{className:"gap-1 font-medium",prefix:(0,l.jsx)("div",{className:"text-[#abc4ff80] min-w-[4em] mr-1",children:"Liquidity"}),text:(0,l.jsx)("div",{className:"text-white",children:(0,ex.Z)(null==i?void 0:i.tvl)})}),(0,l.jsx)(eA,{className:"gap-1 font-medium",prefix:(0,l.jsx)("div",{className:"text-[#abc4ff80] min-w-[4em] mr-1",children:"24h Volume"}),text:(0,l.jsx)("div",{className:"text-white",children:(0,ex.Z)(null==i?void 0:i.volume24h)})}),(0,l.jsx)(eA,{className:"gap-1 font-medium",prefix:(0,l.jsx)("div",{className:"text-[#abc4ff80] min-w-[4em] mr-1",children:"24h Fee"}),text:(0,l.jsx)("div",{className:"text-white",children:(0,ex.Z)(null==i?void 0:i.volumeFee24h)})}),(0,l.jsx)(eA,{className:"gap-1 font-medium",prefix:(0,l.jsx)("div",{className:"text-[#abc4ff80] min-w-[4em] mr-1",children:"Tick Spacing"}),text:(0,l.jsx)("div",{className:"text-white",children:null==i?void 0:i.ammConfig.tickSpacing})})]})]})})}),(0,l.jsx)(O.Z.Face,{children:e=>{let{isOpen:t}=e;return(0,l.jsxs)(ee.Z,{className:"border-t-1.5 pt-4 pb-2  mobile:pt-2 mobile:pb-0 border-[#abc4ff40] w-full items-center justify-center text-sm font-medium text-[#abc4ff] cursor-pointer select-none",children:[(0,l.jsx)("div",{children:"Pool Overview"}),(0,l.jsx)(W.Z,{size:s?"xs":"sm",heroIconName:t?"chevron-up":"chevron-down",className:"ml-1"})]})}})]})}function eU(e){let{positionAccount:t}=e;return t?t.inRange?(0,l.jsxs)(ee.Z,{className:"items-center bg-[#142B45] rounded text-xs text-[#39D0D8] py-0.5 px-1 ml-2",children:[(0,l.jsx)(W.Z,{size:"xs",iconSrc:"/icons/check-circle.svg"}),(0,l.jsx)("div",{className:"mobile:text-2xs font-normal",style:{marginLeft:4},children:"In Range"})]}):(0,l.jsxs)(ee.Z,{className:"items-center bg-[#DA2EEF]/10 rounded text-xs text-[#DA2EEF] py-0.5 px-1 ml-2",children:[(0,l.jsx)(W.Z,{size:"xs",iconSrc:"/icons/warn-stick.svg"}),(0,l.jsx)("div",{className:"mobile:text-2xs font-normal",style:{marginLeft:4},children:"Out of Range"})]}):null}var eV=i(42186),eH=i(97664),eW=i(28948),eY=i(62952);function eK(){var e,t,i,o,a,r,d,f,j,Z,N,P,y,k,C,S,B,F;(0,w.Z)(),(0,A.Z)(()=>{v.ZP.setState({coin1Amount:void 0,coin2Amount:void 0})});let I=(0,h.Z)(e=>e.getBalance),M=(0,v.ZP)(e=>e.isAddDialogOpen),q=(0,v.ZP)(e=>e.refreshConcentrated),O=(0,h.Z)(e=>e.connected),U=(0,c.ZP)(e=>e.isApprovePanelShown),V=(0,s.useRef)(),Y=(0,s.useRef)(),K=(0,s.useRef)(),_=(0,v.ZP)(e=>e.currentAmmPool),$=null==_?void 0:_.base,Q=null==_?void 0:_.quote,J=null==_?void 0:_.currentPrice,G=(0,v.ZP)(e=>e.targetUserPositionAccount),X=(0,v.ZP)(e=>e.coin1),et=(0,v.ZP)(e=>e.coin2),ei=X||et?Math.max(null!==(e=null==X?void 0:X.decimals)&&void 0!==e?e:0,null!==(t=null==et?void 0:et.decimals)&&void 0!==t?t:0):6,el=(0,L.ZP)(e=>e.tokenPrices),es=(0,v.ZP)(e=>e.coin1Amount),en=(0,v.ZP)(e=>e.coin2Amount),eo=(0,ef.aT)(null==$?void 0:$.mint,null==X?void 0:X.mint)?"coin1":"coin2",ea="coin1"===eo?es:en,ec="coin1"===eo?en:es,[er,ed]=(0,s.useState)(!1),[eu,eb]=(0,s.useState)(!1),[eh,ev]=(0,s.useState)(!1),[eg,ej]=(0,s.useState)(!1);(0,s.useEffect)(()=>{if(!_||!G)return;let e=null==_?void 0:_.base,t=null==_?void 0:_.quote;v.ZP.setState({coin1:e,coin2:t,priceLowerTick:G.tickLower,priceUpperTick:G.tickUpper})},[_,G]);let eZ=el[(0,u.ZP)(null==$?void 0:$.mint)],eN=el[(0,u.ZP)(null==Q?void 0:Q.mint)],eP=(0,ep.dC)(ea,eZ),ey=(0,ep.dC)(ec,eN),ew=(0,ep.IH)(eP,ey),ek=(0,c.ZP)(e=>e.isMobile);return(0,l.jsx)(eC.Z,{placement:"from-bottom",open:M,onClose:()=>{v.ZP.setState({isAddDialogOpen:!1,coin1Amount:void 0,coin2Amount:void 0})},children:e=>{let{close:t}=e;return(0,l.jsxs)(T.Z,{className:"p-8 mobile:p-4 pb-2 rounded-3xl mobile:rounded-lg w-[min(456px,90vw)] mobile:w-full border-1.5 border-[rgba(171,196,255,0.2)] bg-cyberpunk-card-bg shadow-cyberpunk-card",size:"lg",children:[(0,l.jsxs)(ee.Z,{className:"justify-between items-center mb-6 mobile:mb-3",children:[(0,l.jsxs)("div",{className:"mobile:text-base text-xl font-semibold text-white",children:["Add Liquidity to ",null!==(i=null==$?void 0:$.symbol)&&void 0!==i?i:"--"," - ",null!==(o=null==Q?void 0:Q.symbol)&&void 0!==o?o:"--"," "]}),(0,l.jsx)(W.Z,{className:"text-[#ABC4FF] cursor-pointer",heroIconName:"x",onClick:t})]}),(0,l.jsxs)(D.Z,{className:"gap-2 mobile:gap-1 border-1.5 rounded-xl border-[#abc4ff40] p-2.5 mobile:p-2 mb-4 mobile:mb-2",children:[(0,l.jsx)("div",{className:"font-medium text-sm text-[#abc4ff] mobile:pb-1",children:"My Position"}),(0,l.jsxs)(ee.Z,{className:"items-center",children:[(0,l.jsx)(E.Z,{token:$,size:ek?"xs":"sm"}),(0,l.jsx)("div",{className:"ml-2 mr-auto text-sm mobile:text-xs text-[#abc4ff80]",children:null!==(a=null==$?void 0:$.symbol)&&void 0!==a?a:"--"}),(0,l.jsxs)("div",{className:"text-white font-medium text-sm mobile:text-xs",children:[(0,p.B)(null==G?void 0:G.amountA)," ",null!==(r=null==$?void 0:$.symbol)&&void 0!==r?r:"--"]})]}),(0,l.jsxs)(ee.Z,{className:"items-center",children:[(0,l.jsx)(E.Z,{token:Q,size:ek?"xs":"sm"}),(0,l.jsx)("div",{className:"ml-2 mr-auto text-sm mobile:text-xs text-[#abc4ff80]",children:null!==(d=null==Q?void 0:Q.symbol)&&void 0!==d?d:"--"}),(0,l.jsxs)("div",{className:"text-white font-medium text-sm mobile:text-xs",children:[(0,p.B)(null==G?void 0:G.amountB)," ",null!==(f=null==Q?void 0:Q.symbol)&&void 0!==f?f:"--"]})]})]}),(0,l.jsxs)(D.Z,{className:"gap-2 border-1.5 rounded-xl border-[#abc4ff40] p-2.5 mobile:p-2 mb-4 mobile:mb-2",children:[(0,l.jsxs)(ee.Z,{className:"items-center py-1",children:[(0,l.jsx)("div",{className:"font-medium text-sm text-[#abc4ff] mr-auto",children:"Selected Range"}),(0,l.jsxs)(ee.Z,{children:[(0,l.jsx)("div",{className:"text-[#abc4ff80] text-xs mr-2",children:"current Price"}),(0,l.jsxs)("div",{className:"text-white font-medium text-xs",children:[J?(0,p.B)(J,{decimalLength:ei}):"0"," ",null!==(j=null==Q?void 0:Q.symbol)&&void 0!==j?j:"--"," ","per ",null!==(Z=null==$?void 0:$.symbol)&&void 0!==Z?Z:"--"]})]})]}),(0,l.jsxs)(H.Z,{className:"grid-cols-2 gap-4 mobile:gap-2",children:[(0,l.jsxs)(D.Z,{className:"gap-2 border-1.5 rounded-xl border-[#39d0d866] items-center py-3",children:[(0,l.jsx)("div",{className:"text-[#abc4ff] text-sm",children:"Min Price"}),(0,l.jsx)("div",{className:"text-white text-xl font-medium",children:(0,p.B)(null==G?void 0:G.priceLower)}),(0,l.jsxs)("div",{className:"text-[#abc4ff80] text-xs",children:[null!==(N=null==Q?void 0:Q.symbol)&&void 0!==N?N:"--"," per ",null!==(P=null==$?void 0:$.symbol)&&void 0!==P?P:"--"]})]}),(0,l.jsxs)(D.Z,{className:"gap-2 border-1.5 rounded-xl border-[#39d0d866] items-center py-3",children:[(0,l.jsx)("div",{className:"text-[#abc4ff] text-sm",children:"Max Price"}),(0,l.jsx)("div",{className:"text-white text-xl font-medium",children:(0,p.B)(null==G?void 0:G.priceUpper)}),(0,l.jsxs)("div",{className:"text-[#abc4ff80] text-xs",children:[null!==(y=null==Q?void 0:Q.symbol)&&void 0!==y?y:"--"," per ",null!==(k=null==$?void 0:$.symbol)&&void 0!==k?k:"--"]})]})]})]}),(0,l.jsxs)(D.Z,{className:"gap-3 mobile:gap-2 mb-6 mobile:mb-2",children:[(0,l.jsx)(eH.Z,{className:"p-4 mobile:py-2",componentRef:Y,disabled:(0,x.gt)(J,null==G?void 0:G.priceUpper),renderDisabledMask:(0,l.jsx)(e_,{}),haveCoinIcon:!0,topLeftLabel:"Amount",token:$,maxValue:$?(0,eY.n)($,(0,ep.dC)(I($),.985),{alreadyDecimaled:!0}):void 0,value:(0,p.B)(ea),onUserInput:e=>{"coin1"===eo?v.ZP.setState({coin1Amount:e,userCursorSide:"coin1"}):v.ZP.setState({coin2Amount:e,userCursorSide:"coin2"})},onInputAmountClampInBalanceChange:e=>{let{negative:t,outOfMax:i}=e;eb(t),ed(i)},onEnter:e=>{var t,i;e&&(null===(t=V.current)||void 0===t||null===(i=t.click)||void 0===i||i.call(t))}}),(0,l.jsx)(eH.Z,{className:"p-4 mobile:py-2",componentRef:K,disabled:(0,x.lt)(J,null==G?void 0:G.priceLower),renderDisabledMask:(0,l.jsx)(e_,{}),haveCoinIcon:!0,topLeftLabel:"Amount",token:Q,maxValue:Q?(0,eY.n)(Q,(0,ep.dC)(I(Q),.985),{alreadyDecimaled:!0}):void 0,value:(0,p.B)(ec),onUserInput:e=>{"coin1"===eo?v.ZP.setState({coin2Amount:e,userCursorSide:"coin2"}):v.ZP.setState({coin1Amount:e,userCursorSide:"coin1"})},onInputAmountClampInBalanceChange:e=>{let{negative:t,outOfMax:i}=e;ej(t),ev(i)},onEnter:e=>{var t,i;e&&(null===(t=V.current)||void 0===t||null===(i=t.click)||void 0===i||i.call(t))}})]}),(0,l.jsx)(eW.Z,{show:(0,x.$u)(ea),children:(0,l.jsxs)(D.Z,{className:"gap-2 mobile:gap-1 border-1.5 rounded-xl border-[#abc4ff40] py-2.5 px-2.5 mb-4",children:[(0,l.jsxs)(ee.Z,{className:"items-center",children:[(0,l.jsx)("div",{className:"ml-2 mr-auto text-sm mobile:text-xs text-[#abc4ff]",children:"Total Deposit"}),(0,l.jsx)("div",{className:"text-white font-medium text-sm",children:(0,ex.Z)(ew)})]}),(0,l.jsxs)(ee.Z,{className:"items-center",children:[(0,l.jsx)("div",{className:"ml-2 mr-auto text-sm mobile:text-xs text-[#abc4ff]",children:"Deposit Ratio"}),(0,l.jsxs)(ee.Z,{className:"items-center",children:[(0,l.jsx)(z.Z,{token1:$,token2:Q,size:"sm",className:"mr-1"}),(0,l.jsxs)("div",{className:"text-white font-medium text-xs",children:[(0,em.Z)((0,ep.hi)(eP,ew))," / ",(0,em.Z)((0,ep.hi)(ey,ew))]})]})]})]})}),(0,l.jsxs)(ee.Z,{className:"flex-col gap-1",children:[(0,l.jsx)(R.Z,{className:"frosted-glass frosted-glass-teal mobile:text-sm",size:ek?"sm":void 0,isLoading:U,componentRef:V,validators:[{should:O,forceActive:!0,fallbackProps:{onClick:()=>c.ZP.setState({isWalletSelectorShown:!0}),children:"Connect Wallet"}},{should:(0,x.$u)(ea)||(0,x.$u)(ec)},{should:!er,fallbackProps:{children:"".concat(null!==(C=null==$?void 0:$.symbol)&&void 0!==C?C:""," Amount Too Large")}},{should:!eu,fallbackProps:{children:"Negative ".concat(null!==(S=null==$?void 0:$.symbol)&&void 0!==S?S:""," Amount")}},{should:!eh,fallbackProps:{children:"".concat(null!==(B=null==Q?void 0:Q.symbol)&&void 0!==B?B:""," Amount Too Large")}},{should:!eg,fallbackProps:{children:"Negative ".concat(null!==(F=null==Q?void 0:Q.symbol)&&void 0!==F?F:""," Amount")}}],onClick:()=>{(function(){let{currentAmmPool:e=v.ZP.getState().currentAmmPool,targetUserPositionAccount:t=v.ZP.getState().targetUserPositionAccount}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,b.ZP)(async i=>{let{transactionCollector:l,baseUtils:{connection:s,owner:o,allTokenAccounts:a}}=i,{coin1:r,coin2:d,coin1Amount:f,coin2Amount:b,liquidity:j}=v.ZP.getState(),{tokenAccountRawInfos:Z}=h.Z.getState(),{slippageTolerance:N}=c.ZP.getState();(0,m.Z)(e,"not seleted amm pool"),(0,m.Z)(r,"not set coin1"),(0,m.Z)(f,"not set coin1Amount"),(0,m.Z)(d,"not set coin2"),(0,m.Z)(b,"not set coin2Amount"),(0,m.Z)((0,x.$u)(j),"not set liquidity"),(0,m.Z)(t,"not set targetUserPositionAccount");let{innerTransactions:P}=await n.c2c.makeIncreaseLiquidityInstructionSimple({connection:s,liquidity:j,poolInfo:e.state,ownerInfo:{feePayer:o,wallet:o,tokenAccounts:Z,useSOLBalance:(0,eV.Dn)(r)||(0,eV.Dn)(d)},slippage:Number((0,p.B)(N)),ownerPosition:t.sdkParsed,computeBudgetConfig:await (0,g.u)()});l.add(P,{txHistoryInfo:{title:"Liquidity Added",description:"Added ".concat((0,p.B)(f)," ").concat(r.symbol," and ").concat((0,p.B)(b)," ").concat(d.symbol," to ").concat((0,u.ZP)(t.poolId).slice(0,6))}})})})().then(e=>{let{allSuccess:t}=e;t&&(q(),v.ZP.setState({isAddDialogOpen:!1,coin1Amount:void 0,coin2Amount:void 0}))})},children:"Add Liquidity"}),(0,l.jsx)(R.Z,{type:"text",size:ek?"sm":void 0,className:"text-sm text-[#ABC4FF] opacity-50 backdrop-filter-none",onClick:t,children:"Cancel"})]})]})}})}function e_(){return(0,l.jsxs)("div",{className:"absolute text-sm flex flex-col border-1.5 border-[#abc4ff40] text-center justify-center items-center p-2 w-full h-full bg-[#141041] bg-opacity-80 z-10 rounded-xl",children:[(0,l.jsx)(W.Z,{className:"mb-1",heroIconName:"lock-closed",size:"sm"}),"Current price is outside your selected range. Single-asset deposit only."]})}var e$=i(9531),eQ=i(27407);function eJ(e){let[t,i]=(0,s.useState)(),[n,o]=(0,s.useState)(0),[c,r]=(0,s.useState)(0),{id:d,title:m,max:u,className:x,titleClassName:f,tagClassName:b,onChange:h,liquidity:v,tick:g}=(0,eQ.Z)(e,t),j=(0,s.useCallback)(e=>{(0,C.kJ)(e)||(h&&h(e),r(e),o(e/u))},[h]),Z=(0,s.useCallback)(e=>{o(e),r(u*e),h&&h(u*e)},[u]);return(0,s.useEffect)(()=>{var e;let t=Number((0,p.B)((0,ep.hi)(null!=v?v:0,(0,ep.dC)(u,g)),{decimalLength:"auto 4"}));o(t=t>1?1:t),r(null!==(e=Number((0,p.B)(t*u,{decimalLength:"auto 2"})))&&void 0!==e?e:0)},[v]),(0,l.jsxs)("div",{className:(0,a.m)("w-full py-1 px-1",x),children:[(0,l.jsxs)(ee.Z,{className:"w-full flex flex-row justify-between",children:[(0,l.jsxs)("div",{className:"w-full flex flex-row justify-start items-center ",children:[(0,l.jsx)("span",{className:(0,a.m)("text-[#ABC4FF] font-medium text-base mobile:text-sm",f),style:{marginRight:8},children:null!=m?m:"Amount"}),(0,l.jsxs)(ee.Z,{className:"gap-1 mobile:gap-0.5",children:[(0,l.jsx)(eG,{tagName:"Max",className:b,percentageValue:1,onClick:Z}),(0,l.jsx)(eG,{tagName:"75%",className:b,percentageValue:.75,onClick:Z}),(0,l.jsx)(eG,{tagName:"50%",className:b,percentageValue:.5,onClick:Z}),(0,l.jsx)(eG,{tagName:"25%",className:b,percentageValue:.25,onClick:Z})]})]}),(0,l.jsx)("div",{className:"text-lg mobile:text-sm text-white font-medium flex items-center",children:(0,em.Z)(n)})]}),(0,l.jsx)(eX,{className:"mt-5",max:u,onChange:j,value:c})]})}function eG(e){let{tagName:t,className:i,percentageValue:s,onClick:n}=e;return(0,l.jsx)("div",{className:(0,a.m)("text-[#ABC4FF] font-medium text-sm mobile:text-xs m-0.25 bg-[#14104180] rounded-lg mobile:rounded-md hover:bg-[#ABC4FF] hover:text-[#1B1659] py-1 px-3 mobile:px-2 clickable",i),onClick:()=>{n&&n(s)},children:t})}function eX(e){let{max:t,className:i,trackStyle:s,handleStyle:n,railStyle:o,onChange:c,value:r,defaultValue:d,...m}=e;return(0,l.jsx)(ee.Z,{className:(0,a.m)("w-full h-5, px-3",i),children:(0,l.jsx)(e$.Z,{min:0,max:t,step:.01,value:null!=r?r:void 0,trackStyle:{backgroundColor:"#36B9E2",height:2,...s},handleStyle:{borderColor:"transparent",height:24,width:24,marginTop:-12,backgroundColor:"#ABC4FF",opacity:1,boxShadow:"none",...n},railStyle:{backgroundColor:"#36B9E2",height:1,opacity:"0.2",...o},onChange:e=>{c&&c(e)}})})}i(85213);var e0=i(56603);function e1(e){let{isAdd:t=!1}=e,i=(0,v.ZP)(e=>e.currentAmmPool),o=(0,v.ZP)(e=>e.targetUserPositionAccount),a=(0,v.ZP)(e=>e.coin1),c=(0,v.ZP)(e=>e.coin2),r=(0,v.ZP)(e=>e.liquidity);(0,m.Z)(a,"base token not been set"),(0,m.Z)(c,"quote token not been set");let d=(0,s.useMemo)(()=>{if(i&&o){var e;return null===(e=i.positionAccount)||void 0===e?void 0:e.find(e=>(0,u.ZP)(e.nftMint)===(0,u.ZP)(o.nftMint))}},[i,o]),x=(0,s.useMemo)(()=>{var e;return null!==(e=(0,ep.hi)(null==d?void 0:d.liquidity,100))&&void 0!==e?e:(0,eg.Z)(0)},[null==d?void 0:d.liquidity]),b=(0,s.useCallback)(e=>{if((0,C.kJ)(e)||!i||!d)return;let t=(0,f.Z)((0,ep.dC)(e,x)),l=n.c2c.getAmountsFromLiquidity({poolInfo:i.state,ownerPosition:d,liquidity:t,slippage:0,add:!1});v.ZP.setState({coin1Amount:(0,p.B)((0,eY.n)(i.base,l.amountSlippageA),{decimalLength:"auto ".concat(i.base.decimals)}),coin2Amount:(0,p.B)((0,eY.n)(i.quote,l.amountSlippageB),{decimalLength:"auto ".concat(i.quote.decimals)}),isInput:!1,liquidity:t})},[i,a,c,x]);return(0,l.jsx)(eJ,{max:100,tick:x,className:"py-3 px-3 ring-1 mobile:ring-1 ring-[#abc4ff40] rounded-xl mobile:rounded-xl ",onChange:(0,e0.P)(b),liquidity:r})}function e2(e){var t,i,o,r,d,m;let{className:f,onClose:b}=e;(0,A.Z)(()=>{v.ZP.setState({coin1Amount:void 0,coin2Amount:void 0})});let g=(0,v.ZP)(e=>e.isRemoveDialogOpen),Z=(0,v.ZP)(e=>e.refreshConcentrated),N=(0,h.Z)(e=>e.connected),P=(0,c.ZP)(e=>e.isApprovePanelShown),y=(0,s.useRef)(),w=(0,s.useRef)(),k=(0,s.useRef)(),C=(0,v.ZP)(e=>e.currentAmmPool),S=null==C?void 0:C.base,B=null==C?void 0:C.quote,F=(0,v.ZP)(e=>e.targetUserPositionAccount),L=(0,v.ZP)(e=>e.coin1),I=(0,v.ZP)(e=>e.coin1Amount),M=(0,v.ZP)(e=>e.coin2Amount),q=(0,v.ZP)(e=>e.coin1AmountMin),E=(0,v.ZP)(e=>e.coin2AmountMin),z=(0,ef.aT)(null==S?void 0:S.mint,null==L?void 0:L.mint)?"coin1":"coin2",[O,U]=(0,s.useState)(!1),[V,H]=(0,s.useState)(!1),[Y,K]=(0,s.useState)(!1),[_,$]=(0,s.useState)(!1),Q=(0,v.ZP)(e=>e.liquidity),{pendingTotalVolume:J}=ej(F),G=(0,c.ZP)(e=>e.isMobile),[X,et]=(0,s.useState)({coin1Amount:void 0,coin2Amount:void 0});(0,s.useEffect)(()=>{if(!C||!F)return;let e=null==C?void 0:C.base,t=null==C?void 0:C.quote;v.ZP.setState({coin1:e,coin2:t,priceLowerTick:F.tickLower,priceUpperTick:F.tickUpper})},[C,F]),(0,s.useEffect)(()=>{v.ZP.setState({coin1AmountMin:(0,ep.dC)(I,.985)})},[I]),(0,s.useEffect)(()=>{v.ZP.setState({coin2AmountMin:(0,ep.dC)(M,.985)})},[M]);let ei=(0,s.useMemo)(()=>{if(C&&F){var e;return null===(e=C.positionAccount)||void 0===e?void 0:e.find(e=>(0,u.ZP)(e.nftMint)===(0,u.ZP)(F.nftMint))}},[C,F]),el=(0,s.useCallback)(()=>{if(!ei||!C||!S||!B)return;let e=n.c2c.getAmountsFromLiquidity({poolInfo:C.state,ownerPosition:ei,liquidity:ei.liquidity,slippage:0,add:!1}),t=(0,p.B)((0,eY.n)(C.base,e.amountSlippageA),{decimalLength:"auto ".concat(C.base.decimals)}),i=(0,p.B)((0,eY.n)(C.quote,e.amountSlippageB),{decimalLength:"auto ".concat(C.quote.decimals)});et({coin1Amount:t,coin2Amount:i})},[C,ei,S,B]);(0,s.useEffect)(()=>{el()},[el]);let en=(0,s.useCallback)(()=>{(null==ei?void 0:ei.liquidity)&&X.coin1Amount&&X.coin2Amount&&v.ZP.setState({coin1Amount:X.coin1Amount,coin2Amount:X.coin2Amount,isInput:!0,liquidity:ei.liquidity})},[X,ei]);return(0,l.jsx)(eC.Z,{placement:"from-bottom",open:g,onClose:()=>{v.ZP.setState({isRemoveDialogOpen:!1,coin1Amount:void 0,coin2Amount:void 0})},children:e=>{let{close:s}=e;return(0,l.jsxs)(T.Z,{className:(0,a.m)("p-8 mobile:p-4 rounded-3xl w-[min(500px,90vw)] mobile:w-full border-1.5 border-[rgba(171,196,255,0.2)] bg-cyberpunk-card-bg shadow-cyberpunk-card",f),size:"lg",children:[(0,l.jsxs)(ee.Z,{className:"justify-between items-center mb-6 mobile:mb-3",children:[(0,l.jsxs)("div",{className:"mobile:text-base text-xl font-semibold text-white",children:["Remove Liquidity from ",null==S?void 0:S.symbol," - ",null==B?void 0:B.symbol]}),(0,l.jsx)(W.Z,{className:"text-[#ABC4FF] cursor-pointer",heroIconName:"x",onClick:s})]}),(0,l.jsxs)(D.Z,{className:"gap-3 mb-6 mobile:mb-4",children:[(0,l.jsx)(eH.Z,{componentRef:w,haveCoinIcon:!0,topLeftLabel:"Base",topRightLabel:"Deposited: ".concat((0,p.B)(null==F?void 0:F.amountA)),maxValue:X.coin1Amount,canFillFullBalance:!0,token:S,value:(0,p.B)(I,{decimalLength:"auto ".concat(null!==(t=null==S?void 0:S.decimals)&&void 0!==t?t:10)}),onUserInput:e=>{v.ZP.setState({isInput:!0}),"coin1"===z?v.ZP.setState({coin1Amount:e,userCursorSide:"coin1"}):v.ZP.setState({coin2Amount:e,userCursorSide:"coin2"})},onInputAmountClampInBalanceChange:e=>{let{negative:t,outOfMax:i}=e;H(t),U(i)},onEnter:e=>{var t,i;e&&(null===(t=y.current)||void 0===t||null===(i=t.click)||void 0===i||i.call(t))},onCustomMax:()=>{en()}}),(0,l.jsx)(eH.Z,{componentRef:k,haveCoinIcon:!0,topLeftLabel:"Quote",topRightLabel:"Deposited: ".concat((0,p.B)(null==F?void 0:F.amountB)),maxValue:X.coin2Amount,canFillFullBalance:!0,token:B,value:(0,p.B)(M,{decimalLength:"auto ".concat(null!==(i=null==B?void 0:B.decimals)&&void 0!==i?i:10)}),onUserInput:e=>{v.ZP.setState({isInput:!0}),"coin1"===z?v.ZP.setState({coin2Amount:e,userCursorSide:"coin2"}):v.ZP.setState({coin1Amount:e,userCursorSide:"coin1"})},onInputAmountClampInBalanceChange:e=>{let{negative:t,outOfMax:i}=e;$(t),K(i)},onEnter:e=>{var t,i;e&&(null===(t=y.current)||void 0===t||null===(i=t.click)||void 0===i||i.call(t))},onCustomMax:()=>{en()}}),(0,l.jsx)(e1,{}),(0,l.jsxs)("div",{className:"py-3 px-3 ring-1 mobile:ring-1 ring-[#abc4ff40] rounded-xl mobile:rounded-xl ",children:[(0,l.jsxs)(D.Z,{children:[(0,l.jsx)(ee.Z,{className:"flex justify-start items-center text-[#ABC4FF] font-medium text-sm",children:(0,l.jsx)("div",{className:"text-base mobile:text-sm",children:"Pending Yield"})}),(0,l.jsx)(ee.Z,{className:"flex justify-end items-center text-[#ABC4FF] font-medium text-sm",children:(0,l.jsx)("div",{className:"text-lg text-white",children:(0,ex.Z)(J)})}),(0,l.jsxs)(eW.Z,{show:(0,x.gt)(q,0)&&(0,x.gt)(E,0),children:[(0,l.jsxs)(ee.Z,{className:"flex justify-start gap-1 items-center text-[#ABC4FF] font-medium text-sm",children:["Minimum Received",(0,l.jsxs)(es.Z,{children:[(0,l.jsx)(W.Z,{size:"xs",heroIconName:"question-mark-circle",className:"cursor-help"}),(0,l.jsx)(es.Z.Panel,{children:(0,l.jsx)("div",{className:"max-w-[30em]",children:"The least amount of tokens you will recieve in this withdraw"})})]})]}),(0,l.jsxs)(D.Z,{className:"pt-2 gap-2",children:[(0,l.jsx)(e4,{token:S,amount:q,className:"px-1"}),(0,l.jsx)(e4,{token:B,amount:E,className:"px-1"})]})]})]}),(0,l.jsx)(ee.Z,{className:"flex justify-between items-center text-[#ABC4FF] font-medium text-sm"})]})]}),(0,l.jsxs)(ee.Z,{className:"flex-col gap-1",children:[(0,l.jsx)(R.Z,{size:G?"sm":void 0,className:"frosted-glass frosted-glass-teal mobile:text-sm",isLoading:P,componentRef:y,validators:[{should:N,forceActive:!0,fallbackProps:{onClick:()=>c.ZP.setState({isWalletSelectorShown:!0}),children:"Connect Wallet"}},{should:!O,fallbackProps:{children:"".concat(null!==(o=null==S?void 0:S.symbol)&&void 0!==o?o:""," Amount Too Large")}},{should:!V,fallbackProps:{children:"Negative ".concat(null!==(r=null==S?void 0:S.symbol)&&void 0!==r?r:""," Amount")}},{should:!Y,fallbackProps:{children:"".concat(null!==(d=null==B?void 0:B.symbol)&&void 0!==d?d:""," Amount Too Large")}},{should:!_,fallbackProps:{children:"Negative ".concat(null!==(m=null==B?void 0:B.symbol)&&void 0!==m?m:""," Amount")}},{should:(0,x.gt)(Q,0),fallbackProps:{children:"Enter Amount"}}],onClick:()=>{j().then(e=>{let{allSuccess:t}=e;t&&(null==b||b(),Z(),v.ZP.setState({isRemoveDialogOpen:!1,isMyPositionDialogOpen:!1,coin1Amount:void 0,coin2Amount:void 0}))})},children:"Withdraw Liquidity"}),(0,l.jsx)(R.Z,{size:G?"sm":void 0,type:"text",className:"text-sm mobile:text-xs text-[#ABC4FF] opacity-50 backdrop-filter-none",onClick:s,children:"Cancel"})]})]})}})}function e4(e){var t,i;let{token:s,amount:n,className:o}=e,r=(0,c.ZP)(e=>e.isMobile);return(0,l.jsxs)(ee.Z,{className:(0,a.m)("w-full justify-between",o),children:[(0,l.jsxs)(ee.Z,{className:"gap-2 items-center",children:[(0,l.jsx)(E.Z,{size:r?"xs":"md",token:s}),null!==(t=null==s?void 0:s.symbol)&&void 0!==t?t:null==s?void 0:s.mint.toString().slice(0,6)]}),(0,l.jsx)(ee.Z,{className:"text-lg text-white items-center",children:(0,p.B)(null!=n?n:0,{decimalLength:"auto ".concat(null!==(i=null==s?void 0:s.decimals)&&void 0!==i?i:10)})})]})}function e5(){let e=(0,v.ZP)(e=>e.currentTab);return(0,A.Z)(()=>{let e=function(){var e,t;let i=(0,S.mu)(),l=String(null!==(t=null!==(e=i.ammId)&&void 0!==e?e:i.ammid)&&void 0!==t?t:"")||void 0;return(0,C.gm)(l)?l:void 0}();e&&v.ZP.setState(t=>({expandedItemIds:(0,k.jX)(t.expandedItemIds,e),searchText:e}))},{effectMethod:"isoLayoutEffect"}),(0,w.Z)(),(0,r.q)(),(0,l.jsxs)(J.Z,{contentButtonPaddingShorter:!0,mobileBarTitle:{items:[{value:v.u0.ALL,barLabel:v.u0.ALL},{value:v.u0.MY_POOLS,barLabel:v.u0.MY_POOLS}],currentValue:e,onChange:e=>v.ZP.setState({currentTab:e}),urlSearchQueryKey:"tab",drawerTitle:"CONCENTRATED POOLS"},metaTitle:"Concentrated Pools - Raydium",children:[(0,l.jsx)(e6,{}),(0,l.jsx)(ta,{}),(0,l.jsx)(eD,{}),(0,l.jsx)(eK,{}),(0,l.jsx)(e2,{})]})}function e6(){let e=(0,v.ZP)(e=>e.tvl),t=(0,v.ZP)(e=>e.volume24h),i=!!(null!=e&&null!=t),s=(0,c.ZP)(e=>e.isMobile);return s?i?(0,l.jsxs)(ee.Z,{className:"mx-auto my-2 text-base mobile:text-xs justify-self-start self-end text-[#abc4ff80] gap-4",children:[(0,l.jsxs)("div",{className:"whitespace-nowrap",children:["TVL: ",(0,l.jsxs)("span",{className:"font-medium text-[#abc4ff]",children:["$",(0,ed.Z)(e)]})]}),(0,l.jsxs)("div",{className:"whitespace-nowrap",children:["Volume24H: ",(0,l.jsxs)("span",{className:"font-medium text-[#abc4ff]",children:["$",(0,ed.Z)(t)]})]})]}):null:(0,l.jsxs)(H.Z,{className:"grid-cols-3 justify-between items-center pb-8 pt-0",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"text-2xl font-semibold justify-self-start text-white",children:"Concentrated Pools"}),i&&(0,l.jsxs)(ee.Z,{className:"title text-base mobile:text-xs justify-self-start self-end text-[#abc4ff80] gap-4",children:[(0,l.jsxs)("div",{className:"whitespace-nowrap",children:["TVL: ",(0,l.jsxs)("span",{className:"font-medium text-[#abc4ff]",children:["$",(0,ed.Z)(e)]})]}),(0,l.jsxs)("div",{className:"whitespace-nowrap",children:["Volume24H: ",(0,l.jsxs)("span",{className:"font-medium text-[#abc4ff]",children:["$",(0,ed.Z)(t)]})]})]})]}),(0,l.jsx)(e3,{}),(0,l.jsx)(to,{})]})}function e3(e){let{className:t}=e,i=(0,v.ZP)(e=>e.currentTab),s=(0,c.ZP)(e=>e.isMobile);return s?(0,l.jsx)(el.Z,{currentValue:i,urlSearchQueryKey:"tab",values:(0,k.DB)([v.u0.ALL,v.u0.MY_POOLS]),onChange:e=>v.ZP.setState({currentTab:e}),className:t}):(0,l.jsx)(el.Z,{currentValue:i,urlSearchQueryKey:"tab",values:(0,k.DB)([v.u0.ALL,v.u0.MY_POOLS]),onChange:e=>v.ZP.setState({currentTab:e}),className:(0,a.m)("justify-self-center mobile:col-span-full",t)})}function e9(e){let{className:t}=e;return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)(G.Z,{placement:"bottom-right",children:[(0,l.jsx)(G.Z.Button,{children:(0,l.jsx)("div",{className:(0,a.m)("mx-1 rounded-full p-2 text-[#abc4ff] clickable justify-self-start",t),children:(0,l.jsx)(W.Z,{className:"w-4 h-4",iconClassName:"w-4 h-4",heroIconName:"dots-vertical"})})}),(0,l.jsx)(G.Z.Panel,{children:(0,l.jsx)("div",{children:(0,l.jsx)(T.Z,{className:"flex flex-col py-3 px-4  max-h-[80vh] border-1.5 border-[rgba(171,196,255,0.2)] bg-cyberpunk-card-bg shadow-cyberpunk-card",size:"lg",children:(0,l.jsxs)(H.Z,{className:"grid-cols-1 items-center gap-2",children:[(0,l.jsx)(tn,{}),(0,l.jsx)(te,{}),(0,l.jsx)(tl,{}),(0,l.jsx)(e7,{}),(0,l.jsx)(to,{})]})})})})]})})}function e8(e){let{className:t}=e,i=(0,c.ZP)(e=>e.isMobile),s=(0,v.ZP)(e=>e.searchText);return(0,l.jsx)(Y.Z,{value:s,className:(0,a.m)("px-2 py-2 mobile:py-1 gap-2 ring-inset ring-1 ring-[rgba(196,214,255,0.5)] rounded-xl mobile:rounded-lg pc:w-[12vw] mobile:w-auto",t),inputClassName:"font-medium text-sm mobile:text-xs text-[rgba(196,214,255,0.5)] placeholder-[rgba(196,214,255,0.5)]",prefix:(0,l.jsx)(W.Z,{heroIconName:"search",size:i?"sm":"smi",className:"text-[rgba(196,214,255,0.5)]"}),suffix:(0,l.jsx)(W.Z,{heroIconName:"x",size:i?"xs":"sm",className:"text-[rgba(196,214,255,0.5)] transition clickable ".concat(s?"opacity-100":"opacity-0 pointer-events-none"),onClick:()=>{v.ZP.setState({searchText:""})}}),placeholder:"Search All",onUserInput:e=>{v.ZP.setState({searchText:e})}})}function e7(){let e=(0,c.ZP)(e=>e.isApprovePanelShown),t=(0,h.Z)(e=>e.connected),i=(0,v.ZP)(e=>e.refreshConcentrated),o=(0,c.ZP)(e=>e.isMobile),a=(0,v.ZP)(e=>e.hydratedAmmPools),r=(0,s.useMemo)(()=>a.some(e=>{var t;return null===(t=e.userPositionAccount)||void 0===t?void 0:t.find(e=>(0,x.gt)(e.tokenFeeAmountB,n.xEJ)||(0,x.gt)(e.tokenFeeAmountA,n.xEJ)||e.rewardInfos.find(e=>(0,x.gt)(e.penddingReward,n.xEJ)))}),[a]);return(0,l.jsx)(R.Z,{className:"frosted-glass-teal",isLoading:e,validators:[{should:t},{should:r}],onClick:()=>y().then(e=>{let{allSuccess:t}=e;t&&i()}),size:o?"xs":"sm",children:"Harvest All"})}function te(){let e=(0,v.ZP)(e=>e.ownedPoolOnly),t=(0,h.Z)(e=>e.owner),i=(0,v.ZP)(e=>e.hydratedAmmPools),n=(0,h.Z)(e=>e.connected),o=(0,s.useMemo)(()=>{let e=!1;if(t){for(let l of i)if((0,ef.aT)(l.creator,t)){e=!0;break}}return e},[t,i]);return n&&o?(0,l.jsxs)(ee.Z,{className:"justify-self-end  mobile:justify-self-auto items-center",children:[(0,l.jsx)("span",{className:"text-[rgba(196,214,255,0.5)] whitespace-nowrap font-medium text-sm mobile:text-xs",children:"Show Created"}),(0,l.jsx)(ei.Z,{className:"ml-2 ",defaultChecked:e,onToggle:e=>v.ZP.setState({ownedPoolOnly:e})})]}):null}function tt(e){let{className:t,filterPoolCount:i,showCount:s=!1}=e;return(0,l.jsxs)(ee.Z,{className:(0,a.m)(t,"flex justify-between items-center flex-wrap mr-4 gap-y-4"),children:[(0,l.jsxs)(D.Z,{children:[(0,l.jsxs)("div",{className:"flex items-end",children:[(0,l.jsx)("div",{className:"font-medium text-xl mobile:text-base text-white",children:"Concentrated Pools"}),s&&(0,l.jsxs)("div",{className:"font-normal text-sm mobile:text-base text-[rgba(196,214,255,.5)] ml-2 mb-1",children:["(Filtered Pools: ",i,")"]})]}),(0,l.jsxs)("div",{className:"font-medium text-[rgba(196,214,255,.5)] text-base mobile:text-sm",children:["Concentrate liquidity for increased capital efficiency."," ",(0,l.jsx)(K.Z,{className:"inline-block",href:"https://docs.raydium.io/raydium/concentrated-liquidity/what-is-concentrated-liquidity",children:"Learn more"})]})]}),(0,l.jsxs)(ee.Z,{className:"gap-4 items-center",children:[(0,l.jsx)(te,{}),(0,l.jsx)(e7,{}),(0,l.jsx)(tl,{}),(0,l.jsx)(e8,{className:"h-[36px]"})]})]})}function ti(e){let{target:t}=e,i=(0,c.ZP)(e=>e.isMobile),n=(0,v.ZP)(e=>e.filter[t]),o=(0,v.ZP)(e=>e.setFilter),r=(0,v.ZP)(e=>e.resetFilter),d=(0,s.useCallback)(e=>{o(t,"min",String(e||""))},[t]),m=(0,eZ.N)(d,{debouncedOptions:{delay:300}}),u=(0,s.useCallback)(e=>{o(t,"max",String(e||""))},[t]),f=(0,eZ.N)(u,{debouncedOptions:{delay:300}}),p=(0,s.useMemo)(()=>n.min&&n.max&&(0,x.gt)(n.min,n.max),[n]);return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)(G.Z,{placement:"bottom",triggerBy:i?"press":"hover",children:[(0,l.jsx)(G.Z.Button,{children:(0,l.jsx)("div",{className:(0,a.m)("rounded-full px-1 clickable justify-self-start"),children:(0,l.jsx)(W.Z,{size:"sm",heroIconName:"funnel-solid",className:n.max||n.min?"text-[#abc4ff]":"text-[#abc4ff33]"})})}),(0,l.jsx)(G.Z.Panel,{children:(0,l.jsx)("div",{children:(0,l.jsxs)(T.Z,{className:"flex flex-col py-3 px-4  max-h-[80vh] border-1.5 border-[rgba(171,196,255,0.2)] bg-cyberpunk-card-bg shadow-cyberpunk-card  items-center",size:"lg",children:[(0,l.jsxs)(H.Z,{className:"grid-cols-1 items-center gap-2",children:[(0,l.jsx)(V.Z,{className:"px-3 py-2 mobile:py-1 ring-inset ring-1 ".concat(p?"ring-[rgba(255,86,86,0.94)]":"ring-[rgba(196,214,255,0.5)]"," rounded-xl mobile:rounded-lg pc:w-[140px] mobile:w-auto"),placeholder:"0",decimalCount:2,onUserInput:m,value:n.min,prefix:"From:",prefixClassName:"mobile:text-xs text-sm font-medium text-[rgba(196,214,255,.5)] mr-1",inputClassName:"font-medium text-sm mobile:text-xs text-[rgba(196,214,255)] placeholder-[rgba(196,214,255,0.5)]"}),(0,l.jsx)(V.Z,{className:"px-3 py-2 mobile:py-1 ring-inset ring-1 ".concat(p?"ring-[rgba(255,86,86,0.94)]":"ring-[rgba(196,214,255,0.5)]"," rounded-xl mobile:rounded-lg pc:w-[140px] mobile:w-auto"),value:n.max,placeholder:"∞",decimalCount:2,onUserInput:f,prefix:"To:",prefixClassName:"mobile:text-xs text-sm font-medium text-[rgba(196,214,255,.5)] mr-1",inputClassName:"font-medium text-sm mobile:text-xs text-[rgba(196,214,255)] placeholder-[rgba(196,214,255,0.5)]"})]}),p&&(0,l.jsx)("div",{className:"text-[rgba(255,86,86,0.94)] mt-2",children:"filter value unavailable"}),(0,l.jsx)(R.Z,{size:"sm",className:"frosted-glass-teal mt-2 py-1 rounded-xl w-[140px]",onClick:()=>{r(t)},children:"Reset"})]})})})]})})}function tl(e){let{className:t}=e,i=(0,v.ZP)(e=>e.timeBasis);return(0,l.jsx)(et.Z,{className:(0,a.m)("z-20",t),candidateValues:Object.values(v.fi),localStorageKey:"ui-time-basis",defaultValue:i,prefix:"Time Basis:",onChange:e=>{v.ZP.setState({timeBasis:null!=e?e:v.fi.DAY})}})}function ts(e){let{className:t,onChange:i}=e,s=(0,v.ZP)(e=>e.timeBasis);return(0,l.jsx)(et.Z,{className:t,candidateValues:[{label:"Pool",value:"name"},{label:"Liquidity",value:"liquidity"},{label:"Volume ".concat(s),value:s===v.fi.DAY?"volume24h":s===v.fi.WEEK?"volume7d":"volume30d"},{label:"Fees ".concat(s),value:s===v.fi.DAY?"fee24h":s===v.fi.WEEK?"fee7d":"fee30d"},{label:"APR ".concat(s),value:s===v.fi.DAY?"apr24h":s===v.fi.WEEK?"apr7d":"apr30d"},{label:"Favorite",value:"favorite"}],prefix:"Sort by:",onChange:i})}function tn(e){let{className:t}=e,i=(0,c.ZP)(e=>e.isMobile),n=(0,v.ZP)(e=>e.refreshConcentrated);return(0,s.useMemo)(()=>i?(0,l.jsxs)(ee.Z,{className:(0,a.m)("items-center",t),children:[(0,l.jsx)("span",{className:"text-[rgba(196,214,255,0.5)] font-medium text-sm mobile:text-xs",children:"Refresh Pools"}),(0,l.jsx)(X.Z,{refreshKey:"clmm-pools",freshFunction:()=>{n()}})]}):(0,l.jsx)("div",{className:(0,a.m)("justify-self-end",t),children:(0,l.jsx)(X.Z,{refreshKey:"clmm-pools",freshFunction:()=>{n()}})}),[i,n])}function to(e){let{className:t}=e;return(0,l.jsxs)(ee.Z,{className:(0,a.m)("justify-self-end mobile:justify-self-auto gap-1 py-1 flex-wrap items-center opacity-100 pointer-events-auto clickable transition",t),onClick:()=>{(0,F.Eh)("/clmm/create-pool")},children:[(0,l.jsx)(W.Z,{heroIconName:"plus-circle",className:"text-[#abc4ff] mobile:text-[#abc4ff80]",size:"sm"}),(0,l.jsx)("span",{className:"text-[#abc4ff] mobile:text-[#abc4ff80] font-medium text-sm mobile:text-xs",children:"Create Concentrated Pool"})]})}function ta(){let e=(0,v.ZP)(e=>e.hydratedAmmPools),t=(0,v.ZP)(e=>e.searchText),i=(0,v.ZP)(e=>e.timeBasis),n=(0,v.ZP)(e=>e.aprCalcMode),o=(0,v.ZP)(e=>e.currentTab),a=(0,v.ZP)(e=>e.ownedPoolOnly),r=(0,v.ZP)(e=>e.poolSortConfig),d=(0,v.ZP)(e=>e.filter),m=(0,h.Z)(e=>e.owner),f=(0,c.ZP)(e=>e.isMobile),[b]=(0,v.N3)(),[g,j]=(0,s.useState)(!1),[Z,N]=(0,s.useState)(void 0),[P,y]=(0,s.useState)(!1),w=(0,s.useMemo)(()=>e.filter(e=>o!==v.u0.MY_POOLS||void 0!==e.userPositionAccount),[t,e,o]),k=(0,s.useMemo)(()=>w.filter(e=>!a||!m||(0,ef.aT)(e.creator,m)),[w,a,m]),A=(0,s.useDeferredValue)((0,s.useMemo)(()=>(0,eh.K)(k,{text:t,matchConfigs:e=>{var t,i;return[e.name,{text:e.idString,entirely:!0},{text:(0,u.ZP)(null===(t=e.base)||void 0===t?void 0:t.mint),entirely:!0},{text:(0,u.ZP)(null===(i=e.quote)||void 0===i?void 0:i.mint),entirely:!0}]}}).sort((e,l)=>{if(!t)return 0;let s=i===v.fi.DAY?"volume24h":i===v.fi.WEEK?"volume7d":"volume30d";return e[s].gt(l[s])?-1:e[s].lt(l[s])?1:0}),[k,t,i])),{sortedData:C,setConfig:S,sortConfig:B,clearSortConfig:F}=(0,eP.Z)(A,{defaultSort:{key:"defaultKey",sortCompare:[e=>null==b?void 0:b.includes(e.idString)]}});(0,eN.Z)(e=>{let{runed:t}=e;void 0!==b&&t(),null!=b&&(S({key:"init",sortCompare:[e=>null==b?void 0:b.includes(e.idString)],mode:"decrease"}),t())},[b]),(0,s.useEffect)(()=>{B&&v.ZP.setState({poolSortConfig:{...B}})},[B]),(0,eN.Z)(e=>{let{runed:t}=e;r&&(S({...r}),t())},[r]),(0,s.useEffect)(()=>{B&&"name"!==B.key&&"liquidity"!==B.key?j(B.key.includes(i.toLowerCase())):j(!0)},[B,i]);let L=(0,eZ.N)(()=>{C&&N(C)},{debouncedOptions:{delay:300}});(0,s.useEffect)(L,[C]);let I=(0,s.useMemo)(()=>{let e="24H"===i?"24h":"7D"===i?"7d":"30d";return{liquidity:"tvl",volume:"volume"+e,fees:"volumeFee"+e,apr:"totalApr"+e}},[i]),M=(0,s.useMemo)(()=>{let e=(0,eb.lw)(d,(e,t)=>!!e.max||!!e.min),t=Object.keys(e);return 0===t.length?(y(!1),Z):(y(!0),null==Z?void 0:Z.filter(e=>{let i=!0;for(let l of t){let t="apr"===l,s=t?(0,ep.hi)(d[l].max,100):d[l].max,n=t?(0,ep.hi)(d[l].min,100):d[l].min;if(!n&&!s)continue;let o=e=>(0,p.B)(e[I[l]]),a=(0,x.G)(o(e),s),c=(0,x.eg)(o(e),n);if(!(!n&&a||!s&&c||n&&s&&((0,x.gt)(n,s)||(0,x.lt)(s,n)))&&(!a||!c)){i=!1;break}}return i}))},[Z,d,I]),q=(0,s.useMemo)(()=>(0,l.jsxs)(ee.Z,{type:"grid-x",className:"mb-3 h-12 justify-between sticky -top-6 backdrop-filter z-10 backdrop-blur-md bg-[rgba(20,16,65,0.2)] mr-scrollbar rounded-xl mobile:rounded-lg gap-2 grid-cols-[auto,1.6fr,1fr,1fr,1fr,1fr,1fr,auto]",children:[(0,l.jsx)(ee.Z,{className:"group w-20 pl-10 font-medium text-[#ABC4FF] text-sm items-center cursor-pointer  clickable clickable-filter-effect no-clicable-transform-effect overflow-hidden",onClick:()=>{S({key:"favorite",sortModeQueue:["decrease","none"],sortCompare:[e=>null==b?void 0:b.includes(e.idString),e=>e.tvl]})},children:(0,l.jsx)(W.Z,{className:"ml-1 ".concat((null==B?void 0:B.key)==="favorite"&&"none"!==B.mode?"opacity-100":"opacity-0 group-hover:opacity-30"," transition"),size:"sm",iconSrc:"/icons/msic-sort-only-down.svg"})}),(0,l.jsxs)(H.Z,{className:"grid-cols-[.4fr,1.2fr] clickable clickable-filter-effect no-clicable-transform-effect",children:[(0,l.jsx)("div",{}),(0,l.jsxs)(ee.Z,{className:"font-medium text-[#ABC4FF] text-sm items-center cursor-pointer",onClick:()=>{S({key:"name",sortModeQueue:["increase","decrease","none"],sortCompare:e=>e.name})},children:["Pool",(0,l.jsx)(W.Z,{className:"ml-1",size:"sm",iconSrc:(null==B?void 0:B.key)==="name"&&"none"!==B.mode&&g?(null==B?void 0:B.mode)==="decrease"?"/icons/msic-sort-down.svg":"/icons/msic-sort-up.svg":"/icons/msic-sort.svg"})]})]}),(0,l.jsxs)(ee.Z,{className:"font-medium text-[#ABC4FF] text-sm items-center cursor-pointer clickable clickable-filter-effect no-clicable-transform-effect overflow-hidden",onClick:()=>{S({key:"liquidity",sortCompare:e=>e.tvl})},children:["Liquidity",(0,l.jsx)(W.Z,{className:"ml-1",size:"sm",iconSrc:(null==B?void 0:B.key)==="liquidity"&&"none"!==B.mode&&g?(null==B?void 0:B.mode)==="decrease"?"/icons/msic-sort-down.svg":"/icons/msic-sort-up.svg":"/icons/msic-sort.svg"}),(0,l.jsx)(ti,{target:"liquidity"})]}),(0,l.jsxs)(ee.Z,{className:"font-medium text-[#ABC4FF] text-sm items-center cursor-pointer clickable clickable-filter-effect no-clicable-transform-effect overflow-hidden",onClick:()=>{let e=i===v.fi.DAY?"volume24h":i===v.fi.WEEK?"volume7d":"volume30d";S({key:e,sortCompare:t=>t[e]})},children:["Volume ",i,(0,l.jsx)(W.Z,{className:"ml-1",size:"sm",iconSrc:((null==B?void 0:B.key)==="volume24h"||(null==B?void 0:B.key)==="volume7d"||(null==B?void 0:B.key)==="volume30d")&&"none"!==B.mode&&g?(null==B?void 0:B.mode)==="decrease"?"/icons/msic-sort-down.svg":"/icons/msic-sort-up.svg":"/icons/msic-sort.svg"}),(0,l.jsx)(ti,{target:"volume"})]}),(0,l.jsxs)(ee.Z,{className:"font-medium text-[#ABC4FF] text-sm items-center cursor-pointer clickable clickable-filter-effect no-clicable-transform-effect",onClick:()=>{let e=i===v.fi.DAY?"volumeFee24h":i===v.fi.WEEK?"volumeFee7d":"volumeFee30d";S({key:e,sortCompare:t=>t[e]})},children:["Fees ",i,(0,l.jsx)(W.Z,{className:"ml-1",size:"sm",iconSrc:((null==B?void 0:B.key)==="volumeFee24h"||(null==B?void 0:B.key)==="volumeFee7d"||(null==B?void 0:B.key)==="volumeFee30d")&&"none"!==B.mode&&g?(null==B?void 0:B.mode)==="decrease"?"/icons/msic-sort-down.svg":"/icons/msic-sort-up.svg":"/icons/msic-sort.svg"}),(0,l.jsx)(ti,{target:"fees"})]}),(0,l.jsx)(ee.Z,{className:"font-medium text-[#ABC4FF] text-sm items-center cursor-pointer clickable clickable-filter-effect no-clicable-transform-effect overflow-hidden",children:"Rewards"}),(0,l.jsxs)(ee.Z,{className:"font-medium text-[#ABC4FF] text-sm items-center cursor-pointer clickable clickable-filter-effect no-clicable-transform-effect  overflow-hidden",onClick:()=>{S({key:"24H"===i?"apr24h":"7D"===i?"apr7d":"apr30d",sortCompare:e=>e.state[i===v.fi.DAY?"day":i===v.fi.WEEK?"week":"month"].apr})},children:["APR ",i,(0,l.jsxs)(es.Z,{children:[(0,l.jsx)(W.Z,{className:"ml-1 cursor-help",size:"sm",heroIconName:"question-mark-circle"}),(0,l.jsx)(es.Z.Panel,{className:"max-w-[250px]",children:"This is the estimated APR for the whole pool. Your actual APR will vary according to the price range you select."})]}),(0,l.jsx)(W.Z,{className:"ml-1",size:"sm",iconSrc:(null==B?void 0:B.key.startsWith("apr"))&&"none"!==B.mode&&g?(null==B?void 0:B.mode)==="decrease"?"/icons/msic-sort-down.svg":"/icons/msic-sort-up.svg":"/icons/msic-sort.svg"}),(0,l.jsx)(ti,{target:"apr"})]}),(0,l.jsx)(tn,{className:"pr-8 self-center"})]}),[B,i,n,g]),R=f?(0,l.jsx)("div",{children:(0,l.jsxs)(ee.Z,{className:"mb-4",children:[(0,l.jsxs)(H.Z,{className:"grow gap-2 grid-cols-auto-fit",children:[(0,l.jsx)(e8,{}),(0,l.jsx)(ts,{onChange:e=>{e?S({key:e,sortCompare:"favorite"===e?e=>null==b?void 0:b.includes(e.idString):t=>t[e]}):F()}})]}),(0,l.jsx)(e9,{className:"self-center"})]})}):(0,l.jsx)("div",{children:(0,l.jsx)(ee.Z,{className:"w-full justify-between pb-5 items-center",children:(0,l.jsx)(tt,{className:"flex-grow",filterPoolCount:null==M?void 0:M.length,showCount:P})})});return(0,l.jsxs)(U.Z,{haveMinHeight:!0,wrapperClassName:"flex-1 overflow-hidden flex flex-col",className:"p-10 pb-4 mobile:px-3 mobile:py-3 w-full flex flex-col flex-grow h-full",children:[R,!f&&q,(0,l.jsx)(tc,{sortedItems:M,searchedItemsLength:A.length})]})}function tc(e){let{sortedItems:t,searchedItemsLength:i}=e,s=(0,v.ZP)(e=>e.loading),n=(0,v.ZP)(e=>e.expandedItemIds),[o,a]=(0,v.N3)();return s||0!==i&&(0===i||(null==t?void 0:t.length)!==0)?t&&t.length?(0,l.jsx)($.Z,{className:"gap-3 mobile:gap-2 text-[#ABC4FF] flex-1 -mx-2 px-2",children:t.map(e=>(0,l.jsx)($.Z.Item,{children:(0,l.jsxs)(O.Z,{open:n.has(e.idString),onToggle:()=>v.ZP.setState(t=>({expandedItemIds:(0,ev.h)(t.expandedItemIds,e.idString)})),children:[(0,l.jsx)(O.Z.Face,{children:t=>{let{isOpen:i}=t;return(0,l.jsx)(tr,{open:i,info:e,isFavourite:null==o?void 0:o.includes(e.idString),onUnFavorite:e=>{a(t=>(0,k.cl)(null!=t?t:[],e))},onStartFavorite:e=>{a(t=>(0,k.jX)(null!=t?t:[],e))}})}}),(0,l.jsx)(O.Z.Body,{children:(0,l.jsx)(tu,{poolInfo:e})})]})},e.idString))}):(0,l.jsx)("div",{className:"text-center text-2xl p-12 opacity-50 text-[rgb(171,196,255)]",children:(0,l.jsx)(Q.Z,{})}):(0,l.jsx)("div",{className:"text-center text-2xl p-12 opacity-50 text-[rgb(171,196,255)]",children:"(No results found)"})}function tr(e){let{open:t,info:i,isFavourite:n,onUnFavorite:o,onStartFavorite:r}=e,m=(0,c.ZP)(e=>e.isMobile),x=(0,c.ZP)(e=>e.isTablet),f=(0,v.ZP)(e=>e.timeBasis),b=(0,L.ZP)(e=>e.tokenListSettings),h=b["UnNamed Token List"].mints,{lpPrices:g}=(0,B.O)(),j=(0,L.ZP)(e=>e.tokenPrices),Z=(0,s.useMemo)(()=>({...g,...j}),[g,j]),N=(0,s.useMemo)(()=>{let e=i.rewardInfos.filter(e=>e.endTime>new Date().getTime()-864e6).map((e,t)=>{var s,n,o,a;let c=(0,eo.tD)(e.endTime),r=(0,eo.ZM)(e.openTime),d=(0,eo.tD)(e.openTime-864e5);return(0,l.jsxs)(es.Z,{children:[(0,l.jsx)(td,{rewardInfo:e}),(0,l.jsx)(es.Z.Panel,{children:(0,l.jsxs)("div",{children:[(0,l.jsxs)(ee.Z,{className:"text-sm justify-between items-center min-w-[260px] gap-4",children:[(0,l.jsxs)(ee.Z,{className:"gap-1.5 items-center",children:[(0,l.jsx)(E.Z,{size:m?"xs":"smi",token:e.rewardToken}),c?null:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("span",{className:"text-white",children:(0,ed.Z)((0,p.B)(e.rewardPerWeek))}),(0,l.jsxs)("span",{className:"text-[#ABC4FF]",children:[null!==(o=null===(s=e.rewardToken)||void 0===s?void 0:s.symbol)&&void 0!==o?o:"--"," per week"]})]})]}),c?null:(0,l.jsx)("span",{className:"text-white/50",children:(0,ex.Z)((0,eu.Z)(e.rewardPerWeek,null!==(a=Z[(0,u.ZP)(null===(n=e.rewardToken)||void 0===n?void 0:n.mint)])&&void 0!==a?a:null),{decimalPlace:0})})]}),(0,l.jsx)("div",{className:"mb-1 mt-1",children:e.openTime&&e.endTime&&(c?"Reward Ended":r?"Reward Not Started":"Reward Period")}),e.openTime&&r&&d&&(0,l.jsxs)("div",{className:"opacity-50",children:["Start in ",(0,ea.dS)((0,en._3)(e.openTime))]}),e.openTime&&e.endTime&&(0,l.jsxs)("div",{className:"opacity-50",children:[(0,en.xn)(e.openTime,{hideHourMinuteSecond:!0})," ~"," ",(0,en.xn)(e.endTime,{hideHourMinuteSecond:!0})]}),e.tokenMint&&(0,l.jsx)(I.U,{showDigitCount:6,addressType:"token",canCopy:!0,canExternalLink:!0,textClassName:"text-xs",className:"w-full opacity-50 mt-2 contrast-75",children:(0,u.ZP)(e.tokenMint)}),(null==h?void 0:h.has((0,u.ZP)(e.tokenMint)))&&(0,l.jsx)("div",{className:"max-w-[300px] mt-2",children:"This token does not currently have a ticker symbol. Check to ensure it is the token you want to interact with."})]},"".concat(i.idString,"-reward-detail-content-id-").concat(t))})]},"".concat(i.idString,"-reward-badge-id-").concat(t))});return(0,l.jsx)("div",{className:(0,a.m)("flex flex-wrap justify-start items-center gap-2",0===e.length?"h-4":""),children:e})},[i.idString,i.rewardInfos,m,Z]),P=(0,d.w)(i)?f===v.fi.DAY?{total:i.totalApr24h,itemList:[i.feeApr24h,...i.rewardApr24h]}:f===v.fi.WEEK?{total:i.totalApr7d,itemList:[i.feeApr7d,...i.rewardApr7d]}:{total:i.totalApr30d,itemList:[i.feeApr30d,...i.rewardApr30d]}:void 0,y=(0,l.jsxs)(ee.Z,{type:"grid-x",className:"py-5 mobile:py-4 mobile:px-5 bg-[#141041] items-center gap-2 grid-cols-[auto,1.6fr,1fr,1fr,1fr,1fr,1fr,auto] mobile:grid-cols-[1fr,1fr,1fr,auto] rounded-t-3xl mobile:rounded-t-lg ".concat(t?"":"rounded-b-3xl mobile:rounded-b-lg"," transition-all"),children:[(0,l.jsx)("div",{className:"w-12 self-center ml-6 mr-2",children:n?(0,l.jsx)(W.Z,{iconSrc:"/icons/misc-star-filled.svg",onClick:e=>{let{ev:t}=e;t.stopPropagation(),null==o||o(i.idString)},className:"clickable clickable-mask-offset-2 m-auto self-center"}):(0,l.jsx)(W.Z,{iconSrc:"/icons/misc-star-empty.svg",onClick:e=>{let{ev:t}=e;t.stopPropagation(),null==r||r(i.idString)},className:"clickable clickable-mask-offset-2 opacity-30 hover:opacity-80 transition m-auto self-center"})}),(0,l.jsx)(tb,{info:i,className:"pl-0 overflow-hidden"}),(0,l.jsx)(th,{name:"Liquidity",value:(0,d.w)(i)?(0,ex.Z)(i.tvl,{autoSuffix:x,decimalPlace:0}):void 0}),(0,l.jsx)(th,{name:"Volume(".concat(f,")"),value:(0,d.w)(i)?f===v.fi.DAY?(0,ex.Z)(i.volume24h,{autoSuffix:x,decimalPlace:0}):f===v.fi.WEEK?(0,ex.Z)(i.volume7d,{autoSuffix:x,decimalPlace:0}):(0,ex.Z)(i.volume30d,{autoSuffix:x,decimalPlace:0}):void 0}),(0,l.jsx)(th,{name:"Fees(".concat(f,")"),value:(0,d.w)(i)?f===v.fi.DAY?(0,ex.Z)(i.volumeFee24h,{autoSuffix:x,decimalPlace:0}):f===v.fi.WEEK?(0,ex.Z)(i.volumeFee7d,{autoSuffix:x,decimalPlace:0}):(0,ex.Z)(i.volumeFee30d,{autoSuffix:x,decimalPlace:0}):void 0}),(0,l.jsx)(th,{name:"Rewards",value:N}),(0,l.jsx)(th,{className:"overflow-hidden",name:"APR(".concat(f,")"),value:(0,l.jsx)("div",{style:{display:"inline-block",width:"100%"},children:(0,l.jsxs)(es.Z,{panelClassName:"p-0 rounded-xl",children:[(0,l.jsxs)("div",{children:[(0,er.Q)(null==P?void 0:P.total),(0,l.jsx)(ee.Z,{className:"items-center gap-2 mobile:gap-1 mt-1",children:(0,l.jsx)(tm,{className:"w-[80%]",aprValues:null==P?void 0:P.itemList,forceShow:!0})})]}),(0,l.jsx)(es.Z.Panel,{children:(0,l.jsx)("div",{className:"p-5",children:(0,l.jsx)(ey.E,{type:"poolInfo",poolInfo:i})})})]})})}),(0,l.jsx)(H.Z,{className:"w-9 h-9 mr-8 place-items-center",children:(0,l.jsx)(W.Z,{size:"sm",heroIconName:"".concat(t?"chevron-up":"chevron-down")})})]}),w=(0,l.jsxs)(O.Z,{open:t,children:[(0,l.jsx)(O.Z.Face,{children:(0,l.jsxs)(ee.Z,{type:"grid-x",className:"py-3 px-3 items-center gap-2 grid-cols-[auto,1.5fr,1fr,1fr,auto] bg-[#141041] mobile:rounded-t-lg ".concat(t?"":"rounded-b-3xl mobile:rounded-b-lg"),children:[(0,l.jsx)("div",{className:"w-8 self-center ",children:n?(0,l.jsx)(W.Z,{className:"clickable m-auto self-center",iconSrc:"/icons/misc-star-filled.svg",onClick:e=>{let{ev:t}=e;t.stopPropagation(),null==o||o(i.idString)},size:"sm"}):(0,l.jsx)(W.Z,{className:"clickable opacity-30 hover:opacity-80 transition clickable-mask-offset-2 m-auto self-center",iconSrc:"/icons/misc-star-empty.svg",onClick:e=>{let{ev:t}=e;t.stopPropagation(),null==r||r(i.idString)},size:"sm"})}),(0,l.jsx)(tb,{info:i}),(0,l.jsx)(th,{name:"Liquidity",value:(0,d.w)(i)?(0,ex.Z)(i.tvl,{autoSuffix:!0,decimalPlace:1}):void 0}),(0,l.jsx)(th,{name:"Rewards",value:N}),(0,l.jsx)(th,{name:"APR(".concat(f,")"),value:(0,em.Z)(null==P?void 0:P.total)}),(0,l.jsx)(H.Z,{className:"w-6 h-6 place-items-center",children:(0,l.jsx)(W.Z,{size:"sm",heroIconName:"".concat(t?"chevron-up":"chevron-down")})})]})}),(0,l.jsx)(O.Z.Body,{children:(0,l.jsxs)(ee.Z,{type:"grid-x",className:"py-4 px-5 pl-12 relative items-center gap-2 grid-cols-[1.5fr,1fr,1fr,auto]  bg-[#141041]",children:[(0,l.jsx)("div",{className:"absolute top-0 left-5 right-5 border-[rgba(171,196,255,.2)] border-t-1.5"}),(0,l.jsx)(th,{name:"Volume(7d)",value:(0,d.w)(i)?(0,ex.Z)(i.volume7d,{autoSuffix:!0,decimalPlace:0}):void 0}),(0,l.jsx)(th,{name:"Volume(24h)",value:(0,d.w)(i)?(0,ex.Z)(i.volume24h,{autoSuffix:!0,decimalPlace:0}):void 0}),(0,l.jsx)(th,{name:"Fees(7d)",value:(0,d.w)(i)?(0,ex.Z)(i.volumeFee7d,{autoSuffix:!0,decimalPlace:0}):void 0}),(0,l.jsx)(H.Z,{className:"w-6 h-6 place-items-center"})]})})]});return m?w:y}function td(e){let{rewardInfo:t,size:i}=e,s=(0,c.ZP)(e=>e.isMobile),n=(0,eo.tD)(t.endTime),o=(0,eo.ZM)(t.openTime);return(0,l.jsx)(ee.Z,{className:"ring-1 ring-inset ring-[#abc4ff80] p-1 mobile:p-[1px] rounded-full items-center gap-2 overflow-hidden ".concat(n?"opacity-30 contrast-40":o?"opacity-50":""," "),children:(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)(E.Z,{size:null!=i?i:s?"xs":"smi",token:t.rewardToken,className:o?"blur-sm":""}),n&&(0,l.jsx)("div",{className:"absolute h-[1.5px] w-full top-1/2 -translate-y-1/2 rotate-45 bg-[#abc4ff80] scale-x-125"}),o&&(0,l.jsx)("div",{className:"absolute top-1/2 -translate-y-1/2 opacity-70",children:(0,l.jsx)(W.Z,{heroIconName:"dots-horizontal",size:s?"sm":"md"})})]})})}function tm(e){let{className:t,aprValues:i,forceShow:n=!1}=e,o=["#abc4ff","#39d0d8","#2b6aff"];if(!i&&!n)return null;let c=i?i.reduce((e,t)=>(0,ep.IH)(e,t),0):1,r=(0,s.useMemo)(()=>{if(!i)return!1;for(let e of i)if(!(0,x.eq)(e,0))return!1;return!0},[i]);return(0,l.jsx)(ee.Z,{className:(0,a.m)("w-full gap-1",t),children:i?r?(0,l.jsx)("div",{className:"h-2 rounded-full",style:{width:"100%",backgroundColor:"#abc4ff33"}}):i.map((e,t)=>(0,x.$u)(e)?(0,l.jsx)("div",{className:"h-2 rounded-full",style:{width:(0,em.Z)((0,ep.hi)(e,c)),backgroundColor:o[t]}},t):null):null})}function tu(e){let{poolInfo:t}=e,i=(0,h.Z)(e=>e.owner),{lpPrices:n}=(0,B.O)(),a=(0,L.ZP)(e=>e.tokenPrices),r=(0,s.useMemo)(()=>({...n,...a}),[n,a]),d=(0,c.ZP)(e=>e.isMobile),m=(0,s.useMemo)(()=>{let e=t.rewardInfos.length>0;return(0,l.jsxs)(D.Z,{className:"py-5 px-8 mobile:py-2 justify-center rounded-b-3xl mobile:rounded-b-lg items-center",children:[(0,l.jsx)("div",{className:"mb-3 text-xs",children:t.creator.equals(null!=i?i:o.nh.default)?"You created this pool. You can create a farm, or create a new position":"Want to open a new position?"}),(0,l.jsxs)(ee.Z,{className:"justify-center items-center gap-2",children:[!e&&t.creator.equals(null!=i?i:o.nh.default)&&(0,l.jsx)(R.Z,{className:"frosted-glass-teal mobile:px-6 mobile:py-2 mobile:text-xs",onClick:()=>{v.ZP.setState({coin1:t.base,coin2:t.quote,chartPoints:[],lazyLoadChart:!0,currentAmmPool:t}),(0,F.Eh)("/clmm/edit-farm",{queryProps:{farmId:t.idString}})},children:"Create Farm"}),(0,l.jsx)(R.Z,{className:"frosted-glass-teal mobile:px-6 mobile:py-2 mobile:text-xs",onClick:()=>{v.ZP.setState({coin1:t.base,coin2:t.quote,chartPoints:[],lazyLoadChart:!0,currentAmmPool:t}),(0,F.Eh)("/clmm/create-position")},children:"Create Position"}),(0,l.jsxs)(es.Z,{children:[(0,l.jsx)(W.Z,{size:"sm",iconSrc:"/icons/msic-swap-h.svg",className:"grid place-items-center w-10 h-10 mobile:w-8 mobile:h-8 ring-inset ring-1 mobile:ring-1 ring-[rgba(171,196,255,.5)] rounded-xl mobile:rounded-lg text-[rgba(171,196,255,.5)] clickable clickable-filter-effect",onClick:()=>{(0,F.Eh)("/swap",{queryProps:{coin1:t.base,coin2:t.quote}})}}),(0,l.jsx)(es.Z.Panel,{children:"Swap"})]})]})]})},[t,d]),x=(0,s.useMemo)(()=>(0,l.jsxs)(D.Z,{className:"w-full pl-8 pt-5 pb-5 mobile:py-2 mobile:px-2",children:[(0,l.jsxs)(ee.Z,{className:"items-center gap-2 mb-5 mobile:mb-2",children:[(0,l.jsx)(W.Z,{size:d?"xs":"sm",iconSrc:"/icons/entry-icon-farms.svg",className:"opacity-75"}),(0,l.jsx)("div",{className:"font-medium text-sm mobile:text-xs text-[#abc4ff80]",children:"Linked Farm"})]}),(0,l.jsxs)(M.Z,{is:d?"Col":"Row",className:"w-full justify-between items-center",children:[(0,l.jsxs)(M.Z,{is:d?"Col":"Row",className:"".concat(d?"":"flex justify-between","  mobile:w-full ring-inset ring-1 ring-[rgba(196,214,255,0.5)] rounded-3xl mobile:rounded-lg p-6 mobile:p-3 items-center"),style:1===t.rewardInfos.length?{minWidth:"calc((100% - 124px - 32px - 4px) / 2)"}:{width:"100%"},children:[(0,l.jsxs)("div",{style:{width:"".concat(d?"100%":"default")},children:[(0,l.jsx)(ee.Z,{className:"font-medium text-sm mobile:text-xs text-[#abc4ff80] mb-2 mobile:w-full",children:"Weekly Rate"}),(0,l.jsx)(ee.Z,{className:"flex-wrap gap-8 mobile:gap-3",children:t.rewardInfos.map(e=>{var t,i;let s=(0,eo.tD)(e.endTime);return(0,l.jsxs)(D.Z,{className:"gap-1 mobile:gap-0.5 mobile:w-full mobile:items-center",children:[(0,l.jsxs)(ee.Z,{className:"items-center gap-2",children:[(0,l.jsx)(td,{rewardInfo:e,size:d?"xs":"sm"}),(0,l.jsxs)(ee.Z,{className:"items-center gap-1",children:[(0,l.jsx)("div",{className:"font-medium mobile:text-sm text-white",children:s?"--":(0,ed.Z)(e.rewardPerWeek,{fractionLength:0})}),(0,l.jsx)("div",{className:"font-medium mobile:text-sm text-[#abc4ff80]",children:null!==(i=null===(t=e.rewardToken)||void 0===t?void 0:t.symbol)&&void 0!==i?i:"--"}),s&&(0,l.jsx)(q.C,{className:"ml-1",cssColor:"#DA2EEF",children:"Ended"})]})]}),(0,l.jsxs)("div",{className:"font-medium text-sm mobile:text-xs text-[#abc4ff80]",children:[(0,en.xn)(e.openTime,{hideUTCBadge:!0,hideHourMinuteSecond:!0})," -"," ",(0,en.xn)(e.endTime,{hideUTCBadge:!0,hideHourMinuteSecond:!0})]})]},(0,u.ZP)(e.tokenMint))})})]}),(0,l.jsx)(R.Z,{className:"frosted-glass-teal mobile:px-6 mobile:py-2 mobile:text-xs mobile:mt-3",onClick:()=>{v.ZP.setState({coin1:t.base,coin2:t.quote,chartPoints:[],lazyLoadChart:!0,currentAmmPool:t}),(0,F.Eh)("/clmm/edit-farm",{queryProps:{farmId:t.idString}})},children:"Edit Farm"})]}),m]})]}),[m,d,t]);return(0,l.jsxs)(M.Z,{is:"Col",className:"justify-between rounded-b-3xl mobile:rounded-b-lg",style:{background:"linear-gradient(126.6deg, rgba(171, 196, 255, 0.12), rgb(171 196 255 / 4%) 100%)"},children:[t.userPositionAccount&&(0,l.jsx)(l.Fragment,{children:t.userPositionAccount.sort((e,t)=>{var i,l;return Number((0,p.B)((0,ep.lu)(null===(i=e.getLiquidityVolume)||void 0===i?void 0:i.call(e,a).wholeLiquidity,null===(l=t.getLiquidityVolume)||void 0===l?void 0:l.call(t,a).wholeLiquidity)))}).map(e=>{var i,s,n,o,c,d,m,x,f,b,h,v,g,j;let Z="--",N=(0,p.B)(e.amountA,{decimalLength:"auto 5"}),P=(0,p.B)(e.amountB,{decimalLength:"auto 5"}),y=(0,p.B)(e.priceLower,{decimalLength:"auto ".concat(null!==(x=null===(i=e.tokenB)||void 0===i?void 0:i.decimals)&&void 0!==x?x:5)}),w=(0,p.B)(e.priceUpper,{decimalLength:"auto ".concat(null!==(f=null===(s=e.tokenB)||void 0===s?void 0:s.decimals)&&void 0!==f?f:5)});y&&w&&(Z=y+" - "+w);let k=(0,eu.Z)(e.amountA,null!==(b=r[(0,u.ZP)(null===(n=e.tokenA)||void 0===n?void 0:n.mint)])&&void 0!==b?b:null),A=(0,eu.Z)(e.amountB,null!==(h=r[(0,u.ZP)(null===(o=e.tokenB)||void 0===o?void 0:o.mint)])&&void 0!==h?h:null),{wholeLiquidity:C}=null!==(v=null===(c=e.getLiquidityVolume)||void 0===c?void 0:c.call(e,a))&&void 0!==v?v:{},S=(0,eu.Z)(e.tokenFeeAmountA,null!==(g=r[(0,u.ZP)(null===(d=e.tokenA)||void 0===d?void 0:d.mint)])&&void 0!==g?g:null),B=(0,eu.Z)(e.tokenFeeAmountB,null!==(j=r[(0,u.ZP)(null===(m=e.tokenB)||void 0===m?void 0:m.mint)])&&void 0!==j?j:null),F=S.add(B);F&&(0,ex.Z)(F);let L=new Map;return e.rewardInfos.forEach(e=>{if(e.token){var t;L.set(e.token,(0,eu.Z)(e.penddingReward,null!==(t=r[(0,u.ZP)(e.token.mint)])&&void 0!==t?t:null))}}),(0,l.jsx)(tx,{poolInfo:t,userPositionAccount:e,myPosition:Z,amountA:N,amountB:P,myPositionVolume:(0,ex.Z)(C),coinAPrice:k,coinBPrice:A,inRange:e.inRange,rewardAPrice:S,rewardBPrice:B,rewardInfoPrice:L},e.nftMint.toString())})}),t.rewardInfos.length>0&&i&&t.rewardInfos.find(e=>e.creator.equals(i))?(0,l.jsx)(M.Z,{is:d?"Col":"Row",children:x}):(0,l.jsx)(M.Z,{children:m})]})}function tx(e){var t,i,n,r,d,m;let{poolInfo:x,userPositionAccount:f,myPosition:b,amountA:g,amountB:Z,myPositionVolume:y,coinAPrice:w,coinBPrice:k,inRange:A,rewardAPrice:C,rewardBPrice:S,rewardInfoPrice:B}=e,L=(0,c.ZP)(e=>e.isMobile),I=(0,c.ZP)(e=>e.isApprovePanelShown),{pendingTotalVolume:q,isHarvestable:T}=ej(f),E=(0,v.ZP)(e=>e.refreshConcentrated),z=(0,N.Z)(e=>e.logInfo),O=(0,h.Z)(e=>e.connected),U=(null==f?void 0:null===(t=f.amountA)||void 0===t?void 0:t.isZero())&&(null==f?void 0:null===(i=f.amountB)||void 0===i?void 0:i.isZero()),V=(0,s.useMemo)(()=>{if(x&&f){var e;return null===(e=x.positionAccount)||void 0===e?void 0:e.find(e=>(0,u.ZP)(e.nftMint)===(0,u.ZP)(e.nftMint))}},[x,f]),H=(0,s.useMemo)(()=>{var e,t;let i="bg-[#142B45]",s="text-[#39D0D8]",n="/icons/check-circle.svg",o="In Range";return A||(i="bg-[#DA2EEF]/10",s="text-[#DA2EEF]",n="/icons/warn-stick.svg",o="Out of Range"),(0,l.jsxs)(es.Z,{darkGradient:!0,panelClassName:"p-0 rounded-xl",children:[(0,l.jsxs)(ee.Z,{className:(0,a.m)("items-center rounded text-xs mobile:text-2xs py-0.5 px-1 ml-2",i,s),children:[(0,l.jsx)(W.Z,{size:"xs",iconSrc:n}),(0,l.jsx)("div",{className:"font-normal",style:{marginLeft:4},children:o})]}),(0,l.jsx)(es.Z.Panel,{children:(0,l.jsxs)("div",{className:"max-w-[300px] py-3 px-5",children:[(0,l.jsx)("div",{className:"font-medium text-[#ABC4FF] text-2xs",children:"Current Price"}),(0,l.jsxs)(ee.Z,{className:"gap-5  mt-1",children:[(0,l.jsx)("div",{className:"text-xs text-white",children:(0,p.B)(x.currentPrice,{decimalLength:"auto 5"})}),(0,l.jsxs)("div",{className:"text-[#ABC4FF] text-xs",children:[null===(e=x.quote)||void 0===e?void 0:e.symbol," per ",null===(t=x.base)||void 0===t?void 0:t.symbol]})]})]})})]})},[A,x.currentPrice,null===(n=x.base)||void 0===n?void 0:n.symbol,null===(r=x.quote)||void 0===r?void 0:r.symbol]);return(0,l.jsx)(M.Z,{is:L?"Col":"Row",children:(0,l.jsx)(ee.Z,{className:"w-full pt-5 px-8 mobile:py-3 mobile:px-2 mobile:m-0",children:(0,l.jsxs)("div",{className:"flex w-full pb-5 ".concat(L?"flex-col":"flex-row"),style:{borderBottom:"1px solid rgba(171, 196, 255, .1)"},children:[(0,l.jsxs)(M.Z,{is:L?"Col":"Row",className:"gap-[8px] mobile:gap-3 mobile:grid-cols-2-auto flex-grow justify-between",children:[(0,l.jsxs)(M.Z,{is:L?"div":"Row",className:"".concat(L?"flex-auto justify-between":"grid grid-cols-5"," w-1/2 mobile:w-full ring-inset ring-1 ring-[rgba(196,214,255,0.5)] rounded-3xl mobile:rounded-lg p-6 mobile:p-3  items-center"),children:[(0,l.jsxs)(D.Z,{className:"".concat(L?"":"col-span-2"," mobile:mb-2 mobile:pb-2"),style:{borderBottom:L?"1px solid rgba(171, 196, 255, .1)":"none"},children:[(0,l.jsxs)("div",{className:"flex justify-start mobile:justify-between text-[rgba(171,196,255,0.5)] font-medium text-sm mobile:text-xs",children:["Price Range ",f?H:null]}),(0,l.jsx)("div",{className:"text-white font-medium text-base mobile:text-sm mt-3 mobile:mt-1",children:null!=b?b:"--"}),(0,l.jsxs)("div",{className:" text-[rgba(171,196,255,0.5)] font-medium text-sm mobile:text-2xs mt-2 mobile:mt-1",children:[null===(d=x.quote)||void 0===d?void 0:d.symbol," per ",null===(m=x.base)||void 0===m?void 0:m.symbol]})]}),(0,l.jsxs)(D.Z,{className:"".concat(L?"":"col-span-2"),children:[(0,l.jsxs)("div",{className:"flex justify-start items-center text-[rgba(171,196,255,0.5)] font-medium text-sm mobile:text-xs gap-1",children:["My Position",f?(0,l.jsxs)(es.Z,{darkGradient:!0,panelClassName:"p-0 rounded-xl",children:[(0,l.jsx)(W.Z,{className:" cursor-help",size:"sm",heroIconName:"question-mark-circle"}),(0,l.jsx)(es.Z.Panel,{children:(0,l.jsxs)("div",{className:"max-w-[300px] py-3 px-5",children:[x.base&&(0,l.jsx)(tp,{token:x.base,tokenAmount:g,tokenPrice:w}),x.quote&&(0,l.jsx)(tp,{token:x.quote,tokenAmount:Z,tokenPrice:k})]})})]}):null]}),(0,l.jsx)("div",{className:"text-white font-medium text-base mobile:text-sm mt-3 mobile:mt-1",children:null!=y?y:"--"}),(0,l.jsx)(ee.Z,{className:"items-center gap-1 text-[rgba(171,196,255,0.5)] font-medium text-sm mobile:text-2xs mt-2 mobile:mt-1",children:f?(0,l.jsxs)(l.Fragment,{children:[" ",function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5;if(e)return e instanceof o.nh&&(e=(0,u.ZP)(e)),e.substring(0,t)+"..."+e.substring(e.length-i,e.length)}(null==f?void 0:f.nftMint,6)," ",(0,l.jsx)(W.Z,{size:"sm",className:"clickable text-[rgba(171,196,255,1)] font-semibold",heroIconName:"clipboard-copy",onClick:e=>{let{ev:t}=e;t.stopPropagation(),(0,ec.Z)((0,u.ZP)(null==f?void 0:f.nftMint)),z("Account has been copied!")}}),(0,l.jsx)(_.Z,{className:"flex items-center",hrefDetail:"".concat(null==f?void 0:f.nftMint),type:"account",children:(0,l.jsx)(W.Z,{size:"sm",className:"clickable text-[rgba(171,196,255,1)] font-semibold",inline:!0,heroIconName:"external-link"})})]}):(0,l.jsx)(l.Fragment,{children:"\xa0"})})]}),(0,l.jsx)(M.Z,{is:L?"Row":"Col",className:L?"flex justify-center items-center pt-3":"col-span-1",children:(0,l.jsx)("div",{className:"flex justify-end shrink",children:(0,l.jsx)(R.Z,{className:"frosted-glass-teal",size:L?"xs":void 0,disabled:!f,validators:[{should:O,forceActive:!0,fallbackProps:{onClick:()=>c.ZP.setState({isWalletSelectorShown:!0}),children:"Connect Wallet"}},{should:f,forceActive:!0,fallbackProps:{onClick:()=>{v.ZP.setState({coin1:x.base,coin2:x.quote,currentAmmPool:x}),(0,F.Eh)("/clmm/create-position",{queryProps:{}})},children:"Create Position"}}],onClick:()=>{v.ZP.setState({isMyPositionDialogOpen:!0,currentAmmPool:x,targetUserPositionAccount:f,coin1:x.base,coin2:x.quote})},children:"Manage"})})})]}),(0,l.jsxs)(M.Z,{is:L?"div":"Row",className:"flex-auto w-1/2 mobile:w-full justify-between ring-inset ring-1 ring-[rgba(196,214,255,0.5)] rounded-3xl mobile:rounded-lg p-6 mobile:p-3  items-center",children:[(0,l.jsxs)(D.Z,{children:[(0,l.jsxs)("div",{className:"flex justify-start items-center text-[rgba(171,196,255,0.5)] font-medium text-sm mobile:text-xs gap-1",children:["Pending Yield",f?(0,l.jsxs)(es.Z,{darkGradient:!0,panelClassName:"p-0 rounded-xl",children:[(0,l.jsx)(W.Z,{className:"cursor-help",size:"sm",heroIconName:"question-mark-circle"}),(0,l.jsx)(es.Z.Panel,{children:(0,l.jsxs)("div",{className:"min-w-[250px] py-[6px] px-5",children:[f.tokenFeeAmountA||f.tokenFeeAmountB?(0,l.jsx)("div",{className:"pt-3 pb-1",children:"Fees"}):null,x.base&&(0,l.jsx)(tp,{token:x.base,tokenAmount:(0,p.B)(f.tokenFeeAmountA,{decimalLength:"auto 5"}),tokenPrice:C,suffix:""}),x.quote&&(0,l.jsx)(tp,{token:x.quote,tokenAmount:(0,p.B)(f.tokenFeeAmountB,{decimalLength:"auto 5"}),tokenPrice:S,suffix:""}),f.rewardInfos.length>0?(0,l.jsx)("div",{className:"pt-3 pb-1",children:"Rewards"}):null,f.rewardInfos&&f.rewardInfos.map((e,t)=>{var i;return(0,l.jsx)(tp,{token:e.token,tokenAmount:(0,p.B)(e.penddingReward,{decimalLength:"auto 5"}),tokenPrice:e.token&&(null==B?void 0:B.get(e.token)),suffix:""},"personal-rewardInfo-reward-".concat(t,"-").concat((0,u.ZP)(null===(i=e.token)||void 0===i?void 0:i.mint)))})]})})]}):null]}),(0,l.jsxs)("div",{className:"text-white font-medium text-base mobile:text-sm mt-3 mobile:mt-1",children:["≈",(0,ex.Z)(q)]}),f&&(0,l.jsx)(tf,{poolInfo:x,positionInfo:f})]}),(0,l.jsx)(M.Z,{is:L?"Row":"Col",className:L?"flex justify-center items-center pt-3":"",children:(0,l.jsx)(R.Z,{className:"frosted-glass-teal ",size:L?"xs":void 0,isLoading:I,validators:[{should:O,forceActive:!0,fallbackProps:{onClick:()=>c.ZP.setState({isWalletSelectorShown:!0}),children:"Connect Wallet"}},{should:T}],onClick:()=>P({currentAmmPool:x,targetUserPositionAccount:f}).then(e=>{let{allSuccess:t}=e;t&&E()}),children:"Harvest"})})]})]}),(0,l.jsx)(ee.Z,{className:"pl-8 ".concat(L?"pr-8 pt-5":"","   gap-3 items-center self-center justify-center mobile:w-full"),children:L?(0,l.jsxs)(ee.Z,{className:"gap-5 mobile:gap-4",children:[(0,l.jsx)(W.Z,{size:"sm",heroIconName:"plus",className:"grid place-items-center w-10 h-10 mobile:w-8 mobile:h-8 ring-inset ring-1 mobile:ring-1 ring-[rgba(171,196,255,.5)] rounded-xl mobile:rounded-lg text-[rgba(171,196,255,.5)] opacity-100 clickable clickable-filter-effect ".concat(f?"opacity-100 clickable clickable-filter-effect":"opacity-50 not-clickable"),onClick:()=>{v.ZP.setState({isAddDialogOpen:!0,currentAmmPool:x,targetUserPositionAccount:f})}}),U?(0,l.jsx)(W.Z,{size:"sm",heroIconName:"x",className:"grid place-items-center w-10 h-10 mobile:w-8 mobile:h-8 ring-inset ring-1 mobile:ring-1 ring-[rgba(171,196,255,.5)] rounded-xl mobile:rounded-lg text-[rgba(171,196,255,.5)] ".concat(f?"opacity-100 clickable clickable-filter-effect":"opacity-50 not-clickable"),onClick:()=>{v.ZP.setState({liquidity:null==V?void 0:V.liquidity,currentAmmPool:x,targetUserPositionAccount:f}),setTimeout(()=>{j({closePosition:!0}).then(e=>{let{allSuccess:t}=e;t&&(E(),v.ZP.setState({coin1Amount:void 0,coin2Amount:void 0}))})},10)}}):(0,l.jsx)(W.Z,{size:"sm",iconSrc:"/icons/pools-remove-liquidity-entry.svg",className:"grid place-items-center w-10 h-10 mobile:w-8 mobile:h-8 ring-inset ring-1 mobile:ring-1 ring-[rgba(171,196,255,.5)] rounded-xl mobile:rounded-lg text-[rgba(171,196,255,.5)] ".concat(f?"opacity-100 clickable clickable-filter-effect":"opacity-50 not-clickable"),onClick:()=>{v.ZP.setState({isRemoveDialogOpen:!0,currentAmmPool:x,targetUserPositionAccount:f})}})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(es.Z,{children:[(0,l.jsx)(W.Z,{size:"smi",heroIconName:"plus",className:"grid place-items-center w-10 h-10 mobile:w-8 mobile:h-8 ring-inset ring-1 mobile:ring-1 ring-[rgba(171,196,255,.5)] rounded-xl mobile:rounded-lg text-[rgba(171,196,255,.5)] opacity-100 clickable clickable-filter-effect ".concat(f?"opacity-100 clickable clickable-filter-effect":"opacity-50 not-clickable"),onClick:()=>{v.ZP.setState({isAddDialogOpen:!0,currentAmmPool:x,targetUserPositionAccount:f})}}),(0,l.jsx)(es.Z.Panel,{children:"Add Liquidity"})]}),U?(0,l.jsxs)(es.Z,{children:[(0,l.jsx)(W.Z,{size:"smi",heroIconName:"x",className:"grid place-items-center w-10 h-10 mobile:w-8 mobile:h-8 ring-inset ring-1 mobile:ring-1 ring-[rgba(171,196,255,.5)] rounded-xl mobile:rounded-lg text-[rgba(171,196,255,.5)] ".concat(f?"opacity-100 clickable clickable-filter-effect":"opacity-50 not-clickable"),onClick:()=>{v.ZP.setState({liquidity:null==V?void 0:V.liquidity,currentAmmPool:x,targetUserPositionAccount:f}),setTimeout(()=>{j({closePosition:!0}).then(e=>{let{allSuccess:t}=e;t&&(E(),v.ZP.setState({coin1Amount:void 0,coin2Amount:void 0}))})},10)}}),(0,l.jsx)(es.Z.Panel,{children:"Close Position"})]}):(0,l.jsxs)(es.Z,{children:[(0,l.jsx)(W.Z,{size:"smi",iconSrc:"/icons/pools-remove-liquidity-entry.svg",className:"grid place-items-center w-10 h-10 mobile:w-8 mobile:h-8 ring-inset ring-1 mobile:ring-1 ring-[rgba(171,196,255,.5)] rounded-xl mobile:rounded-lg text-[rgba(171,196,255,.5)] ".concat(f?"opacity-100 clickable clickable-filter-effect":"opacity-50 not-clickable"),onClick:()=>{v.ZP.setState({isRemoveDialogOpen:!0,currentAmmPool:x,targetUserPositionAccount:f})}}),(0,l.jsx)(es.Z.Panel,{children:"Remove Liquidity"})]})]})})]})})})}function tf(e){let{poolInfo:t,positionInfo:i}=e,n=(0,v.ZP)(e=>e.timeBasis),o=(0,L.ZP)(e=>e.tokenPrices),a=(0,L.ZP)(e=>e.tokens),c=(0,eb.xh)(a,e=>e.decimals),r=(0,Z.ZP)(e=>e.chainTimeOffset),d=(0,v.ZP)(e=>e.aprCalcMode),m=(0,s.useMemo)(()=>null==i?void 0:i.getApr({tokenPrices:o,tokenDecimals:c,timeBasis:n.toLowerCase(),planType:d,chainTimeOffsetMs:r}),[r,n,d]);return(0,l.jsxs)(ee.Z,{className:"items-center gap-2",children:[(0,l.jsx)("div",{className:"text-[#abc4ff80] text-sm font-medium mobile:text-xs",children:"APR"}),(0,l.jsx)(ew.T,{iconClassName:"opacity-50"}),(0,l.jsx)("div",{className:"text-white text-sm font-medium mobile:text-xs",children:(0,em.Z)(null==m?void 0:m.apr)}),(0,x.$u)(m.apr)&&(0,l.jsxs)(es.Z,{panelClassName:"p-0 rounded-xl",children:[(0,l.jsx)(ee.Z,{className:"items-center gap-2 mobile:gap-1 mt-1",children:m&&(0,l.jsx)(tm,{className:"w-28",aprValues:[m.fee.apr,...m.rewards.map(e=>e.apr)]})}),(0,l.jsx)(es.Z.Panel,{children:(0,l.jsx)("div",{className:"p-5",children:m&&(0,l.jsx)(ey.E,{type:"positionAccount",colCount:2,positionAccount:i})})})]})]})}function tp(e){let{token:t,tokenAmount:i,tokenPrice:s,suffix:n="",customIcon:o,customKey:c,customValue:r,className:d}=e;return(0,l.jsxs)(ee.Z,{className:(0,a.m)("py-2 gap-8 justify-between items-center font-medium text-[12px] ",d),children:[(0,l.jsxs)(ee.Z,{className:"flex items-center justify-start gap-[6px]",children:[o||(0,l.jsx)(E.Z,{token:t,size:"smi"}),(0,l.jsxs)("div",{className:" text-[#ABC4FF]",children:[c||(t?t.symbol:null)," ",n]})]}),(0,l.jsx)(ee.Z,{className:"flex justify-end gap-1",children:r||(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"text-white",children:i}),(0,l.jsxs)("div",{className:"text-[#ABC4FF]",children:["(",(0,ex.Z)(s),")"]})]})})]})}function tb(e){let{info:t,className:i}=e,s=(0,c.ZP)(e=>e.isMobile);return(0,v.ZP)(e=>e.timeBasis),(0,l.jsxs)(M.Z,{is:s?"Col":"Row",className:(0,a.m)("clickable flex-wrap items-center mobile:items-start",i),children:[(0,l.jsx)(z.Z,{className:"justify-self-center mr-2",size:s?"sm":"md",token1:null==t?void 0:t.base,token2:null==t?void 0:t.quote}),(0,l.jsx)(ee.Z,{className:"mobile:text-xs font-medium mobile:mt-px items-center flex-wrap gap-2",children:(0,l.jsxs)(D.Z,{children:[(0,l.jsxs)(ee.Z,{className:"items-center",children:[(0,l.jsx)("div",{children:null==t?void 0:t.name}),(0,l.jsxs)(es.Z,{children:[(0,l.jsx)(W.Z,{iconClassName:"ml-1",size:"sm",heroIconName:"information-circle"}),(0,l.jsx)(es.Z.Panel,{children:(0,l.jsx)("div",{className:"max-w-[300px] space-y-1.5",children:[null==t?void 0:t.base,null==t?void 0:t.quote].map((e,t)=>e?(0,l.jsxs)(ee.Z,{className:"gap-2",children:[(0,l.jsx)(E.Z,{size:"xs",token:e}),(0,l.jsx)(I.U,{className:"grow",showDigitCount:5,addressType:"token",canCopy:!0,canExternalLink:!0,textClassName:"flex text-xs text-[#abc4ff] justify-start ",iconClassName:"text-[#abc4ff]",children:(0,u.ZP)(e.mint)})]},t):null)})})]})]}),(0,l.jsxs)("div",{className:"font-medium text-xs text-[#ABC4FF]/50",children:["Fee ",(0,em.Z)(null==t?void 0:t.tradeFeeRate)]})]})})]})}function th(e){let{name:t,value:i,className:s}=e,n=(0,c.ZP)(e=>e.isMobile);return n?(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"mb-1 text-[rgba(171,196,255,0.5)] font-medium text-2xs",children:t}),(0,l.jsx)("div",{className:"text-xs",children:i||"--"})]}):(0,l.jsx)("div",{className:(0,a.m)("tablet:text-sm",s),children:i||"--"})}}},function(e){e.O(0,[4740,9916,6181,7571,8667,7664,4109,6347,3610,9774,2888,179],function(){return e(e.s=91902)}),_N_E=e.O()}]);