(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4520],{60506:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/create-market",function(){return n(12091)}])},32029:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var a=n(85893),l=n(67294),s=n(17097),i=n(51523),r=n(72573),o=n(31139),c=n(96398),d=n(62361),m=n(48162),u=n(82727),x=n(24608);function p(e){let{defaultValue:t,value:n,decimalCount:p=6,showArrowControls:h,showPlusMinusControls:b,minN:g=0,maxN:f,step:k=Number((1/10**Math.floor(p)).toFixed(p)),onInvalid:v,canNegative:N,onValid:j,skipAutoIncrease:S,skipAutoDecrease:Z,increaseFn:y,decreaseFn:C,prefix:w,prefixClassName:T,suffix:I,valueToStringOptions:P,debounceDelay:z=300,onUserInput:B,...M}=e,[R,O,_]=(0,d.$)(t);(0,c.L)(()=>{O(n)},[n]);let E={canNegativeLetter:/^[0-9-,.]$/,canNegativeRegexpString:"^[0-9-]*[.,]?[0-9]{0,".concat(p,"}$"),decimalRegexpString:"^[0-9]*[.,]?[0-9]{0,".concat(p,"}$"),decimalLetter:/^[0-9,.]$/},L=(0,l.useRef)(),D=B&&z?(0,x.Nr)(B,{debouncedOptions:{delay:z}}):B;(0,l.useEffect)(()=>{var e;let t=N?E.canNegativeLetter:E.decimalLetter,n=e=>{let n=e.key,a=n.length>1||t.test(n),l=e.ctrlKey||e.altKey;a||l||e.preventDefault()};return null===(e=L.current)||void 0===e||e.addEventListener("keydown",n,{capture:!0,passive:!1}),()=>{var e;null===(e=L.current)||void 0===e||e.removeEventListener("keydown",n,{capture:!0})}},[]);let F=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"user-input";(0,s.ve)(e)&&(O(e),null==D||D(e,{canSafelyCovertToNumber:Number(e)<Number.MAX_SAFE_INTEGER&&Number(e)>Number.MIN_SAFE_INTEGER,triggerBy:t}))},U=e=>{var t;let n=L.current;if(!n)return;null===(t=M.onDangerousValueChange)||void 0===t||t.call(M,e,n);let a=n.checkValidity();a&&(null==j||j()),a||null==v||v()},$=()=>{var e;let t=null!==(e=null==y?void 0:y((0,r.B)(_())))&&void 0!==e?e:(0,i.IH)((0,r.B)(_()),k),n=(0,i.uZ)(g,t,f),a=(0,r.B)(n);F(a,"increase-decrease"),U(a)},q=()=>{var e;let t=null!==(e=null==C?void 0:C((0,r.B)(_())))&&void 0!==e?e:(0,i.h9)((0,r.B)(_()),k),n=(0,i.uZ)(g,t,f),a=(0,r.B)(n);F(a,"increase-decrease"),U(a)};return(0,a.jsx)(u.Z,{inputMode:"decimal",inputHTMLProps:{pattern:N?E.canNegativeRegexpString:E.decimalRegexpString,inputMode:"decimal",min:String(g),max:f?String(f):void 0,step:k},...M,inputDomRef:(0,o.Z)(L,M.inputDomRef),pattern:new RegExp(N?E.canNegativeRegexpString:E.decimalRegexpString),value:R?(0,r.B)(R,P):"",defaultValue:(0,r.B)(t,P),onUserInput:e=>{F(e)},onDangerousValueChange:e=>{U(e)},prefix:w||(b?(0,a.jsx)(m.Z,{className:"text-light-blue clickable",heroIconName:"minus",size:"xs",onClick:q}):void 0),prefixClassName:T||"",suffix:I||(h?(0,a.jsxs)("div",{children:[(0,a.jsx)(m.Z,{className:"opacity-50 hover:opacity-100 clickable",heroIconName:"chevron-up",size:"xs",onClick:$,canLongClick:!0}),(0,a.jsx)(m.Z,{className:"opacity-50 hover:opacity-100 clickable",heroIconName:"chevron-down",size:"xs",onClick:q,canLongClick:!0})]}):b?(0,a.jsx)(m.Z,{className:"text-light-blue clickable",heroIconName:"plus",size:"xs",onClick:$}):void 0)})}},92618:function(e,t,n){"use strict";n.d(t,{Z:function(){return x}});var a=n(85893),l=n(91371),s=n(37012),i=n(31139),r=n(50352),o=n(27993),c=n(67294),d=n(66180),m=n(6994),u=n(36868);function x(e){let{componentRef:t,className:n,panelClassName:o,arrowClassName:x,children:h,forceOpen:b,placement:g="top",triggerBy:f,closeBy:k="click-outside-but-trigger",disable:v,defaultOpen:N,darkGradient:j=!1,autoClose:S,...Z}=e,y=(0,c.useRef)(),C=(0,c.useMemo)(()=>(0,r.kp)(h,p,e=>(0,s.Z)(e,{$isRenderByMain:!0,$popoverRef:y})),[h]),w=(0,l.ZP)(e=>e.isMobile);return(0,a.jsxs)(u.Z,{componentRef:(0,i.Z)(t,y),canOpen:!v,placement:w?"top":g,defaultOpen:N,triggerBy:null!=f?f:w?"click":"hover",forceOpen:b,className:n,triggerDelay:100,closeBy:k,closeDelay:100,autoClose:S,...Z,children:[(0,a.jsx)(u.Z.Button,{children:h}),(0,a.jsx)(u.Z.Panel,{children:e=>{let{locationInfo:t}=e;return(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:(0,d.m)("w-2 h-2 absolute bg-[#0C0926] rotate-45 -translate-x-1 -translate-y-1",j?"bg-[transparent]":"",x),style:t?{top:t.arrowTopRelativeToPanel,left:t.arrowLeftRelativeToPanel}:{visibility:"hidden"}}),(0,a.jsx)(m.Z,{className:(0,d.m)("TooltipPanel p-4 bg-[#0C0926] rounded-lg text-xs text-white",o),style:{background:j?"linear-gradient(140.14deg, rgba(0, 182, 191, 0.15) 0%, rgba(27, 22, 89, 0.1) 86.61%), linear-gradient(321.82deg, #18134D 0%, #1B1659 100%)":"default",border:j?"1px solid  rgba(171, 196, 255, 0.2)":"none"},children:C})]})}})]})}function p(e){var t;let{$isRenderByMain:n,$popoverRef:l,children:s,className:i}=e;return n?(0,a.jsx)("div",{className:i,children:(0,o.u)(s,[null!==(t=null==l?void 0:l.current)&&void 0!==t?t:{}])}):null}x.Panel=p},12091:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return T}});var a=n(85893),l=n(91371),s=n(72305),i=n(34003),r=n(3363),o=n(72573),c=n(79938),d=n(64529);let m=(0,d.Ue)(e=>({programId:(0,r.ZP)(s.krz.OPENBOOK_MARKET),minimumOrderSize:1,tickSize:.01}));var u=n(53002);let x=(0,c.Kb)(()=>async e=>{let{transactionCollector:t,baseUtils:{connection:n,owner:a}}=e,{programId:l,baseToken:d,quoteToken:x,minimumOrderSize:p,tickSize:h}=m.getState(),{txVersion:b}=u.Z.getState();(0,i.Z)(d,"please select a base token"),(0,i.Z)(x,"please select a quote token");let{innerTransactions:g,address:f}=await s._CO.makeCreateMarketInstructionSimple({connection:n,dexProgramId:(0,r.uI)(l),baseInfo:{mint:d.mint,decimals:d.decimals},quoteInfo:{mint:x.mint,decimals:x.decimals},lotSize:Number.parseFloat((0,o.B)(p)),tickSize:Number.parseFloat((0,o.B)(h)),wallet:a,makeTxVersion:b,lookupTableCache:c.eq});t.add(g,{txHistoryInfo:{title:"Create Market",description:"created new Market: ".concat((0,r.ZP)(f.marketId).slice(0,6),"...")},onTxAllSuccess(){m.setState({newCreatedMarketId:f.marketId})}})});var p=n(99522),h=n(43067),b=n(70745),g=n(54592),f=n(60421),k=n(48162),v=n(82727),N=n(42885),j=n(51800),S=n(92618),Z=n(4465),y=n(81451),C=n(87980),w=n(67294);function T(){return(0,a.jsxs)(N.Z,{mobileBarTitle:"Create Market",metaTitle:"Create Market - Raydium",contentButtonPaddingShorter:!0,children:[(0,a.jsx)("div",{className:"title text-2xl mobile:text-lg font-semibold justify-self-start text-white mb-4",children:"Create OpenBook Market"}),(0,a.jsx)(I,{})]})}function I(){let e=m(e=>e.programId),t=m(e=>e.baseToken),n=m(e=>e.quoteToken),s=m(e=>e.minimumOrderSize),i=m(e=>e.tickSize),r=m(e=>e.newCreatedMarketId),c=(0,l.ZP)(e=>e.isApprovePanelShown),d=(0,u.Z)(e=>e.connected);return(0,a.jsxs)(g.Z,{className:"gap-8 mx-auto w-[min(800px,100%)]",children:[(0,a.jsx)(P,{name:"OpenBook Program id",renderFormItem:(0,a.jsx)(v.Z,{disabled:!0,className:"pointer-events-none mobile:text-xs",value:e})}),(0,a.jsx)(P,{name:"Select tokens",renderFormItem:(0,a.jsxs)(f.Z,{className:"grid-cols-2 ".concat(r?"opacity-50 pointer-events-none":""," gap-4 mobile:gap-2"),children:[(0,a.jsx)(z,{title:"Base Token",tokenKey:"baseToken",onSelectToken:e=>{m.setState({baseToken:e}),(0,Z.aT)(e.mint,null==n?void 0:n.mint)&&m.setState({quoteToken:void 0})},token:t}),(0,a.jsx)(z,{title:"Quote Token",tokenKey:"quoteToken",onSelectToken:e=>{m.setState({quoteToken:e}),(0,Z.aT)(e.mint,null==t?void 0:t.mint)&&m.setState({baseToken:void 0})},token:n})]})}),(0,a.jsx)(P,{name:"Minimum order size",tooltip:"This is the smallest allowed order size. For a SOL/USDC market, this would be in units of SOL, a.k.a. the Lot size.",renderFormItem:(0,a.jsx)(v.Z,{disabled:!!r,className:"p-3 ".concat(r?"opacity-50 pointer-events-none":""," rounded-lg bg-[#141041]"),validators:{should:e=>(0,y.gt)(e,0)},value:(0,o.B)(s),onUserInput:e=>m.setState({minimumOrderSize:e})})}),(0,a.jsx)(P,{name:"Minimum price tick size",tooltip:"This is the smallest amount by which prices can move. For a SOL/USDC market, this would be in units of USDC, a.k.a. the price increment.",renderFormItem:(0,a.jsx)(v.Z,{disabled:!!r,className:"p-3 ".concat(r?"opacity-50 pointer-events-none":""," rounded-lg bg-[#141041]"),validators:{should:e=>(0,y.gt)(e,0)},value:(0,o.B)(i),onUserInput:e=>m.setState({tickSize:e})})}),r?(0,a.jsxs)(j.Z,{className:"w-min self-center gap-5 items-center",children:[(0,a.jsx)("div",{className:"text-xl mobile:text-base text-[#39d0d8] whitespace-nowrap",children:"Your new market id: "}),(0,a.jsx)(p.U,{textClassName:"text-lg text-[#fff]",showDigitCount:"all",canCopy:!0,children:r})]}):(0,a.jsx)(h.Z,{size:"lg",className:"w-full frosted-glass-teal mt-5",isLoading:c,validators:[{should:d,forceActive:!0,fallbackProps:{onClick:()=>l.ZP.setState({isWalletSelectorShown:!0}),children:"Connect Wallet"}},{should:t,fallbackProps:{children:"Select base token"}},{should:n,fallbackProps:{children:"Select base token"}},{should:(0,y.$u)(s)&&(0,y.gt)(s,0),fallbackProps:{children:"Should input valid minimum order size"}},{should:(0,y.$u)(i)&&(0,y.gt)(i,0),fallbackProps:{children:"Should input valid ticket size"}}],onClick:x,children:"Create Market"})]})}function P(e){let{name:t,tooltip:n,renderFormItem:s}=e;return(0,l.ZP)(e=>e.isMobile),(0,a.jsxs)(f.Z,{className:"grid-cols-[18em,1fr] mobile:grid-cols-1 gap-8 mobile:gap-4",children:[(0,a.jsxs)(j.Z,{className:"justify-self-end mobile:justify-self-start items-center",children:[(0,a.jsx)("div",{className:"text-lg mobile:text-sm text-[#abc4ff]",children:t}),n&&(0,a.jsxs)(S.Z,{panelClassName:"bg-[#3b4146]",arrowClassName:"bg-[#3b4146]",children:[(0,a.jsx)(k.Z,{size:"sm",heroIconName:"question-mark-circle",className:"mx-1 cursor-help text-[#abc4ff]"}),(0,a.jsx)(S.Z.Panel,{children:(0,a.jsx)("p",{className:"w-80",children:n})})]}),(0,a.jsx)("div",{className:"text-lg mobile:hidden text-[#abc4ff]",children:": "})]}),s]})}function z(e){var t;let{tokenKey:n,title:s,token:i,disableTokens:r,onSelectToken:o}=e,[c,d]=(0,w.useState)(!1),m=(0,l.ZP)(e=>e.isMobile);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(f.Z,{className:"grid items-center bg-[#141041] rounded-xl py-2 mobile:py-1.5 cursor-pointer px-3 mobile:px-2",onClick:()=>d(!0),children:i?(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs mobile:text-2xs text-[#abc4ff80] mb-1",children:s}),(0,a.jsxs)(j.Z,{className:"items-center gap-2 mobile:gap-1",children:[(0,a.jsx)(b.Z,{token:i,size:m?"sm":"md"}),(0,a.jsx)("div",{className:"text-[#abc4ff] font-medium text-lg mobile:text-sm",children:null!==(t=i.symbol)&&void 0!==t?t:""}),(0,a.jsx)(k.Z,{size:m?"xs":"sm",className:"text-[#abc4ff] ml-auto mr-4",heroIconName:"chevron-down"})]})]}):(0,a.jsxs)(j.Z,{className:"text-[#abc4ff80] text-center gap-1.5 items-center px-3 py-2",children:[(0,a.jsx)("div",{className:"text-base mobile:text-xs",children:s}),(0,a.jsx)(k.Z,{size:m?"xs":"sm",className:"text-[#abc4ff80] ml-auto mr-4",heroIconName:"chevron-down"})]})}),(0,a.jsx)(C.Z,{open:c,onClose:()=>{d(!1)},disableTokens:r,onSelectToken:e=>{null==o||o(e,n)}})]})}}},function(e){e.O(0,[4740,2885,2820,6133,4052,9774,2888,179],function(){return e(e.s=60506)}),_N_E=e.O()}]);