(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8879],{25062:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/staking",function(){return s(15959)}])},19390:function(e,t,s){"use strict";s.d(t,{Z:function(){return m}});var n=s(75640),l=s(8667),i=s(62707),r=s(34003),a=s(19036),o=s(71375),d=s(53002),c=s(49641);async function m(e,t){return(0,l.ZP)(async s=>{let{transactionCollector:l,baseUtils:{owner:m,connection:u}}=s,x=[];(0,r.Z)(m,"require connected wallet");let g=c.Z.getState().jsonInfos.find(t=>{let{id:s}=t;return String(s)===String(e.id)});(0,r.Z)(g,"Farm pool not found");let f=(0,a.R)(g),v=n.l6j.getAssociatedLedgerAccount({programId:f.programId,poolId:f.id,owner:m,version:f.version});if(!e.ledger&&g.version<6){let{innerTransaction:e}=n.l6j.makeCreateAssociatedLedgerAccountInstruction({poolKeys:f,userKeys:{owner:m,ledger:v}});x.push(e)}let{tokenAccountRawInfos:b}=d.Z.getState(),{innerTransactions:h}=await n.l6j.makeWithdrawInstructionSimple({connection:u,fetchPoolInfo:e.fetchedMultiInfo,ownerInfo:{feePayer:m,wallet:m,tokenAccounts:b},amount:(0,o.Z)(0)});x.push(...h);let p=(0,i.AX)(()=>{c.Z.getState().refreshFarmInfos()},{once:!0});l.add(x,{onTxError:()=>(0,i.Ce)(p),onTxSentError:()=>(0,i.Ce)(p),onTxSuccess:()=>{setTimeout(()=>{c.Z.getState().refreshFarmInfos()},300)},txHistoryInfo:{title:"Harvest ".concat(t.rewardAmounts.map(e=>{let{token:t}=e;return t.symbol}).join(", ")),description:"Harvest ".concat(t.rewardAmounts.map(e=>"".concat(e.toExact()," ").concat(e.token.symbol)).join(", "))}})})}},68186:function(e,t,s){"use strict";s.d(t,{Z:function(){return o}});var n=s(85893),l=s(16938),i=s(54592),r=s(60421),a=s(51800);function o(e){let{is:t,ColProps:s,RowProps:o,GridProps:d,...c}=e;return"Row"===t?(0,n.jsx)(a.Z,{...c,...o}):"Col"===t?(0,n.jsx)(i.Z,{...c,...s}):"Grid"===t?(0,n.jsx)(r.Z,{...c,...d}):"div"===t?(0,n.jsx)("div",{...(0,l.CE)(c,["domRef"]),ref:c.domRef}):(0,n.jsx)(n.Fragment,{children:c.children})}},88132:function(e,t,s){"use strict";s.d(t,{Z:function(){return o}});var n=s(85893),l=s(91371),i=s(67294),r=s(66180),a=s(6994);function o(e){var t;let{haveMinHeight:s,wrapperClassName:o,children:d,domRef:c,size:m="lg",cssGradientRotate:u,...x}=e,g=(0,l.ZP)(e=>e.isMobile),f=(0,i.useMemo)(()=>{var e,t,s;return(null===(e=x.style)||void 0===e?void 0:e.borderRadius)?"calc(".concat(x.style.borderRadius," + ").concat(1.2,"px)"):(null===(t=x.className)||void 0===t?void 0:t.match(/mobile:rounded-2xl/g))&&g||(null===(s=x.className)||void 0===s?void 0:s.match(/(^|\s)rounded-2xl($|\s)/))?17.2:"md"===m?7.2:21.2},[x.className,m,null===(t=x.style)||void 0===t?void 0:t.borderRadius,g]);return(0,n.jsx)("div",{ref:c,className:o,style:{"--gradient-rotate":null!=u?"".concat(u,"deg"):void 0,minHeight:s?"300px":void 0,borderRadius:f,padding:1.2,backgroundImage:"linear-gradient(var(--gradient-rotate, 246deg), #da2eef 7.97%, #2b6aff 49.17%, #39d0d8 92.1%)"},children:(0,n.jsx)(a.Z,{...x,size:m,className:(0,r.m)("bg-cyberpunk-card-bg overflow-hidden",x.className),style:{height:"100%",width:"100%"},children:d})})}},99645:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});var n=s(85893);function l(e){let{className:t}=e;return(0,n.jsxs)("div",{className:"lds-roller ".concat(null!=t?t:""," mobile:scale-75"),children:[(0,n.jsx)("div",{}),(0,n.jsx)("div",{}),(0,n.jsx)("div",{}),(0,n.jsx)("div",{}),(0,n.jsx)("div",{}),(0,n.jsx)("div",{}),(0,n.jsx)("div",{}),(0,n.jsx)("div",{})]})}},18074:function(e,t,s){"use strict";s.d(t,{Z:function(){return o}});var n=s(81451),l=s(51523),i=s(84207),r=s(72573),a=s(99881);function o(e,t){try{var s,o;let d=(0,i.Z)(null!=e?e:0),c=d.mul((null==t?void 0:t.alreadyPercented)?1:100).toFixed(null!==(s=null==t?void 0:t.fixed)&&void 0!==s?s:2);if((0,n.eq)(d,0))return"0%";if(!(null==t?void 0:t.exact)&&c===0..toFixed(null!==(o=null==t?void 0:t.fixed)&&void 0!==o?o:2))return(null==t?void 0:t.alwaysSigned)?"<+0.01%":"<0.01%";return(null==t?void 0:t.alwaysSigned)?"".concat((0,n.gt)(c,0)?"+":"-").concat((0,a.Z)((0,n.gt)(c,0)?(0,r.B)(c):(0,r.B)((0,l.dC)(c,-1))),"%"):"".concat((0,a.Z)(c,{fractionLength:null==t?void 0:t.fixed}),"%")}catch(e){return"0%"}}},15959:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return F}});var n=s(85893),l=s(75640),i=s(67294),r=s(66180),a=s(91371),o=s(19390),d=s(49641),c=s(65737),m=s(31166),u=s(53002),x=s(68186),g=s(43067),f=s(70745),v=s(54592),b=s(23484),h=s(88132),p=s(60421),j=s(48162),Z=s(99645),w=s(57571),N=s(33674),S=s(51800),k=s(99881),y=s(18074),P=s(62952),A=s(1758),R=s(95865),I=s(81451),C=s(51523),B=s(72573),L=s(60534);function F(){return(0,n.jsxs)(w.Z,{mobileBarTitle:"Staking",metaTitle:"Staking - Raydium",contentButtonPaddingShorter:!0,children:[(0,n.jsx)(M,{}),(0,n.jsx)(E,{})]})}function M(){let e=(0,d.Z)(e=>e.refreshFarmInfos);return(0,n.jsxs)(p.Z,{className:"grid-cols-[1fr,1fr] items-center gap-y-8 pb-4 pt-2",children:[(0,n.jsx)("div",{className:"title text-2xl mobile:text-lg font-semibold justify-self-start text-white",children:"Staking"}),(0,n.jsx)("div",{className:"justify-self-end",children:(0,n.jsx)(N.Z,{refreshKey:"staking",popPlacement:"left",className:"justify-self-end",freshFunction:e})})]})}function E(){let e=(0,d.Z)(e=>e.hydratedInfos),t=(0,i.useMemo)(()=>e.filter(e=>e.isStakePool),[e]);return t.length?(0,n.jsx)(h.Z,{children:(0,n.jsxs)(S.Z,{type:"grid",className:"gap-3 text-[#ABC4FF]",children:[t.map(e=>(0,n.jsx)("div",{children:(0,n.jsxs)(b.Z,{children:[(0,n.jsx)(b.Z.Face,{children:t=>{let{isOpen:s}=t;return(0,n.jsx)(_,{open:s,info:e})}}),(0,n.jsx)(b.Z.Body,{children:(0,n.jsx)(T,{hydratedInfo:e})})]})},String(e.id))),(0,n.jsx)(L.r,{})]})}):(0,n.jsx)(S.Z,{className:"text-center justify-center text-2xl p-12 opacity-50 text-[rgb(171,196,255)]",children:(0,n.jsx)(Z.Z,{})})}function _(e){var t,s,l,i,r,o,d;let{open:c,info:m}=e,u=(0,a.ZP)(e=>e.isMobile),x=(0,n.jsxs)(S.Z,{type:"grid-x",className:"py-5 px-8 mobile:py-4 mobile:px-5 gap-2 items-stretch grid-cols-[1.5fr,1fr,1fr,1fr,1fr,auto] mobile:grid-cols-[1fr,1fr,1fr,auto] rounded-t-3xl mobile:rounded-t-lg ".concat(c?"":"rounded-b-3xl mobile:rounded-b-lg"),children:[(0,n.jsx)(H,{info:m}),(0,n.jsx)(D,{name:"Pending Rewards",value:(0,n.jsx)("div",{children:m.rewards.map((e,t)=>{let{token:s,userPendingReward:l,userHavedReward:i}=e;return i&&(0,n.jsxs)("div",{children:[(0,B.B)(null!=l?l:0)," ",null==s?void 0:s.symbol]},t)})})}),(0,n.jsx)(D,{name:"Staked",value:m.base&&m.ledger?"".concat((0,B.B)((0,P.n)(m.base,m.ledger.deposited))," ").concat(null!==(i=null===(t=m.base)||void 0===t?void 0:t.symbol)&&void 0!==i?i:""):"0 ".concat(null!==(r=null===(s=m.base)||void 0===s?void 0:s.symbol)&&void 0!==r?r:"")}),(0,n.jsx)(D,{name:"APR",value:m.totalApr7d?(0,y.Z)(m.totalApr7d):"0%"}),(0,n.jsx)(D,{name:"Total Staked",value:m.tvl?"~".concat((0,R.Z)(m.tvl,{decimalPlace:0})):"--",subValue:m.stakedLpAmount&&"".concat((0,k.Z)((0,B.B)(m.stakedLpAmount,{decimalLength:0}))," ").concat(null!==(o=null===(l=m.base)||void 0===l?void 0:l.symbol)&&void 0!==o?o:"")}),(0,n.jsx)(p.Z,{className:"w-9 h-9 place-items-center self-center",children:(0,n.jsx)(j.Z,{size:"sm",className:"justify-self-end mr-1.5",heroIconName:"".concat(c?"chevron-up":"chevron-down")})})]}),g=(0,n.jsxs)(b.Z,{open:c,children:[(0,n.jsx)(b.Z.Face,{children:(0,n.jsxs)(S.Z,{type:"grid-x",className:"py-4 px-5 items-center gap-2 grid-cols-[1fr,1fr,1fr,auto] mobile:rounded-t-lg ".concat(c?"":"rounded-b-3xl mobile:rounded-b-lg"),children:[(0,n.jsx)(H,{info:m}),(0,n.jsx)(D,{name:"Pending Rewards",value:(0,n.jsx)("div",{children:m.rewards.map((e,t)=>{let{token:s,userPendingReward:l,userHavedReward:i}=e;return i&&(0,n.jsxs)("div",{children:[(0,B.B)(null!=l?l:0)," ",null!==(d=null==s?void 0:s.symbol)&&void 0!==d?d:""]},t)})})}),(0,n.jsx)(D,{name:"APR",value:m.totalApr7d?(0,y.Z)(m.totalApr7d):"--"}),(0,n.jsx)(p.Z,{className:"w-6 h-6 place-items-center",children:(0,n.jsx)(j.Z,{size:"sm",heroIconName:"".concat(c?"chevron-up":"chevron-down")})})]})}),(0,n.jsx)(b.Z.Body,{children:(0,n.jsxs)(S.Z,{type:"grid-x",className:"py-4 px-5 relative items-stretch gap-2 grid-cols-[1fr,1fr,1fr,auto]",children:[(0,n.jsx)("div",{className:"absolute top-0 left-5 right-5 border-[rgba(171,196,255,.2)] border-t-1.5"}),(0,n.jsx)(D,{name:"Staked",value:m.base&&m.ledger?(0,B.B)((0,P.n)(m.base,m.ledger.deposited)):"--"}),(0,n.jsx)(D,{name:"Total Staked",value:m.tvl?"â‰ˆ".concat((0,R.Z)(m.tvl,{autoSuffix:!0})):"--",subValue:m.stakedLpAmount&&"".concat((0,k.Z)((0,B.B)(m.stakedLpAmount,{decimalLength:0}))," RAY")}),(0,n.jsx)("div",{}),(0,n.jsx)(p.Z,{className:"w-6 h-6 place-items-center"})]})})]});return u?g:x}function T(e){var t,s,d,f,v;let{hydratedInfo:b}=e,h=(0,m.ZP)(e=>e.tokenPrices),p=(0,a.ZP)(e=>e.isMobile),Z=(0,u.Z)(e=>e.connected),w=(0,i.useMemo)(()=>(0,I.gt)(b.rewards.reduce((e,t)=>(0,C.IH)(e,null!==(d=t.userPendingReward)&&void 0!==d?d:l.xEJ),new l.iAi(l.xEJ)),l.xEJ),[b]),N=(0,a.ZP)(e=>e.isApprovePanelShown);return(0,n.jsxs)(x.Z,{is:p?"Col":"Row",className:"gap-8 mobile:gap-3 flex-grow px-8 py-5 mobile:px-4 mobile:py-3 bg-gradient-to-br from-[rgba(171,196,255,0.12)] to-[rgba(171,196,255,0.06)]  rounded-b-3xl mobile:rounded-b-lg",children:[(0,n.jsxs)(S.Z,{className:"p-6 mobile:py-3 mobile:px-4 flex-grow ring-inset ring-1.5 mobile:ring-1 ring-[rgba(171,196,255,.5)] rounded-3xl mobile:rounded-xl items-center gap-3",children:[(0,n.jsxs)("div",{className:"flex-grow",children:[(0,n.jsx)("div",{className:"text-[rgba(171,196,255,0.5)] font-medium text-sm mobile:text-2xs mb-1",children:"Deposited"}),(0,n.jsxs)("div",{className:"text-white font-medium text-base mobile:text-xs",children:[(0,k.Z)((0,B.B)(null!==(f=b.userStakedLpAmount)&&void 0!==f?f:0),{fractionLength:null===(t=b.userStakedLpAmount)||void 0===t?void 0:t.token.decimals})," ","RAY"]}),(0,n.jsx)("div",{className:"text-[rgba(171,196,255,0.5)] font-medium text-sm mobile:text-xs",children:h[String(b.lpMint)]&&b.userStakedLpAmount?(0,R.Z)((0,A.Z)(b.userStakedLpAmount,h[String(b.lpMint)])):"--"})]}),(0,n.jsx)(S.Z,{className:"gap-3",children:b.userHasStaked?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(g.Z,{className:"frosted-glass-teal mobile:px-6 mobile:py-2 mobile:text-xs",onClick:()=>{Z?c.Z.setState({isStakeDialogOpen:!0,stakeDialogMode:"deposit"}):a.ZP.setState({isWalletSelectorShown:!0})},children:"Stake"}),(0,n.jsx)(j.Z,{size:p?"sm":"smi",heroIconName:"minus",className:"grid place-items-center w-10 h-10 mobile:w-8 mobile:h-8 ring-inset ring-1.5 mobile:ring-1 ring-[rgba(171,196,255,.5)] rounded-xl mobile:rounded-lg text-[rgba(171,196,255,.5)] clickable clickable-filter-effect",onClick:()=>{Z?c.Z.setState({isStakeDialogOpen:!0,stakeDialogMode:"withdraw"}):a.ZP.setState({isWalletSelectorShown:!0})}})]}):(0,n.jsx)(g.Z,{className:"frosted-glass-teal mobile:py-2 mobile:text-xs",onClick:()=>{Z?c.Z.setState({isStakeDialogOpen:!0,stakeDialogMode:"deposit"}):a.ZP.setState({isWalletSelectorShown:!0})},children:Z?"Start Staking":"Connect Wallet"})})]}),(0,n.jsxs)(x.Z,{is:p?"Col":"Row",className:(0,r.m)("p-6 mobile:py-3 mobile:px-4 flex-grow ring-inset ring-1.5 mobile:ring-1 ring-[rgba(171,196,255,.5)] rounded-3xl mobile:rounded-xl items-center gap-3"),children:[(0,n.jsx)(S.Z,{className:"flex-grow divide-x-1.5 w-full",children:null===(s=b.rewards)||void 0===s?void 0:s.map((e,t)=>{var s,l,i;return e.userHavedReward&&(0,n.jsxs)("div",{className:"px-4 ".concat(0===t?"pl-0":""," ").concat(t===b.rewards.length-1?"pr-0":""," border-[rgba(171,196,255,.5)]"),children:[(0,n.jsx)("div",{className:"text-[rgba(171,196,255,0.5)] font-medium text-sm mobile:text-2xs mb-1",children:"Pending rewards"}),(0,n.jsxs)("div",{className:"text-white font-medium text-base mobile:text-xs",children:[(0,B.B)(null!==(v=e.userPendingReward)&&void 0!==v?v:0)," ",null===(s=e.token)||void 0===s?void 0:s.symbol]}),(0,n.jsx)("div",{className:"text-[rgba(171,196,255,0.5)] font-medium text-sm mobile:text-2xs",children:(null==h?void 0:h[String(null===(l=e.token)||void 0===l?void 0:l.mint)])&&(null==e?void 0:e.userPendingReward)?(0,R.Z)((0,A.Z)(e.userPendingReward,h[String(null===(i=e.token)||void 0===i?void 0:i.mint)])):"--"})]},t)})}),(0,n.jsx)(g.Z,{className:"frosted-glass frosted-glass-teal rounded-xl mobile:w-full mobile:py-2 mobile:text-xs whitespace-nowrap",isLoading:N,onClick:()=>{(0,o.Z)(b,{isStaking:!0,rewardAmounts:b.rewards.map(e=>{let{userPendingReward:t}=e;return t}).filter(I.$u)})},validators:[{should:Z,forceActive:!0,fallbackProps:{onClick:()=>a.ZP.setState({isWalletSelectorShown:!0}),children:"Connect Wallet"}},{should:w}],children:"Harvest"})]})]})}function H(e){let{info:t}=e,{base:s,name:l}=t,i=(0,a.ZP)(e=>e.isMobile);return(0,n.jsxs)(x.Z,{is:i?"Col":"Row",className:"clickable flex-wrap items-center mobile:items-start",children:[(0,n.jsx)(f.Z,{size:i?"sm":"md",token:s,className:"justify-self-center mr-2"}),(0,n.jsx)("div",{className:"mobile:text-xs font-medium mobile:mt-px mr-1.5",children:l})]})}function D(e){let{name:t,value:s,subValue:l,className:i}=e;return(0,n.jsxs)(v.Z,{className:(0,r.m)("w-max",i),children:[(0,n.jsx)("div",{className:"mb-1 text-[rgba(171,196,255,0.5)] font-medium text-sm mobile:text-2xs",children:t}),(0,n.jsxs)(v.Z,{className:"flex-grow justify-center",children:[(0,n.jsx)("div",{className:"text-base mobile:text-xs",children:s||"--"}),l&&(0,n.jsx)("div",{className:"text-sm mobile:text-2xs text-[rgba(171,196,255,0.5)]",children:l})]})]})}}},function(e){e.O(0,[4740,7571,8667,7664,4847,9774,2888,179],function(){return e(e.s=25062)}),_N_E=e.O()}]);