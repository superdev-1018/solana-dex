"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7664],{79162:function(e,t,n){n.d(t,{b:function(){return s}});var l=n(24029),i=n(3363),r=n(72305),a=n(19132),o=n(91148);let c=(0,l.U)({maxAgeMs:6e5});async function s(e){let{mints:t}=e,{connection:n}=a.ZP.getState();if(!n)return Promise.reject("connection is not ready");let l=[t].flat(),s=Object.fromEntries((0,o.Do)(l.map(e=>c.has((0,i.ZP)(e))?[(0,i.ZP)(e),c.get((0,i.ZP)(e))]:void 0))),d=l.filter(e=>!c.has((0,i.ZP)(e)));if(0===d.length)return u(s);{let e=(0,r.EXr)({connection:n,mints:l.map(e=>(0,i.uI)(e))});return d.forEach(t=>{c.set((0,i.ZP)(t),e.then(e=>e[(0,i.ZP)(t)]))}),Promise.all([e,u(s)]).then(e=>{let[t,n]=e;return{...n,...t}})}}function u(e){return Promise.all(Object.values(e)).then(t=>{let n={};for(let[l,i]of Object.keys(e).entries()){let e=t[l];n[i]=e}return n})}},83496:function(e,t,n){n.d(t,{w:function(){return d}});var l=n(3363),i=n(62952),r=n(17097),a=n(51523),o=n(72305),c=n(92867),s=n(79162),u=n(14200);async function d(e){let{amount:t,addFee:n,fetchedEpochInfo:l,fetchedMints:i}=e,a=()=>null!=i?i:(0,s.b)({mints:[t].flat().map(e=>e.token.mint)}),o=()=>null!=l?l:(0,c.$)();if((0,r.kJ)(t)){if(!(0,u.W)(t.map(e=>e.token)))return t.map(e=>({amount:e,pure:e}));let[e,l]=await Promise.all([o(),a()]);return m({amount:t,addFee:n,mintInfos:l,epochInfo:e})}{if(!(0,u.W)(t.token))return{amount:t,pure:t};let[e,l]=await Promise.all([o(),a()]);return m({amount:t,addFee:n,mintInfos:l,epochInfo:e})}}function m(e){let{amount:t,addFee:n,mintInfos:l,epochInfo:i}=e;return(0,r.kJ)(t)?t.map(e=>f({amount:e,addFee:n,mintInfos:l,epochInfo:i})):f({amount:t,addFee:n,mintInfos:l,epochInfo:i})}function f(e){var t;let{amount:n,addFee:r,mintInfos:c,epochInfo:s}=e,u=n.token.mint,d=null===(t=c[(0,l.ZP)(u)])||void 0===t?void 0:t.feeConfig,m=(0,o.bfS)(n.raw,d,s,!!r),f=(0,i.n)(n.token,m.amount),x=null!=m.fee?(0,i.n)(n.token,m.fee):void 0,v=(0,i.n)(n.token,(0,a.h9)(f,null!=x?x:0),{alreadyDecimaled:!0}),p={amount:f,fee:x,pure:v,expirationTime:m.expirationTime};return p}},97664:function(e,t,n){n.d(t,{Z:function(){return I}});var l=n(85893),i=n(67294),r=n(66180),a=n(91371),o=n(2148),c=n(42186),s=n(31166),u=n(53002),d=n(3363),m=n(62952),f=n(1758),x=n(95865),v=n(4465),p=n(17097),h=n(81451),g=n(51523),b=n(72573),Z=n(62361),k=n(83496),N=n(14200),j=n(99111),y=n(43067),w=n(70745),P=n(54592),R=n(32029),B=n(48162),C=n(51800),E=n(92618),S=n(11601);function I(e){var t,n,I,M;let{className:T,domRef:D,componentRef:L,style:$,disabled:F,renderDisabledMask:O,noDisableStyle:_,disabledInput:z,disableTokenSelect:V,value:A,token:W,onUserInput:H,onTryToTokenSelect:K,onTryToSwitchSOLWSOL:U,onInputAmountClampInBalanceChange:G,onEnter:J,onBlur:X,onPriceChange:q,onCustomMax:Q,topLeftLabel:Y,HTMLTitleTooltip:ee,topRightLabel:et,maxValue:en,hasPlaceholder:el,allowSOLWSOLSwitch:ei,hideTokenPart:er,hidePricePredictor:ea,hideMaxButton:eo,haveHalfButton:ec,haveCoinIcon:es,canFillFullBalance:eu,showTokenSelectIcon:ed,hideTransferFee:em,transferFeeOption:ef,onCalculateTransferFee:ex}=e,ev=F||z,ep=F||V,eh=(0,i.useRef)(!1),{connected:eg,getBalance:eb,tokenAccounts:eZ}=(0,u.Z)(),{lpPrices:ek}=(0,o.O)(),eN=(0,a.ZP)(e=>e.isMobile),ej=(0,s.ZP)(e=>e.tokenPrices),ey={...ek,...ej},[ew,eP,eR]=(0,Z.$)();(0,i.useEffect)(()=>{eh.current||eP(A)},[A]),(0,i.useEffect)(()=>{eh.current&&ew!==A&&(null==H||H(null!=ew?ew:""))},[ew]);let eB=null!==(t=null!=en?en:eb(W))&&void 0!==t?t:W?(()=>{let e=eZ.find(e=>(0,d.ZP)(e.mint)===(0,d.ZP)(null==W?void 0:W.mint));return e&&(0,m.n)(W,null==e?void 0:e.amount)})():void 0;(0,i.useEffect)(()=>{ew&&eB&&(null==G||G({negative:(0,h.lt)(ew,"0"),outOfMax:(0,h.gt)(ew,eB),inputedAmount:ew,maxValue:eB}))},[ew,eB]);let eC=(0,i.useRef)(null),eE=()=>{var e;return null===(e=eC.current)||void 0===e?void 0:e.focus()},eS=null!==(n=ey[(0,d.ZP)(null==W?void 0:W.mint)])&&void 0!==n?n:null,eI=(0,i.useMemo)(()=>{if(eS&&ew)return(0,f.Z)(ew,eS)},[ew,eS]);(0,i.useEffect)(()=>{null==q||q(eI)},[q,eI]);let eM=(0,i.useMemo)(()=>new RegExp("^(\\d*)(\\.\\d{0,".concat(null!==(I=null==W?void 0:W.decimals)&&void 0!==I?I:6,"})?$")),[W]);function eT(e){let t=eB;!eu&&(0,p.Vr)(eB)&&(0,c.$F)(eB.token)&&!(0,c.Ee)(eB.token)&&(t=(0,m.n)(eB.token,(0,h.eg)(eB,c.kn)?(0,g.lu)(eB,c.kn):0,{alreadyDecimaled:!0}));let n=(0,b.B)((0,g.dC)(t,e),{decimalLength:(0,p.Vr)(eB)?"auto ".concat(eB.token.decimals):void 0});null==H||H(n),eP(n),eh.current=!1}(0,i.useEffect)(()=>{var e,t,n;let l=eM.test(null!==(e=eR())&&void 0!==e?e:"");if(!l){let e=null===(t=eR())||void 0===t?void 0:t.match("^(\\d*)(\\.\\d{0,".concat(null!==(n=null==W?void 0:W.decimals)&&void 0!==n?n:6,"})?(\\d*)$")),[,l="",i=""]=null!=e?e:[];eP(l+i)}},[W,eM]),(0,i.useImperativeHandle)(L,()=>({focusInput:()=>{eE()},selectToken:()=>{null==K||K()}}));let eD=ep&&ei&&(0,v.aT)(null==W?void 0:W.mint,c.DA),eL=!em&&W&&(0,N.W)(W),e$=(0,j.Z)(()=>eL?(0,k.w)({amount:(0,m.n)(W,null!=ew?ew:"0",{alreadyDecimaled:!0}),addFee:null==ef?void 0:ef.addMode}):void 0,[W,ew,eL]);return(0,i.useEffect)(()=>{eL&&(null==ex||ex(null==e$?void 0:e$.fee))},[null==e$?void 0:e$.fee]),(0,l.jsxs)(C.Z,{className:(0,r.m)("relative flex-col bg-[#141041] cursor-text rounded-xl py-3 px-6 mobile:px-4 ".concat(F&&!_?"pointer-events-none-entirely cursor-default opacity-50":""),T),style:$,domRef:D,htmlPorps:{tabIndex:0},onClick:eE,children:[O&&F&&(0,l.jsx)("div",{className:"absolute inset-0",children:O}),(0,l.jsxs)(C.Z,{className:"justify-between mb-2",children:[(0,l.jsx)("div",{className:"text-xs mobile:text-2xs text-[rgba(171,196,255,.5)]",title:ee,children:Y}),(0,l.jsx)("div",{className:"text-xs mobile:text-2xs justify-self-end text-[rgba(171,196,255,.5)] ".concat(ev?"":"clickable no-clicable-transform-effect clickable-filter-effect"),onClick:()=>{ev||(Q?(Q(),eP("string"==typeof eB?eB:(0,b.B)(eB))):eT(1))},children:null!=et?et:"Balance: ".concat(eg?(0,b.B)(eB)||"--":"(Wallet not connected)")})]}),(0,l.jsxs)(C.Z,{className:"col-span-full items-center",children:[!er&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(C.Z,{className:"items-center gap-1.5 ".concat(ed&&!ep||eD?"clickable clickable-mask-offset-2":""),onClick:e=>{e.stopPropagation(),e.preventDefault(),eD&&(null==U||U()),ep||null==K||K()},htmlPorps:{title:eD?(0,c.Dn)(W)?"switch to WSOL":"switch to SOL":void 0},children:[es&&W&&(0,l.jsx)(w.Z,{token:W,size:eN?"smi":"md"}),(0,l.jsxs)(P.Z,{className:"items-start",children:[(0,l.jsx)("div",{className:"text-[rgb(171,196,255)] max-w-[7em] ".concat(W?"min-w-[2em]":""," overflow-hidden text-ellipsis font-medium text-base flex-grow mobile:text-sm whitespace-nowrap"),children:null!==(M=null==W?void 0:W.symbol)&&void 0!==M?M:"--"}),(0,N.W)(W)&&(0,l.jsx)(S.I,{pale:!0})]}),ed&&!ep&&(0,l.jsx)(B.Z,{size:"xs",heroIconName:"chevron-down",className:"text-[#ABC4FF]"})]}),(0,l.jsx)("div",{className:"my-1 mx-4 mobile:my-0 mobile:mx-2 border-r border-[rgba(171,196,255,0.5)] self-stretch"})]}),(0,l.jsxs)(C.Z,{className:"justify-between flex-grow-2",children:[(0,l.jsxs)(C.Z,{className:"gap-px items-center mr-2",children:[!eo&&(0,l.jsx)(y.Z,{disabled:ev,className:"py-0.5 px-1.5 rounded text-[rgba(171,196,255,.5)] font-bold bg-[#1B1659] bg-opacity-80 text-xs mobile:text-2xs transition",onClick:()=>{Q?(Q(),eP("string"==typeof eB?eB:(0,b.B)(eB))):eT(1)},children:"Max"}),ec&&(0,l.jsx)(y.Z,{disabled:ev,className:"py-0.5 px-1.5 rounded text-[rgba(171,196,255,.5)] font-bold bg-[#1B1659] bg-opacity-80 text-xs mobile:text-2xs transition",onClick:()=>{eT(.5)},children:"Half"})]}),(0,l.jsx)(R.Z,{className:"font-medium text-lg text-white flex-grow w-full",disabled:ev,decimalCount:null==W?void 0:W.decimals,componentRef:eC,placeholder:el?"0.0":void 0,value:ew,onUserInput:e=>{eP(String(e||""))},onEnter:J,inputClassName:"text-right mobile:text-sm font-medium text-white",onBlur:e=>{eh.current=!1,null==X||X(e||void 0)},onFocus:()=>{eh.current=!0}})]})]}),(0,l.jsxs)(C.Z,{className:"items-center gap-2 justify-end text-xs mobile:text-2xs text-[rgba(171,196,255,.5)] ",children:[e$&&(0,l.jsxs)(C.Z,{className:"items-center gap-0.5",children:[(0,l.jsx)("div",{children:"Transfer fee"}),(0,l.jsxs)(E.Z,{children:[(0,l.jsx)(B.Z,{size:"xs",heroIconName:"information-circle"}),(0,l.jsx)(E.Z.Panel,{children:(0,l.jsx)("div",{className:"max-w-[300px] space-y-1.5",children:"This token uses the Token-2022 program and includes a transfer fee set by the token creator. These are the final deposit amounts for the position and the transfer fee."})})]}),(0,l.jsx)("div",{children:":"}),(0,l.jsx)("div",{children:(0,b.B)(e$.fee)})]}),e$&&!ea&&(0,l.jsx)("div",{children:"|"}),!ea&&(0,l.jsx)("div",{className:"".concat(ew&&"0"!==ew?"":"invisible"," text-ellipsis overflow-hidden text-right"),children:eI?(0,x.Z)(eI):"--"})]})]})}},32029:function(e,t,n){n.d(t,{Z:function(){return x}});var l=n(85893),i=n(67294),r=n(17097),a=n(51523),o=n(72573),c=n(31139),s=n(96398),u=n(62361),d=n(48162),m=n(82727),f=n(24608);function x(e){let{defaultValue:t,value:n,decimalCount:x=6,showArrowControls:v,showPlusMinusControls:p,minN:h=0,maxN:g,step:b=Number((1/10**Math.floor(x)).toFixed(x)),onInvalid:Z,canNegative:k,onValid:N,skipAutoIncrease:j,skipAutoDecrease:y,increaseFn:w,decreaseFn:P,prefix:R,prefixClassName:B,suffix:C,valueToStringOptions:E,debounceDelay:S=300,onUserInput:I,...M}=e,[T,D,L]=(0,u.$)(t);(0,s.L)(()=>{D(n)},[n]);let $={canNegativeLetter:/^[0-9-,.]$/,canNegativeRegexpString:"^[0-9-]*[.,]?[0-9]{0,".concat(x,"}$"),decimalRegexpString:"^[0-9]*[.,]?[0-9]{0,".concat(x,"}$"),decimalLetter:/^[0-9,.]$/},F=(0,i.useRef)(),O=I&&S?(0,f.Nr)(I,{debouncedOptions:{delay:S}}):I;(0,i.useEffect)(()=>{var e;let t=k?$.canNegativeLetter:$.decimalLetter,n=e=>{let n=e.key,l=n.length>1||t.test(n),i=e.ctrlKey||e.altKey;l||i||e.preventDefault()};return null===(e=F.current)||void 0===e||e.addEventListener("keydown",n,{capture:!0,passive:!1}),()=>{var e;null===(e=F.current)||void 0===e||e.removeEventListener("keydown",n,{capture:!0})}},[]);let _=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"user-input";(0,r.ve)(e)&&(D(e),null==O||O(e,{canSafelyCovertToNumber:Number(e)<Number.MAX_SAFE_INTEGER&&Number(e)>Number.MIN_SAFE_INTEGER,triggerBy:t}))},z=e=>{var t;let n=F.current;if(!n)return;null===(t=M.onDangerousValueChange)||void 0===t||t.call(M,e,n);let l=n.checkValidity();l&&(null==N||N()),l||null==Z||Z()},V=()=>{var e;let t=null!==(e=null==w?void 0:w((0,o.B)(L())))&&void 0!==e?e:(0,a.IH)((0,o.B)(L()),b),n=(0,a.uZ)(h,t,g),l=(0,o.B)(n);_(l,"increase-decrease"),z(l)},A=()=>{var e;let t=null!==(e=null==P?void 0:P((0,o.B)(L())))&&void 0!==e?e:(0,a.h9)((0,o.B)(L()),b),n=(0,a.uZ)(h,t,g),l=(0,o.B)(n);_(l,"increase-decrease"),z(l)};return(0,l.jsx)(m.Z,{inputMode:"decimal",inputHTMLProps:{pattern:k?$.canNegativeRegexpString:$.decimalRegexpString,inputMode:"decimal",min:String(h),max:g?String(g):void 0,step:b},...M,inputDomRef:(0,c.Z)(F,M.inputDomRef),pattern:new RegExp(k?$.canNegativeRegexpString:$.decimalRegexpString),value:T?(0,o.B)(T,E):"",defaultValue:(0,o.B)(t,E),onUserInput:e=>{_(e)},onDangerousValueChange:e=>{z(e)},prefix:R||(p?(0,l.jsx)(d.Z,{className:"text-light-blue clickable",heroIconName:"minus",size:"xs",onClick:A}):void 0),prefixClassName:B||"",suffix:C||(v?(0,l.jsxs)("div",{children:[(0,l.jsx)(d.Z,{className:"opacity-50 hover:opacity-100 clickable",heroIconName:"chevron-up",size:"xs",onClick:V,canLongClick:!0}),(0,l.jsx)(d.Z,{className:"opacity-50 hover:opacity-100 clickable",heroIconName:"chevron-down",size:"xs",onClick:A,canLongClick:!0})]}):p?(0,l.jsx)(d.Z,{className:"text-light-blue clickable",heroIconName:"plus",size:"xs",onClick:V}):void 0)})}},92618:function(e,t,n){n.d(t,{Z:function(){return f}});var l=n(85893),i=n(91371),r=n(37012),a=n(31139),o=n(50352),c=n(27993),s=n(67294),u=n(66180),d=n(6994),m=n(36868);function f(e){let{componentRef:t,className:n,panelClassName:c,arrowClassName:f,children:v,forceOpen:p,placement:h="top",triggerBy:g,closeBy:b="click-outside-but-trigger",disable:Z,defaultOpen:k,darkGradient:N=!1,autoClose:j,...y}=e,w=(0,s.useRef)(),P=(0,s.useMemo)(()=>(0,o.kp)(v,x,e=>(0,r.Z)(e,{$isRenderByMain:!0,$popoverRef:w})),[v]),R=(0,i.ZP)(e=>e.isMobile);return(0,l.jsxs)(m.Z,{componentRef:(0,a.Z)(t,w),canOpen:!Z,placement:R?"top":h,defaultOpen:k,triggerBy:null!=g?g:R?"click":"hover",forceOpen:p,className:n,triggerDelay:100,closeBy:b,closeDelay:100,autoClose:j,...y,children:[(0,l.jsx)(m.Z.Button,{children:v}),(0,l.jsx)(m.Z.Panel,{children:e=>{let{locationInfo:t}=e;return(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)("div",{className:(0,u.m)("w-2 h-2 absolute bg-[#0C0926] rotate-45 -translate-x-1 -translate-y-1",N?"bg-[transparent]":"",f),style:t?{top:t.arrowTopRelativeToPanel,left:t.arrowLeftRelativeToPanel}:{visibility:"hidden"}}),(0,l.jsx)(d.Z,{className:(0,u.m)("TooltipPanel p-4 bg-[#0C0926] rounded-lg text-xs text-white",c),style:{background:N?"linear-gradient(140.14deg, rgba(0, 182, 191, 0.15) 0%, rgba(27, 22, 89, 0.1) 86.61%), linear-gradient(321.82deg, #18134D 0%, #1B1659 100%)":"default",border:N?"1px solid  rgba(171, 196, 255, 0.2)":"none"},children:P})]})}})]})}function x(e){var t;let{$isRenderByMain:n,$popoverRef:i,children:r,className:a}=e;return n?(0,l.jsx)("div",{className:a,children:(0,c.u)(r,[null!==(t=null==i?void 0:i.current)&&void 0!==t?t:{}])}):null}f.Panel=x},14033:function(e,t,n){n.d(t,{S:function(){return r}});var l=n(99881),i=n(84207);function r(e,t){var n;let r=e=>(0,l.Z)(e.toFixed(null!==(n=null==t?void 0:t.decimalPlace)&&void 0!==n?n:2,null==t?void 0:t.format,null==t?void 0:t.rounding),{fractionLength:"auto",...t}),a=(0,i.Z)(e);try{let e=a.toFixed(0),n=e.length;if(!(null==t?void 0:t.disabled)&&n>9)return"".concat(r(a.div(1e9)),"B");if(!(null==t?void 0:t.disabled)&&n>6)return"".concat(r(a.div(1e6)),"M");if(!(null==t?void 0:t.disabled)&&n>3)return"".concat(r(a.div(1e3)),"K");return"".concat(r(a))}catch(e){return"0"}}},99881:function(e,t,n){n.d(t,{Z:function(){return i}});var l=n(72573);function i(e){let{groupSeparator:t=",",fractionLength:n=2,groupSize:i=3}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return void 0===e?"0":[e=>(0,l.B)(e),e=>"auto"===n?e:function(e,t){var n;let[,l="",i="",r=""]=null!==(n=e.match(/(-?)(\d*)\.?(\d*)/))&&void 0!==n?n:[];return r?r.length<t?String(e):Number(e).toFixed(t):String(e)}(e,n),e=>{var n;let[,l="",r="",a=""]=null!==(n=e.match(/(-?)(\d*)\.?(\d*)/))&&void 0!==n?n:[],o=[...r].reduceRight((e,n,l,r)=>{let a=r.length-1-l;return n+(0!==a&&a%i==0?t:"")+e},"");return a?"".concat(l).concat(o,".").concat(a):"".concat(l).concat(o)}].reduce((e,t)=>t(e),e)}},95865:function(e,t,n){n.d(t,{Z:function(){return i}});var l=n(14033);function i(e,t){return e?"$".concat((0,l.S)(e,{...t,disabled:!(null==t?void 0:t.autoSuffix)})):"$0"}},99111:function(e,t,n){n.d(t,{Z:function(){return a}});var l=n(67294),i=n(27993),r=n(26842);function a(e,t,n){let[a,o]=(0,l.useState)(n),c=(0,l.useRef)(0),s=(0,l.useRef)(0);return(0,r.Z)(async()=>{let t=s.current;s.current+=1,c.current=t;let n=await (0,i.u)(e);return t==c.current?o(n):void 0},null!=t?t:[]),a}}}]);